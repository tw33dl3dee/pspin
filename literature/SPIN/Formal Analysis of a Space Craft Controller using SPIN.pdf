%!PS-Adobe-2.0
%%Creator: dvipsk 5.58f Copyright 1986, 1994 Radical Eye Software
%%Title: main.dvi
%%Pages: 21
%%PageOrder: Ascend
%%BoundingBox: 0 0 612 792
%%DocumentFonts: Times-Bold Times-Roman Times-Italic Helvetica-Bold
%%+ Courier
%%DocumentPaperSizes: Letter
%%EndComments
%DVIPSCommandLine: dvips -o main.ps main
%DVIPSParameters: dpi=600, comments removed
%DVIPSSource:  TeX output 1998.08.20:2054
%%BeginProcSet: tex.pro
/TeXDict 250 dict def TeXDict begin /N{def}def /B{bind def}N /S{exch}N
/X{S N}B /TR{translate}N /isls false N /vsize 11 72 mul N /hsize 8.5 72
mul N /landplus90{false}def /@rigin{isls{[0 landplus90{1 -1}{-1 1}
ifelse 0 0 0]concat}if 72 Resolution div 72 VResolution div neg scale
isls{landplus90{VResolution 72 div vsize mul 0 exch}{Resolution -72 div
hsize mul 0}ifelse TR}if Resolution VResolution vsize -72 div 1 add mul
TR[matrix currentmatrix{dup dup round sub abs 0.00001 lt{round}if}
forall round exch round exch]setmatrix}N /@landscape{/isls true N}B
/@manualfeed{statusdict /manualfeed true put}B /@copies{/#copies X}B
/FMat[1 0 0 -1 0 0]N /FBB[0 0 0 0]N /nn 0 N /IE 0 N /ctr 0 N /df-tail{
/nn 8 dict N nn begin /FontType 3 N /FontMatrix fntrx N /FontBBox FBB N
string /base X array /BitMaps X /BuildChar{CharBuilder}N /Encoding IE N
end dup{/foo setfont}2 array copy cvx N load 0 nn put /ctr 0 N[}B /df{
/sf 1 N /fntrx FMat N df-tail}B /dfs{div /sf X /fntrx[sf 0 0 sf neg 0 0]
N df-tail}B /E{pop nn dup definefont setfont}B /ch-width{ch-data dup
length 5 sub get}B /ch-height{ch-data dup length 4 sub get}B /ch-xoff{
128 ch-data dup length 3 sub get sub}B /ch-yoff{ch-data dup length 2 sub
get 127 sub}B /ch-dx{ch-data dup length 1 sub get}B /ch-image{ch-data
dup type /stringtype ne{ctr get /ctr ctr 1 add N}if}B /id 0 N /rw 0 N
/rc 0 N /gp 0 N /cp 0 N /G 0 N /sf 0 N /CharBuilder{save 3 1 roll S dup
/base get 2 index get S /BitMaps get S get /ch-data X pop /ctr 0 N ch-dx
0 ch-xoff ch-yoff ch-height sub ch-xoff ch-width add ch-yoff
setcachedevice ch-width ch-height true[1 0 0 -1 -.1 ch-xoff sub ch-yoff
.1 sub]{ch-image}imagemask restore}B /D{/cc X dup type /stringtype ne{]}
if nn /base get cc ctr put nn /BitMaps get S ctr S sf 1 ne{dup dup
length 1 sub dup 2 index S get sf div put}if put /ctr ctr 1 add N}B /I{
cc 1 add D}B /bop{userdict /bop-hook known{bop-hook}if /SI save N @rigin
0 0 moveto /V matrix currentmatrix dup 1 get dup mul exch 0 get dup mul
add .99 lt{/QV}{/RV}ifelse load def pop pop}N /eop{SI restore userdict
/eop-hook known{eop-hook}if showpage}N /@start{userdict /start-hook
known{start-hook}if pop /VResolution X /Resolution X 1000 div /DVImag X
/IE 256 array N 0 1 255{IE S 1 string dup 0 3 index put cvn put}for
65781.76 div /vsize X 65781.76 div /hsize X}N /p{show}N /RMat[1 0 0 -1 0
0]N /BDot 260 string N /rulex 0 N /ruley 0 N /v{/ruley X /rulex X V}B /V
{}B /RV statusdict begin /product where{pop product dup length 7 ge{0 7
getinterval dup(Display)eq exch 0 4 getinterval(NeXT)eq or}{pop false}
ifelse}{false}ifelse end{{gsave TR -.1 .1 TR 1 1 scale rulex ruley false
RMat{BDot}imagemask grestore}}{{gsave TR -.1 .1 TR rulex ruley scale 1 1
false RMat{BDot}imagemask grestore}}ifelse B /QV{gsave newpath transform
round exch round exch itransform moveto rulex 0 rlineto 0 ruley neg
rlineto rulex neg 0 rlineto fill grestore}B /a{moveto}B /delta 0 N /tail
{dup /delta X 0 rmoveto}B /M{S p delta add tail}B /b{S p tail}B /c{-4 M}
B /d{-3 M}B /e{-2 M}B /f{-1 M}B /g{0 M}B /h{1 M}B /i{2 M}B /j{3 M}B /k{
4 M}B /w{0 rmoveto}B /l{p -4 w}B /m{p -3 w}B /n{p -2 w}B /o{p -1 w}B /q{
p 1 w}B /r{p 2 w}B /s{p 3 w}B /t{p 4 w}B /x{0 S rmoveto}B /y{3 2 roll p
a}B /bos{/SS save N}B /eos{SS restore}B end
%%EndProcSet
%%BeginFont: Times-Bold
% @@psencodingfile@{
%   author = "S. Rahtz, P. MacKay, Alan Jeffrey, B. Horn, K. Berry",
%   version = "0.6",
%   date = "22 June 1996",
%   filename = "8r.enc",
%   email = "kb@@mail.tug.org",
%   address = "135 Center Hill Rd. // Plymouth, MA 02360",
%   codetable = "ISO/ASCII",
%   checksum = "119     662    4424",
%   docstring = "Encoding for TrueType or Type 1 fonts to be used with TeX."
% @}
% 
% Idea is to have all the characters normally included in Type 1 fonts
% available for typesetting. This is effectively the characters in Adobe
% Standard Encoding + ISO Latin 1 + extra characters from Lucida.
% 
% Character code assignments were made as follows:
% 
% (1) the Windows ANSI characters are almost all in their Windows ANSI
% positions, because some Windows users cannot easily reencode the
% fonts, and it makes no difference on other systems. The only Windows
% ANSI characters not available are those that make no sense for
% typesetting -- rubout (127 decimal), nobreakspace (160), softhyphen
% (173). quotesingle and grave are moved just because it's such an
% irritation not having them in TeX positions.
% 
% (2) Remaining characters are assigned arbitrarily to the lower part
% of the range, avoiding 0, 10 and 13 in case we meet dumb software.
% 
% (3) Y&Y Lucida Bright includes some extra text characters; in the
% hopes that other PostScript fonts, perhaps created for public
% consumption, will include them, they are included starting at 0x12.
% 
% (4) Remaining positions left undefined are for use in (hopefully)
% upward-compatible revisions, if someday more characters are generally
% available.
% 
% (5) hyphen appears twice for compatibility with both ASCII and Windows.
% 
/TeXBase1Encoding [
% 0x00 (encoded characters from Adobe Standard not in Windows 3.1)
  /.notdef /dotaccent /fi /fl
  /fraction /hungarumlaut /Lslash /lslash
  /ogonek /ring /.notdef
  /breve /minus /.notdef 
% These are the only two remaining unencoded characters, so may as
% well include them.
  /Zcaron /zcaron 
% 0x10
 /caron /dotlessi 
% (unusual TeX characters available in, e.g., Lucida Bright)
 /dotlessj /ff /ffi /ffl 
 /.notdef /.notdef /.notdef /.notdef
 /.notdef /.notdef /.notdef /.notdef
 % very contentious; it's so painful not having quoteleft and quoteright
 % at 96 and 145 that we move the things normally found there down to here.
 /grave /quotesingle 
% 0x20 (ASCII begins)
 /space /exclam /quotedbl /numbersign
 /dollar /percent /ampersand /quoteright
 /parenleft /parenright /asterisk /plus /comma /hyphen /period /slash
% 0x30
 /zero /one /two /three /four /five /six /seven
 /eight /nine /colon /semicolon /less /equal /greater /question
% 0x40
 /at /A /B /C /D /E /F /G /H /I /J /K /L /M /N /O
% 0x50
 /P /Q /R /S /T /U /V /W
 /X /Y /Z /bracketleft /backslash /bracketright /asciicircum /underscore
% 0x60
 /quoteleft /a /b /c /d /e /f /g /h /i /j /k /l /m /n /o
% 0x70
 /p /q /r /s /t /u /v /w
 /x /y /z /braceleft /bar /braceright /asciitilde
 /.notdef % rubout; ASCII ends
% 0x80
 /.notdef /.notdef /quotesinglbase /florin
 /quotedblbase /ellipsis /dagger /daggerdbl
 /circumflex /perthousand /Scaron /guilsinglleft
 /OE /.notdef /.notdef /.notdef
% 0x90
 /.notdef /.notdef /.notdef /quotedblleft
 /quotedblright /bullet /endash /emdash
 /tilde /trademark /scaron /guilsinglright
 /oe /.notdef /.notdef /Ydieresis
% 0xA0
 /.notdef % nobreakspace
 /exclamdown /cent /sterling
 /currency /yen /brokenbar /section
 /dieresis /copyright /ordfeminine /guillemotleft
 /logicalnot
 /hyphen % Y&Y (also at 45); Windows' softhyphen
 /registered
 /macron
% 0xD0
 /degree /plusminus /twosuperior /threesuperior
 /acute /mu /paragraph /periodcentered
 /cedilla /onesuperior /ordmasculine /guillemotright
 /onequarter /onehalf /threequarters /questiondown
% 0xC0
 /Agrave /Aacute /Acircumflex /Atilde /Adieresis /Aring /AE /Ccedilla
 /Egrave /Eacute /Ecircumflex /Edieresis
 /Igrave /Iacute /Icircumflex /Idieresis
% 0xD0
 /Eth /Ntilde /Ograve /Oacute
 /Ocircumflex /Otilde /Odieresis /multiply
 /Oslash /Ugrave /Uacute /Ucircumflex
 /Udieresis /Yacute /Thorn /germandbls
% 0xE0
 /agrave /aacute /acircumflex /atilde
 /adieresis /aring /ae /ccedilla
 /egrave /eacute /ecircumflex /edieresis
 /igrave /iacute /icircumflex /idieresis
% 0xF0
 /eth /ntilde /ograve /oacute
 /ocircumflex /otilde /odieresis /divide
 /oslash /ugrave /uacute /ucircumflex
 /udieresis /yacute /thorn /ydieresis
] def
%%EndFont
%%BeginProcSet: texps.pro
TeXDict begin /rf{findfont dup length 1 add dict begin{1 index /FID ne 2
index /UniqueID ne and{def}{pop pop}ifelse}forall[1 index 0 6 -1 roll
exec 0 exch 5 -1 roll VResolution Resolution div mul neg 0 0]/Metrics
exch def dict begin Encoding{exch dup type /integertype ne{pop pop 1 sub
dup 0 le{pop}{[}ifelse}{FontMatrix 0 get div Metrics 0 get div def}
ifelse}forall Metrics /Metrics currentdict end def[2 index currentdict
end definefont 3 -1 roll makefont /setfont load]cvx def}def
/ObliqueSlant{dup sin S cos div neg}B /SlantFont{4 index mul add}def
/ExtendFont{3 -1 roll mul exch}def /ReEncodeFont{/Encoding exch def}def
end
%%EndProcSet
%%BeginProcSet: special.pro
TeXDict begin /SDict 200 dict N SDict begin /@SpecialDefaults{/hs 612 N
/vs 792 N /ho 0 N /vo 0 N /hsc 1 N /vsc 1 N /ang 0 N /CLIP 0 N /rwiSeen
false N /rhiSeen false N /letter{}N /note{}N /a4{}N /legal{}N}B
/@scaleunit 100 N /@hscale{@scaleunit div /hsc X}B /@vscale{@scaleunit
div /vsc X}B /@hsize{/hs X /CLIP 1 N}B /@vsize{/vs X /CLIP 1 N}B /@clip{
/CLIP 2 N}B /@hoffset{/ho X}B /@voffset{/vo X}B /@angle{/ang X}B /@rwi{
10 div /rwi X /rwiSeen true N}B /@rhi{10 div /rhi X /rhiSeen true N}B
/@llx{/llx X}B /@lly{/lly X}B /@urx{/urx X}B /@ury{/ury X}B /magscale
true def end /@MacSetUp{userdict /md known{userdict /md get type
/dicttype eq{userdict begin md length 10 add md maxlength ge{/md md dup
length 20 add dict copy def}if end md begin /letter{}N /note{}N /legal{}
N /od{txpose 1 0 mtx defaultmatrix dtransform S atan/pa X newpath
clippath mark{transform{itransform moveto}}{transform{itransform lineto}
}{6 -2 roll transform 6 -2 roll transform 6 -2 roll transform{
itransform 6 2 roll itransform 6 2 roll itransform 6 2 roll curveto}}{{
closepath}}pathforall newpath counttomark array astore /gc xdf pop ct 39
0 put 10 fz 0 fs 2 F/|______Courier fnt invertflag{PaintBlack}if}N
/txpose{pxs pys scale ppr aload pop por{noflips{pop S neg S TR pop 1 -1
scale}if xflip yflip and{pop S neg S TR 180 rotate 1 -1 scale ppr 3 get
ppr 1 get neg sub neg ppr 2 get ppr 0 get neg sub neg TR}if xflip yflip
not and{pop S neg S TR pop 180 rotate ppr 3 get ppr 1 get neg sub neg 0
TR}if yflip xflip not and{ppr 1 get neg ppr 0 get neg TR}if}{noflips{TR
pop pop 270 rotate 1 -1 scale}if xflip yflip and{TR pop pop 90 rotate 1
-1 scale ppr 3 get ppr 1 get neg sub neg ppr 2 get ppr 0 get neg sub neg
TR}if xflip yflip not and{TR pop pop 90 rotate ppr 3 get ppr 1 get neg
sub neg 0 TR}if yflip xflip not and{TR pop pop 270 rotate ppr 2 get ppr
0 get neg sub neg 0 S TR}if}ifelse scaleby96{ppr aload pop 4 -1 roll add
2 div 3 1 roll add 2 div 2 copy TR .96 dup scale neg S neg S TR}if}N /cp
{pop pop showpage pm restore}N end}if}if}N /normalscale{Resolution 72
div VResolution 72 div neg scale magscale{DVImag dup scale}if 0 setgray}
N /psfts{S 65781.76 div N}N /startTexFig{/psf$SavedState save N userdict
maxlength dict begin /magscale true def normalscale currentpoint TR
/psf$ury psfts /psf$urx psfts /psf$lly psfts /psf$llx psfts /psf$y psfts
/psf$x psfts currentpoint /psf$cy X /psf$cx X /psf$sx psf$x psf$urx
psf$llx sub div N /psf$sy psf$y psf$ury psf$lly sub div N psf$sx psf$sy
scale psf$cx psf$sx div psf$llx sub psf$cy psf$sy div psf$ury sub TR
/showpage{}N /erasepage{}N /copypage{}N /p 3 def @MacSetUp}N /doclip{
psf$llx psf$lly psf$urx psf$ury currentpoint 6 2 roll newpath 4 copy 4 2
roll moveto 6 -1 roll S lineto S lineto S lineto closepath clip newpath
moveto}N /endTexFig{end psf$SavedState restore}N /@beginspecial{SDict
begin /SpecialSave save N gsave normalscale currentpoint TR
@SpecialDefaults count /ocount X /dcount countdictstack N}N /@setspecial
{CLIP 1 eq{newpath 0 0 moveto hs 0 rlineto 0 vs rlineto hs neg 0 rlineto
closepath clip}if ho vo TR hsc vsc scale ang rotate rwiSeen{rwi urx llx
sub div rhiSeen{rhi ury lly sub div}{dup}ifelse scale llx neg lly neg TR
}{rhiSeen{rhi ury lly sub div dup scale llx neg lly neg TR}if}ifelse
CLIP 2 eq{newpath llx lly moveto urx lly lineto urx ury lineto llx ury
lineto closepath clip}if /showpage{}N /erasepage{}N /copypage{}N newpath
}N /@endspecial{count ocount sub{pop}repeat countdictstack dcount sub{
end}repeat grestore SpecialSave restore end}N /@defspecial{SDict begin}
N /@fedspecial{end}B /li{lineto}B /rl{rlineto}B /rc{rcurveto}B /np{
/SaveX currentpoint /SaveY X N 1 setlinecap newpath}N /st{stroke SaveX
SaveY moveto}N /fil{fill SaveX SaveY moveto}N /ellipse{/endangle X
/startangle X /yrad X /xrad X /savematrix matrix currentmatrix N TR xrad
yrad scale 0 0 1 startangle endangle arc savematrix setmatrix}N end
%%EndProcSet
TeXDict begin 40258431 52099146 1000 600 600 (main.dvi)
@start /Fa 105[37 27[33 37 37 54 37 37 21 29 25 1[37
37 37 58 21 37 21 21 37 37 25 33 37 33 37 33 3[25 1[25
1[54 1[71 54 1[46 42 50 1[42 54 54 66 46 54 29 25 54
54 42 46 1[50 50 54 6[21 37 37 37 37 37 37 37 37 37 37
21 19 25 19 41[42 2[{ TeXBase1Encoding ReEncodeFont }65
75.000000 /Times-Roman rf /Fb 137[33 37 21 29 29 1[37
37 37 54 21 1[21 21 37 37 21 33 37 33 37 37 10[46 1[42
37 2[46 1[50 62 42 1[33 25 2[46 46 54 50 46 46 5[25 25
37 37 37 37 4[37 3[25 19 4[25 36[37 2[{ TeXBase1Encoding ReEncodeFont }
46 75.000000 /Times-Italic rf /Fc 8 85 df<0000FE00000001FF00000001FF0000
0001FF00000001FF00000003FF80000003FF80000003EF80000003EF80000007EF800000
07EFC0000007EFC0000007C7C0000007C7C000000FC7E000000FC7E000000FC7E000000F
C7E000001F83F000001F83F000001F83F000001F83F000001F83F000003F01F800003F01
F800003F01F800003F01F800007E00FC00007E00FC00007E00FC00007E00FC00007E00FC
0000FC007E0000FFFFFE0000FFFFFE0000FFFFFE0001FFFFFF0001FFFFFF0001F8003F00
01F8003F0001F8003F0003F0001F8003F0001F8003F0001F8003F0001F8007F0001FC007
E0000FC03FFC007FF87FFE00FFFCFFFF01FFFE7FFE00FFFC3FFC007FF827347EB32C>65
D<7FFC007FF8FFFE00FFFCFFFE00FFFCFFFE00FFFC7FFC007FF807C0001F8007C0003F00
07C0003E0007C0007E0007C000FC0007C001F80007C003F00007C003E00007C007E00007
C00FC00007C01F800007C03F000007C03E000007C07E000007C0FC000007C1F8000007C1
F8000007C3FC000007C7FC000007CFFE000007DFBE000007DF3F000007FF1F000007FE1F
800007FC0FC00007F807C00007F007E00007F003E00007E003F00007C001F00007C001F8
0007C000FC0007C000FC0007C0007E0007C0003E0007C0003F0007C0001F0007C0001F80
07C0000F8007C0000FC007C00007E07FFC001FFCFFFE003FFEFFFE003FFEFFFE003FFE7F
FC001FFC27337EB22C>75 D<7FF0007FFCFFF800FFFEFFF800FFFEFFFC00FFFE7FFC007F
FC07FE0007C007DE0007C007DE0007C007DF0007C007CF0007C007CF0007C007CF8007C0
07C78007C007C7C007C007C7C007C007C3C007C007C3E007C007C3E007C007C1E007C007
C1F007C007C1F007C007C0F007C007C0F807C007C0F807C007C07C07C007C07C07C007C0
7C07C007C03E07C007C03E07C007C01E07C007C01F07C007C01F07C007C00F07C007C00F
87C007C00F87C007C00787C007C007C7C007C007C7C007C003C7C007C003E7C007C001E7
C007C001E7C007C001F7C007C000F7C007C000F7C007C000FFC07FFC007FC0FFFE007FC0
FFFE003FC0FFFE003FC07FFC001F8027337EB22C>78 D<007FFF000003FFFFE0000FFFFF
F8001FFFFFFC003FFFFFFE003FE003FE003F8000FE007F00007F007F00007F007E00003F
007E00003F007E00003F00FE00003F80FC00001F80FC00001F80FC00001F80FC00001F80
FC00001F80FC00001F80FC00001F80FC00001F80FC00001F80FC00001F80FC00001F80FC
00001F80FC00001F80FC00001F80FC00001F80FC00001F80FC00001F80FC00001F80FC00
001F80FC00001F80FC00001F80FC00001F80FC00001F80FC00001F80FC00001F80FC0000
1F80FE00003F80FE00003F807E00003F007E00003F007E00003F007F00007F007F00007F
003F8000FE003FF007FE003FFFFFFE001FFFFFFC000FFFFFF80003FFFFE000007FFF0000
21357BB32C>I<3FFFFFC0007FFFFFF800FFFFFFFC007FFFFFFF003FFFFFFF8003F000FF
C003F0003FC003F0000FE003F00007F003F00007F003F00003F003F00003F803F00001F8
03F00001F803F00001F803F00001F803F00001F803F00001F803F00003F803F00003F003
F00007F003F00007F003F0000FE003F0003FC003F000FFC003FFFFFF8003FFFFFF0003FF
FFFC0003FFFFF80003FFFFC00003F000000003F000000003F000000003F000000003F000
000003F000000003F000000003F000000003F000000003F000000003F000000003F00000
0003F000000003F000000003F000000003F00000003FFF0000007FFF800000FFFFC00000
7FFF8000003FFF00000025337EB22C>I<7FFFFC000000FFFFFF800000FFFFFFE00000FF
FFFFF800007FFFFFFC000007E007FE000007E001FE000007E0007F000007E0003F800007
E0001F800007E0001F800007E0000FC00007E0000FC00007E0000FC00007E0000FC00007
E0000FC00007E0000FC00007E0001F800007E0001F800007E0003F800007E0007F000007
E001FE000007E007FE000007FFFFFC000007FFFFF8000007FFFFE0000007FFFFF0000007
FFFFF8000007E007FC000007E001FC000007E0007E000007E0007F000007E0003F000007
E0003F000007E0003F000007E0003F000007E0003F000007E0003F000007E0003F000007
E0003F000007E0003F060007E0003F0F0007E0003F1F8007E0003F1F8007E0003F1F8007
E0003F1F807FFE001FBF80FFFF001FFF00FFFF000FFE00FFFF0007FE007FFE0003FC0000
000001F00029347EB22C>82 D<001FF8070000FFFF0F8001FFFF8F8003FFFFFF8007FFFF
FF800FF01FFF801FC003FF803F0000FF807F00007F807E00007F80FE00003F80FC00003F
80FC00001F80FC00001F80FC00001F80FC00001F80FE00000F007E000000007F00000000
7F800000003FE00000001FFC0000000FFFC0000007FFFC000003FFFFC00001FFFFE00000
7FFFF8000007FFFC0000007FFE00000007FF00000000FF800000003F800000001FC00000
000FC00000000FE00000000FE038000007E07C000007E0FC000007E0FC000007E0FC0000
07E0FC000007E0FE00000FC0FE00000FC0FF00001F80FF80003F80FFE0007F00FFFE01FE
00FFFFFFFC00FFFFFFF800F9FFFFF000F83FFFC0007007FF000023357CB32C>I<3FFFFF
FFFC7FFFFFFFFEFFFFFFFFFEFFFFFFFFFEFFFFFFFFFEFC007E007EFC007E007EFC007E00
7EFC007E007EFC007E007EFC007E007EFC007E007E78007E003C00007E000000007E0000
00007E000000007E000000007E000000007E000000007E000000007E000000007E000000
007E000000007E000000007E000000007E000000007E000000007E000000007E00000000
7E000000007E000000007E000000007E000000007E000000007E000000007E000000007E
000000007E000000007E000000007E000000007E000000007E000000007E000000007E00
0000007E000000007E0000001FFFF800003FFFFC00007FFFFE00003FFFFC00001FFFF800
27337EB22C>I E /Fd 172[30 35 1[30 38 1[47 32 2[18 3[32
3[38 65[{ TeXBase1Encoding ReEncodeFont }9 53.333282
/Times-Roman rf /Fe 2 104 df<00001F0000FF0003F00007C0000F80001F00001E00
003E00003E00003E00003E00003E00003E00003E00003E00003E00003E00003E00003E00
003E00003E00003E00003E00003E00003E00003E00003E00003E00007C00007C0000F800
03E0007FC000FF00007FC00003E00000F800007C00007C00003E00003E00003E00003E00
003E00003E00003E00003E00003E00003E00003E00003E00003E00003E00003E00003E00
003E00003E00003E00003E00003E00001E00001F00000F800007C00003F00000FF00001F
18437BB123>102 D<7C0000FF80000FE00001F00000F800007C00007C00003E00003E00
003E00003E00003E00003E00003E00003E00003E00003E00003E00003E00003E00003E00
003E00003E00003E00003E00003E00003E00003E00001F00001F00000F800007E00001FE
00007F0001FE0007E0000F80001F00001F00003E00003E00003E00003E00003E00003E00
003E00003E00003E00003E00003E00003E00003E00003E00003E00003E00003E00003E00
003E00003E00003E00007C00007C0000F80001F0000FE000FF80007C000018437BB123>
I E /Ff 131[40 2[40 40 40 40 40 40 40 40 40 40 40 40
40 40 40 1[40 40 40 40 40 40 40 40 40 1[40 1[40 1[40
1[40 2[40 40 40 40 40 1[40 40 40 40 40 40 1[40 1[40 40
40 40 40 40 40 1[40 40 40 40 40 40 6[40 40 40 40 1[40
40 40 40 1[40 40 1[40 2[40 1[40 33[{ TeXBase1Encoding ReEncodeFont }67
66.666664 /Courier rf /Fg 2 104 df<000007E000003FE00000FE000001F8000003
E0000007C000000FC000001F8000001F8000001F8000001F8000001F8000001F8000001F
8000001F8000001F8000001F8000001F8000001F8000001F8000001F8000001F8000001F
8000001F8000001F8000001F8000001F8000001F8000001F8000001F8000001F8000003F
0000003F0000007E000000FC000003F800007FE00000FF0000007FE0000003F8000000FC
0000007E0000003F0000003F0000001F8000001F8000001F8000001F8000001F8000001F
8000001F8000001F8000001F8000001F8000001F8000001F8000001F8000001F8000001F
8000001F8000001F8000001F8000001F8000001F8000001F8000001F8000001F8000001F
8000000FC0000007C0000003E0000001F8000000FE0000003FE0000007E01B4B7BB726>
102 D<7C000000FFC0000007F0000001F80000007C0000003E0000003F0000001F800000
1F8000001F8000001F8000001F8000001F8000001F8000001F8000001F8000001F800000
1F8000001F8000001F8000001F8000001F8000001F8000001F8000001F8000001F800000
1F8000001F8000001F8000001F8000001F8000000FC000000FC0000007E0000003F00000
01F80000007FC000001FE000007FC00001F8000003F0000007E000000FC000000FC00000
1F8000001F8000001F8000001F8000001F8000001F8000001F8000001F8000001F800000
1F8000001F8000001F8000001F8000001F8000001F8000001F8000001F8000001F800000
1F8000001F8000001F8000001F8000001F8000001F8000003F0000003E0000007C000001
F8000007F00000FFC000007C0000001B4B7BB726>I E /Fh 134[45
45 45 45 45 45 45 45 45 45 45 45 45 45 45 1[45 45 1[45
45 45 45 45 45 1[45 1[45 1[45 1[45 2[45 45 45 45 45 2[45
45 45 3[45 1[45 45 45 45 45 45 45 3[45 1[45 5[45 4[45
1[45 1[45 45 1[45 45 4[45 1[45 33[{ TeXBase1Encoding ReEncodeFont }54
75.000000 /Courier rf /Fi 131[50 2[50 50 50 50 50 50
50 50 50 50 50 50 50 50 50 1[50 50 50 50 50 50 50 50
50 3[50 1[50 1[50 2[50 50 50 50 50 50 50 50 50 50 50
50 1[50 1[50 50 50 50 50 50 50 2[50 50 50 9[50 50 50
1[50 50 50 2[50 50 4[50 1[50 33[{ TeXBase1Encoding ReEncodeFont }61
83.333336 /Courier rf /Fj 173[53 2[58 1[71 49 6[49 3[58
65[{ TeXBase1Encoding ReEncodeFont }6 79.999924 /Times-Roman
rf /Fk 10 58 df<00FF0003FFC00781E00F00F01E00783C003C3C003C78001E78001E78
001E78001EF8001FF8001FF8001FF8001FF8001FF8001FF8001FF8001FF8001FF8001FF8
001FF8001FF8001F78001E78001E7C003E3C003C3C003C1E00780F00F00781E003FFC000
FF0018227DA01E>48 D<00700000F00007F000FFF000F9F00001F00001F00001F00001F0
0001F00001F00001F00001F00001F00001F00001F00001F00001F00001F00001F00001F0
0001F00001F00001F00001F00001F00001F00001F00001F00001F00003F800FFFFE0FFFF
E013217AA01E>I<01FC0007FF801C0FC03803E03001F06000F8C000F8F000FCF800FCF8
007CF8007C2000FC0000FC0000F80000F80001F00003E00003C0000780000F00001C0000
380000700000E00C01C00C0300180600180C00181FFFF83FFFF87FFFF0FFFFF0FFFFF016
217CA01E>I<00FF0007FFC00F03E01C00F01C00F83E00FC3E007C3E007C1C00FC0000FC
0000F80000F80001F00003E0000FC001FF0001FF000003E00000F000007800007C00003E
00003F20003F70003FF8003FF8003FF0003E60007E60007C3800F81F03F007FFC000FF00
18227DA01E>I<0000E00001E00001E00003E00007E00007E0000FE0001FE0003BE00033
E00063E000E3E000C3E00183E00383E00703E00603E00C03E01C03E01803E03003E07003
E0E003E0FFFFFFFFFFFF0003E00003E00003E00003E00003E00003E00007F0007FFF007F
FF18227DA11E>I<1000301E01F01FFFE01FFFC01FFF801FFE001BF00018000018000018
000018000018000018FE001BFF801F03C01C01E01800F01000F800007800007800007C00
007C20007C70007CF8007CF8007CF00078E000F86000F07001E03801E01E078007FF0001
F80016227CA01E>I<000FC0007FF001F03803C01807803C0F007C1E007C1C00383C0000
3C00007C0000780000787FC0F9FFE0FB80F0FE0038FE003CFC001EFC001EF8001FF8001F
F8001FF8001F78001F78001F78001F3C001E3C001E1C003C1E00380F00700781E001FFC0
007F0018227DA01E>I<3000003C00003FFFFF3FFFFF3FFFFE7FFFFC7FFFF86000306000
30600060C000C0C00180000300000300000600000C00000C00001C000038000038000038
0000780000700000F00000F00000F00000F00001F00001F00001F00001F00001F00001F0
0001F00000E00018237CA11E>I<007F0003FFC00781E00E00F01E00781C003C3C003C3C
003C3C003C3E003C3F00781FC0781FE0F00FF9E007FF8001FF8001FFC007FFF00F0FF81E
03FC3C01FE78007E78001FF0001FF0000FF0000FF0000FF0000E78001E7C001C3E00380F
81F007FFC000FF0018227DA01E>I<00FE0003FFC00781E00E00701C00783C003878003C
78003CF8001EF8001EF8001EF8001FF8001FF8001FF8001F78003F78003F3C007F1C007F
0F01DF07FF9F03FE1E00001E00001E00003E00003C1C00383E00783E00703C00E01801C0
1C07800FFE0003F80018227DA01E>I E /Fl 5 111 df<7FFFFFFFFFFF80FFFFFFFFFFFF
C0FFFFFFFFFFFFC07FFFFFFFFFFF803204799641>0 D<0000000001800000000003C000
00000003C0000000000780000000000780000000000F00000000000F00000000001E0000
0000001E00000000003C00000000003C0000000000780000000000780000000000F00000
000000F00000000001E00000000001E00000000003C00000000003C00000000007800000
00000F80000000000F00000000001E00000000001E00000000003C00000000003C000000
0000780000000000780000000000F00000000000F00000000001E00000000001E0000000
0003C00000000003C0000000000780000000000780000000000F00000000000F00000000
001E00000000001E00000000003C00000000003C00000000007800000000007800000000
00F00000000000F00000000001E00000000001E00000000003C00000000003C000000000
0780000000000780000000000F00000000000F00000000001E00000000001E0000000000
3C00000000007C0000000000780000000000F00000000000F00000000001E00000000001
E00000000003C00000000003C0000000000780000000000780000000000F00000000000F
00000000001E00000000001E00000000003C00000000003C000000000078000000000078
0000000000F00000000000F000000000006000000000002A4E75BB00>54
D<000001F800000FF800003F800000FC000001F8000003F0000007E0000007E000000FC0
00000FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC0
00000FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC0
00000FC000000FC000000FC000000FC000000FC000000FC000000FC000001F8000001F80
00003F0000003E000000FC000003F800007FE00000FF0000007FE0000003F8000000FC00
00003E0000003F0000001F8000001F8000000FC000000FC000000FC000000FC000000FC0
00000FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC0
00000FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC0
00000FC000000FC000000FC0000007E0000007E0000003F0000001F8000000FC0000003F
8000000FF8000001F81D537ABD2A>102 D<7C000000FFC0000007F0000001FC0000007E
0000003F0000001F8000001F8000000FC000000FC000000FC000000FC000000FC000000F
C000000FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC000000F
C000000FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC000000F
C000000FC000000FC0000007E0000007E0000003E0000001F0000000F80000007E000000
1FF0000007F800001FF000007E000000F8000001F0000003E0000007E0000007E000000F
C000000FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC000000F
C000000FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC000000F
C000000FC000000FC000000FC000000FC000000FC000000FC000000FC000001F8000001F
8000003F0000007E000001FC000007F00000FFC000007C0000001D537ABD2A>I<600000
00F0000000F00000007800000078000000780000003C0000003C0000003C0000001E0000
001E0000001E0000000F0000000F0000000F00000007800000078000000780000003C000
0003C0000003C0000001E0000001E0000001E0000000F0000000F0000000F00000007800
000078000000780000003C0000003C0000003C0000001E0000001E0000001E0000000F00
00000F0000000F00000007800000078000000780000003C0000003C0000001E0000001E0
000001E0000000F0000000F0000000F00000007800000078000000780000003C0000003C
0000003C0000001E0000001E0000001E0000000F0000000F0000000F0000000780000007
8000000780000003C0000003C0000003C0000001E0000001E0000001E0000000F0000000
F0000000F00000007800000078000000780000003C0000003C0000003C0000001E000000
1E0000000C1F537BBD2A>110 D E /Fm 10 58 df<003F800001FFF00003E0F80007803C
000F001E001E000F003E000F803E000F803C0007807C0007C07C0007C07C0007C07C0007
C0FC0007E0FC0007E0FC0007E0FC0007E0FC0007E0FC0007E0FC0007E0FC0007E0FC0007
E0FC0007E0FC0007E0FC0007E0FC0007E0FC0007E07C0007C07C0007C07C0007C03E000F
803E000F803E000F801F001F000F001E0007803C0003E0F80001FFF000003F80001B277E
A521>48 D<00380000780001F8001FF800FEF800E0F80000F80000F80000F80000F80000
F80000F80000F80000F80000F80000F80000F80000F80000F80000F80000F80000F80000
F80000F80000F80000F80000F80000F80000F80000F80000F80000F80000F80000F80000
F80001FC00FFFFF8FFFFF815267BA521>I<00FF000003FFE0000E03F0001801F8003000
FC0060007E0078003F00FC003F00FE003F80FE003F80FE001F80FE001F807C001F800000
3F8000003F0000003F0000007E0000007E000000FC000000F8000001F0000003E0000007
C000000F0000001E0000001C0000003800000060018000C0018001800180030003000600
03000C0003001FFFFF003FFFFF007FFFFE00FFFFFE00FFFFFE0019267DA521>I<00FF00
0007FFE0000F01F8001C00FC0030007E003C007E007E003F007E003F007E003F007E007F
003C007F0000007E0000007E000000FC000001F8000003F000000FC00001FF000001FF00
000003E0000000F00000007C0000007E0000007E0000003F0000003F8000003F8038003F
807C003F80FE003F80FE003F80FE003F00FC007F0078007E0070007C003800F8001F03F0
0007FFC00000FF000019277DA521>I<0000380000003800000078000000F8000001F800
0001F8000003F8000007F8000006F800000CF800001CF8000018F8000030F8000070F800
0060F80000C0F80001C0F8000180F8000300F8000700F8000E00F8000C00F8001C00F800
3800F8003000F8006000F800E000F800FFFFFFE0FFFFFFE00000F8000000F8000000F800
0000F8000000F8000000F8000000F8000001FC00003FFFE0003FFFE01B277EA621>I<18
000C001F007C001FFFF8001FFFF0001FFFE0001FFFC0001FFF000018F000001800000018
00000018000000180000001800000018000000187F000019FFE0001B81F0001E0078001C
003C0008003E0000003E0000001F0000001F0000001F8000001F8030001F807C001F80FC
001F80FC001F80FC001F80FC001F00F0001F0060003E0070003E0030007C001C00F8000F
03E00003FFC00000FE000019277DA521>I<000FE000003FF80000F81C0001E0060003C0
1F0007803F000F003F001F003F001E003F003E001E003E0000007C0000007C0000007C04
00007C3FC000FCFFF000FDC07800FF003C00FF003E00FE001E00FE001F00FE001F00FC00
1F80FC001F80FC001F80FC001F807C001F807C001F807C001F807C001F803C001F003E00
1F001E001E001E003E000F003C000780780003C1F00001FFC000007F000019277DA521>
I<300000003C0000003FFFFFE03FFFFFE03FFFFFC07FFFFF807FFFFF0070000300600006
0060000C00C0001800C0003000C0003000000060000000C0000001800000018000000300
000007000000070000000E0000000E0000001E0000001E0000003E0000003C0000003C00
00007C0000007C0000007C0000007C000000FC000000FC000000FC000000FC000000FC00
0000FC000000FC000000780000003000001B287DA621>I<007F000003FFE0000781F800
0E007C001C001E0038001E0038000F0078000F0078000F0078000F007C000F007E001E00
3F801E003FE03C001FF078000FFCF00007FFC00003FF800000FFE00001FFF000079FFC00
0F07FE001E03FE003C00FF0078003F0078001F80F0000F80F0000F80F0000780F0000780
F0000780F00007007800070078000E003C001C001E0038000F80F00003FFE000007F0000
19277DA521>I<007F000001FFC00007C1E0000F0070001E0078003E003C003C003E007C
001E007C001E00FC001F00FC001F00FC001F00FC001F00FC001F80FC001F80FC001F80FC
001F807C003F807C003F803C003F803E007F801E007F800F01DF8007FF9F8001FE1F8000
101F0000001F0000001F0000003E003C003E007E003C007E003C007E0078007E00F0007C
00E0003003C0001C0780000FFF000003F8000019277DA521>I E
/Fn 19 121 df<1C003E007F00FF80FF80FF807F003E001C000909798817>58
D<1C007E007F00FF80FF80FFC07FC07FC01CC000C000C000C000C0018001800180030003
00030006000C000C001800300020000A19798817>I<00007E00000003FF8000000FC1C3
80001F0067C0003C006FC00078003FC000F8003FC001F0001F8003E0001F8007E0001F80
0FC0001F800FC0003F001F80003F001F80003F003F80003F003F00007E007F00007E007F
00007E007F00007E00FE0000FC00FE0000FC00FE0000FC00FE0000FC00FC0001F800FC00
01F80CFC0001F80CFC0001F80CFC0003F018FC0003F0187C0003F0187C0007F0187C000F
F0303E001BF0301E0031F0600F00E1F0600783C0F0C003FF007F8000FC001F0026267DA4
2C>97 D<003F00000FFF00001FFF00001FFF0000007E0000007E0000007E0000007E0000
00FC000000FC000000FC000000FC000001F8000001F8000001F8000001F8000003F00000
03F0000003F0000003F0000007E0000007E0FC0007E3FF0007E707C00FCC01E00FD801F0
0FF001F00FE000F81FC000F81F8000FC1F8000FC1F8000FC3F0000FC3F0000FC3F0000FC
3F0000FC7E0001FC7E0001FC7E0001FC7E0001FCFC0003F8FC0003F8FC0003F8FC0003F0
FC0007F0F80007E0F80007E0F8000FC0F8000FC0F8001F80F8001F0078003E0078003E00
3C007C003C00F0001E01E0000F07C00007FF000001FC00001E3B7CB924>I<00003FC000
01FFF00007E03C000F800E003E0006007C001F00F8003F01F0007F03F000FF07E000FF07
E000FE0FC0007C1FC000381F8000003F8000003F0000007F0000007F0000007F000000FE
000000FE000000FE000000FE000000FE000000FC000000FC000000FC000000FC0000017C
0000037C0000067E00000C3E0000181E0000700F0000E00F80078003C03F0001FFF80000
3FC00020267DA424>I<000000003F0000000FFF0000001FFF0000001FFF000000007E00
0000007E000000007E000000007E00000000FC00000000FC00000000FC00000000FC0000
0001F800000001F800000001F800000001F800000003F000000003F000000003F0000000
03F000000007E000007E07E00003FF87E0000FC1C7E0001F006FC0003C006FC00078003F
C000F8003FC001F0001F8003E0001F8007E0001F800FC0001F800FC0003F001F80003F00
1F80003F003F80003F003F00007E007F00007E007F00007E007F00007E00FE0000FC00FE
0000FC00FE0000FC00FE0000FC00FC0001F800FC0001F80CFC0001F80CFC0001F80CFC00
03F018FC0003F0187C0003F0187C0007F0187C000FF0303E001BF0301E0031F0600F00E1
F0600783C0F0C003FF007F8000FC001F00283B7DB92B>I<00003FC00001FFF00007E078
001F801C003E000E007C000E00F8000E01F0000E03E0000E07E0000E0FC0001C1FC0001C
1F8000383F8000703F8003E07F003FC07FFFFE007FFFE0007F0000007E000000FE000000
FE000000FE000000FE000000FE000000FE0000007E0000007E0000017E0000037E000006
3E00000C3E0000181F0000700F0000E00780078003E03F0001FFF800003FC00020267DA4
27>I<00000000F80000000003FE000000000707000000000E0F800000001E1F80000000
3E3F800000007C7F800000007C7F80000000FC7F00000000FC3E00000000FC1C00000001
F80000000001F80000000001F80000000001F80000000001F80000000003F00000000003
F00000000003F00000000003F00000000003F00000000007E00000000007E000000003FF
FFF0000007FFFFF0000007FFFFE00000000FC0000000000FC0000000000FC0000000000F
C0000000000FC0000000001F80000000001F80000000001F80000000001F80000000001F
80000000001F80000000003F00000000003F00000000003F00000000003F00000000003F
00000000007E00000000007E00000000007E00000000007E00000000007E0000000000FC
0000000000FC0000000000FC0000000000FC0000000000FC0000000001F80000000001F8
0000000001F80000000001F80000000001F80000000001F00000000003F00000000003F0
0000000003F00000000003E00000000003E00000000007E00000000007C00000001E07C0
0000003F07800000007F8F800000007F8F00000000FF0F00000000FF1E000000007E1C00
0000007C38000000003870000000001FE00000000007C000000000294C7CBA29>I<0003
F000000000FFF000000001FFF000000001FFF00000000007E00000000007E00000000007
E00000000007E0000000000FC0000000000FC0000000000FC0000000000FC0000000001F
80000000001F80000000001F80000000001F80000000003F00000000003F00000000003F
00000000003F00000000007E00000000007E03F80000007E0FFE0000007E3C0F800000FC
7007C00000FCC007C00000FD8003E00000FF0003E00001FE0003E00001FC0003E00001F8
0003E00001F80003E00003F00007E00003F00007E00003F00007E00003F00007E00007E0
000FC00007E0000FC00007E0000FC00007E0001F80000FC0001F80000FC0001F80000FC0
003F00000FC0003F00001F80003F00001F80007E01801F80007E01801F80007E01803F00
00FC03003F0000FC03003F0000FC03003F0000F806007E0000F806007E0000F80C007E00
00F818007E0000781800FC00007870007C00003FE0003800000F8000293B7CB930>104
D<0000E00001F00003F80007F80007F80007F00003E00001C00000000000000000000000
0000000000000000000000000000000000000000000000F80001FE00070F00060F000C0F
80180F80300F80300F80601F80601F80601F80C03F00C03F00C03F00007E00007E0000FC
0000FC0000FC0001F80001F80001F80003F00003F00007E01807E01807E0180FC0300FC0
300FC0300F80600F80600F80C00F818007830007870003FC0000F80015397EB71D>I<00
0FC003FFC007FFC003FFC0001F80001F80001F80001F80003F00003F00003F00003F0000
7E00007E00007E00007E0000FC0000FC0000FC0000FC0001F80001F80001F80001F80003
F00003F00003F00003F00007E00007E00007E00007E0000FC0000FC0000FC0000FC0001F
80001F80001F80001F80003F00003F00003F00003F00007E00007E03007E03007E0300FC
0600FC0600FC0600FC0C00FC0C00F80C007818007C30003C70001FE000078000123B7DB9
19>108 D<03E0007F000007F801FFC0000C3C0781F000183E0E00F800183E1800F80030
3F30007C00303F60007C00603FC0007C00603F80007C00603F00007C00603F00007C00C0
7E0000FC00C07E0000FC00C07E0000FC00007E0000FC0000FC0001F80000FC0001F80000
FC0001F80000FC0003F00001F80003F00001F80003F00001F80007E00001F80007E00003
F00007E00003F0000FC03003F0000FC03003F0000FC03007E0001F806007E0001F806007
E0001F806007E0001F00C00FC0001F00C00FC0001F01800FC0001F03000FC0000F07001F
80000F0E000F800007F80007000001F0002C267EA432>110 D<000F8003F000001FE00F
FC000030F03C1E000060F8700F000060F8C0078000C0FD8007C000C0FF0003E00180FE00
03E00180FC0003E00180FC0003F00180FC0003F00301F80003F00301F80003F00301F800
03F00001F80003F00003F00007F00003F00007F00003F00007F00003F00007F00007E000
0FE00007E0000FE00007E0000FE00007E0000FC0000FC0001FC0000FC0001F80000FC000
1F80000FC0003F00001F80003F00001F80007E00001F80007C00001F8000F800003FC001
F000003FC001E000003F6003C000003F600F8000007E383F0000007E1FFC0000007E07E0
0000007E0000000000FC0000000000FC0000000000FC0000000000FC0000000001F80000
000001F80000000001F80000000001F80000000003F00000000003F00000000003F00000
00007FFFC0000000FFFFC00000007FFFC00000002C3583A42A>112
D<03E001F80007F807FC000C3C1E0600183E381F00183E603F00303F607F80303FC07F80
303F80FF00603F00FF00603F007E00603F003C00C07E000000C07E000000C07E00000000
7E00000000FC00000000FC00000000FC00000000FC00000001F800000001F800000001F8
00000001F800000003F000000003F000000003F000000003F000000007E000000007E000
000007E000000007E00000000FC00000000FC00000000FC00000000FC00000001F800000
000F80000000070000000021267EA425>114 D<0000FF000003FFC0000F80F0001C0038
003800180070003C00F0007C00E000FC01E001FC01E001FC01E001F803F000F003F00000
03FC000001FFE00001FFFC0000FFFF00007FFF80003FFFC0001FFFE00003FFE000003FF0
000007F0000003F01E0001F03F0001F07F0001F0FF0001E0FF0001E0FF0001C0FE0003C0
F80003806000070060000E0038001C001E00F80007FFE00001FF00001E267CA427>I<00
03800007C0000FC0000FC0000FC0000FC0001F80001F80001F80001F80003F00003F0000
3F00003F00007E00007E00FFFFFEFFFFFFFFFFFE00FC0000FC0000FC0001F80001F80001
F80001F80003F00003F00003F00003F00007E00007E00007E00007E0000FC0000FC0000F
C0000FC0001F80001F800C1F800C1F80183F00183F00183F00303F00603F00603F00C01F
01801F03000F0E0007FC0001F00018357DB31E>I<00F80000000003FE00003800070F00
007C000C0F0000FC000C0F8000FC00180F8000FC00300F8000FC00300F8001F800601F80
01F800601F8001F800601F8001F800C03F0003F000C03F0003F000C03F0003F000007E00
03F000007E0007E00000FC0007E00000FC0007E00000FC0007E00001F8000FC00001F800
0FC00001F8000FC00001F8000FC00003F0001F800003F0001F80C003F0001F80C003F000
1F80C003F0003F018003F0003F018003F0003F018003F0003F018003F0007F030001F000
FF030001F0019F060000F8031F0600007C0E0F0C00001FFC07F8000007F001F0002A267E
A430>I<00F800038001FE0007C0070F000FE00E0F000FF00C0F800FF0180F800FF0300F
8007F0300F8003F0601F8001F0601F8000F0601F8000E0C03F0000E0C03F0000E0C03F00
00E0007E0000E0007E0000C000FC0000C000FC0000C000FC0000C001F800018001F80001
8001F800018001F800030003F000030003F000060003F000060003F000060003F0000C00
03F0000C0003F000180003F000300001F000300001F000600000F800C000007803800000
3E0F0000001FFC00000007F0000024267EA428>I<0007E001F000001FF807FC0000383C
0E0E0000601E181F0000C00F303F0001800F307F8003000FE07F8006000FE0FF0006000F
C0FF000C000FC07E000C000FC03C0018001F80000018001F80000018001F80000000001F
80000000003F00000000003F00000000003F00000000003F00000000007E00000000007E
00000000007E00000000007E0000000000FC0000000000FC000C000000FC000C000000FC
000C001E01F80018003F01F80018007F81F80030007F83F8003000FF03F8006000FF0678
00C0007E06780180007C0C3C03000038381E0E00001FF00FFC000007C003F0000029267E
A42F>120 D E /Fo 82[28 50[42 46 46 65 46 51 28 46 32
51 51 51 51 74 23 46 1[23 51 51 28 46 51 46 51 46 10[55
1[51 55 60 3[60 69 6[51 55 60 2[60 3[48 3[46 46 46 46
46 46 46 46 46 46 1[23 43[51 2[{ TeXBase1Encoding ReEncodeFont }49
83.333336 /Helvetica-Bold rf /Fp 105[46 1[46 46 24[41
46 1[66 46 51 30 36 41 1[51 46 51 76 25 51 1[25 51 46
30 41 51 41 51 46 10[66 1[61 51 66 71 56 71 66 86 61
2[36 1[71 56 61 66 66 1[66 9[46 46 46 46 46 46 46 2[23
6[30 36[51 2[{ TeXBase1Encoding ReEncodeFont }53 91.666664
/Times-Bold rf /Fq 107[42 42 24[37 42 1[60 42 46 28 32
37 1[46 42 46 69 23 46 1[23 46 42 1[37 46 37 46 42 12[55
2[65 51 2[78 55 5[51 55 60 60 1[60 6[28 4[42 42 42 42
42 2[21 46[{ TeXBase1Encoding ReEncodeFont }41 83.333336
/Times-Bold rf /Fr 11 62 df<0000600000E00001C0000380000700000E00001C0000
3C0000380000700000F00000E00001E00003C00003C0000780000780000780000F00000F
00001F00001E00001E00003E00003E00003C00003C00007C00007C00007C00007C00007C
0000780000F80000F80000F80000F80000F80000F80000F80000F80000F80000F80000F8
0000F80000F80000F80000F80000F800007800007C00007C00007C00007C00007C00003C
00003C00003E00003E00001E00001E00001F00000F00000F000007800007800007800003
C00003C00001E00000E00000F000007000003800003C00001C00000E0000070000038000
01C00000E0000060135278BD20>40 D<800000C00000E000007000003800001C00000E00
000F000007000003800003C00001C00001E00000F00000F000007800007800007800003C
00003C00003E00001E00001E00001F00001F00000F00000F00000F80000F80000F80000F
80000F800007800007C00007C00007C00007C00007C00007C00007C00007C00007C00007
C00007C00007C00007C00007C00007C00007C0000780000F80000F80000F80000F80000F
80000F00000F00001F00001F00001E00001E00003E00003C00003C000078000078000078
0000F00000F00001E00001C00003C0000380000700000F00000E00001C00003800007000
00E00000C0000080000012527BBD20>I<00000030000000000000780000000000007800
000000000078000000000000780000000000007800000000000078000000000000780000
000000007800000000000078000000000000780000000000007800000000000078000000
000000780000000000007800000000000078000000000000780000000000007800000000
000078000000000000780000000000007800000000000078000000000000780000000000
0078000000000000780000007FFFFFFFFFFFF8FFFFFFFFFFFFFCFFFFFFFFFFFFFC7FFFFF
FFFFFFF80000007800000000000078000000000000780000000000007800000000000078
000000000000780000000000007800000000000078000000000000780000000000007800
000000000078000000000000780000000000007800000000000078000000000000780000
000000007800000000000078000000000000780000000000007800000000000078000000
000000780000000000007800000000000078000000000000780000000000003000000036
367BAF41>43 D<0003F80000001FFF0000007E0FC00000F803E00001E000F00003C00078
0007C0007C000F80003E000F80003E001F00001F001F00001F003F00001F803F00001F80
3F00001F807E00000FC07E00000FC07E00000FC07E00000FC07E00000FC07E00000FC0FE
00000FE0FE00000FE0FE00000FE0FE00000FE0FE00000FE0FE00000FE0FE00000FE0FE00
000FE0FE00000FE0FE00000FE0FE00000FE0FE00000FE0FE00000FE0FE00000FE0FE0000
0FE0FE00000FE0FE00000FE0FE00000FE0FE00000FE07E00000FC07E00000FC07E00000F
C07E00000FC07F00001FC03F00001F803F00001F803F00001F801F00001F001F80003F00
0F80003E000F80003E0007C0007C0003E000F80001F001F00000F803E000007E0FC00000
1FFF00000003F80000233A7DB72A>48 D<0001C0000003C0000007C000001FC00000FFC0
00FFFFC000FFFFC000FF1FC000001FC000001FC000001FC000001FC000001FC000001FC0
00001FC000001FC000001FC000001FC000001FC000001FC000001FC000001FC000001FC0
00001FC000001FC000001FC000001FC000001FC000001FC000001FC000001FC000001FC0
00001FC000001FC000001FC000001FC000001FC000001FC000001FC000001FC000001FC0
00001FC000001FC000001FC000001FC000001FC000001FC000001FC000001FC000001FC0
00001FC000001FC000003FE0007FFFFFF07FFFFFF07FFFFFF01C3879B72A>I<000FF000
00007FFE000001FFFF800003E03FC00007000FE0000E0007F000180003F800380001FC00
300001FE00600000FE00600000FF007C00007F00FF00007F80FF00007F80FF80007F80FF
80007F80FF80007F807F00007F807F00007F801C00007F800000007F000000007F000000
00FF00000000FE00000000FE00000001FC00000001FC00000003F800000003F000000007
E00000000FC00000000F800000001F000000003E000000007C00000000F800000000F000
000001E000000003C000000007000000000E000000001C00018000380001800070000180
00E000038000C00003000180000300030000030006000007000FFFFFFF001FFFFFFF003F
FFFFFF007FFFFFFE00FFFFFFFE00FFFFFFFE00FFFFFFFE0021387CB72A>I<0007F80000
003FFF0000007FFFC00001F80FE00003C003F000070001F800060001FC000D0001FE000F
C000FE001FE000FF001FF000FF001FF000FF001FF000FF001FF000FF000FE000FF0007C0
00FF00000000FE00000001FE00000001FC00000001FC00000001F800000003F000000003
E000000007C00000000F800000007E0000001FFC0000001FFF800000000FE000000003F0
00000001F800000000FC00000000FE000000007F000000007F800000007F800000003FC0
0000003FC00000003FE00000003FE01E00003FE03F00003FE07F80003FE0FFC0003FE0FF
C0003FE0FFC0003FC0FFC0003FC0FF80007FC07F00007F807E00007F80300000FF003800
00FE001E0001FC000F8003F80003F00FF00001FFFFC000007FFF0000000FF80000233A7D
B72A>I<000000380000000038000000007800000000F800000000F800000001F8000000
03F800000007F800000007F80000000FF80000001FF80000001BF800000033F800000073
F800000063F8000000C3F8000001C3F800000183F800000303F800000703F800000603F8
00000C03F800001C03F800001803F800003003F800007003F800006003F80000C003F800
01C003F800038003F800030003F800070003F8000E0003F8000C0003F800180003F80038
0003F800300003F800600003F800E00003F800FFFFFFFFF8FFFFFFFFF8FFFFFFFFF80000
03F800000003F800000003F800000003F800000003F800000003F800000003F800000003
F800000003F800000003F800000003F800000007FC000003FFFFF80003FFFFF80003FFFF
F825397EB82A>I<0600000C000780003C0007F003F80007FFFFF00007FFFFE00007FFFF
C00007FFFF800007FFFF000007FFFC0000067FE000000600000000060000000006000000
000600000000060000000006000000000600000000060000000006000000000600000000
06000000000607F80000063FFE000006780F800006C007C000078003E000070001F00006
0001F800040000FC00000000FC00000000FE000000007E000000007F000000007F000000
007F000000007F800000007F800000007F803E00007F807F00007F80FF00007F80FF8000
7F80FF80007F80FF00007F80FF00007F00FE00007F00600000FF00600000FE00700000FC
00300001FC00380001F8001C0003F0000E0007E00007800FC00003E03F800001FFFF0000
007FFC0000001FE00000213A7CB72A>I<00003FC0000001FFF0000007FFFC00000FE03E
00001F000700003E001F00007C003F8000F8007F8001F0007F8003E0007F8007E0007F80
07C0003F000FC0001E001FC00000001F800000001F800000003F800000003F800000003F
800000007F000000007F01FC00007F07FF80007F0E07C000FF1801F000FF3000F800FF60
007C00FF60007E00FFC0003E00FFC0003F00FF80003F80FF80001F80FF80001FC0FF8000
1FC0FF00001FC0FF00001FE0FF00001FE0FF00001FE0FF00001FE07F00001FE07F00001F
E07F00001FE07F00001FE07F00001FE03F00001FE03F80001FC03F80001FC01F80001FC0
1F80003F800F80003F800FC0003F0007C0007E0003E0007C0003F000F80001F801F00000
FE07E000003FFFC000001FFF00000003FC0000233A7DB72A>I<7FFFFFFFFFFFF8FFFFFF
FFFFFFFCFFFFFFFFFFFFFC7FFFFFFFFFFFF8000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000007FFFFFFFFFFFF8FFFFFFFFFFFFFCFFFFFFFFFFFFFC7FFFFFFFFFFFF8
36167B9F41>61 D E /Fs 105[42 1[37 37 24[37 42 42 60 42
42 23 32 28 42 42 42 42 65 23 42 23 23 42 42 28 37 42
37 42 37 3[28 1[28 3[78 60 60 51 46 55 1[46 60 60 74
51 60 32 28 60 60 46 51 60 55 55 60 1[37 3[23 23 42 42
42 42 42 42 42 42 42 42 23 21 28 21 2[28 28 28 5[28 29[46
46 2[{ TeXBase1Encoding ReEncodeFont }76 83.333336 /Times-Roman
rf /Ft 105[33 28[33 33 48 33 33 18 26 22 33 33 33 33
52 18 33 18 18 33 33 22 29 33 29 33 29 7[48 1[63 48 48
41 37 44 1[37 48 48 59 41 2[22 48 48 37 41 48 44 44 48
5[18 18 2[33 33 1[33 5[17 22 17 4[22 5[22 30[37 2[{
 TeXBase1Encoding ReEncodeFont }58 66.666664 /Times-Roman
rf /Fu 105[42 1[46 46 25[37 37 55 37 42 23 32 32 42 42
42 42 60 23 37 23 23 42 42 23 37 42 37 42 42 28 6[46
4[46 42 51 1[51 60 55 69 46 2[28 60 1[51 51 60 55 1[51
1[42 4[28 42 42 6[42 2[21 28 21 2[28 28 28 5[28 29[42
42 2[{ TeXBase1Encoding ReEncodeFont }59 83.333336 /Times-Italic
rf /Fv 133[44 50 50 72 50 55 33 39 44 1[55 50 55 83 28
2[28 55 50 33 44 55 44 55 50 12[66 55 72 1[61 6[39 2[61
66 72 72 1[72 10[50 50 50 50 50 50 2[25 46[{
 TeXBase1Encoding ReEncodeFont }40 100.000000 /Times-Bold
rf /Fw 2 104 df<0000000FE0000000FFE0000003FFE000000FFC0000001FE00000003F
800000007F00000000FE00000001FC00000001FC00000003F800000003F800000003F800
000003F800000003F800000003F800000003F800000003F800000003F800000003F80000
0003F800000003F800000003F800000003F800000003F800000003F800000003F8000000
03F800000003F800000003F800000003F800000003F800000003F800000003F800000003
F800000003F800000003F800000003F800000003F800000003F800000003F800000007F0
00000007F00000000FE00000001FC00000003F800000007F00000001FE0000007FF80000
00FFE0000000FFE00000007FF800000001FE000000007F000000003F800000001FC00000
000FE000000007F000000007F000000003F800000003F800000003F800000003F8000000
03F800000003F800000003F800000003F800000003F800000003F800000003F800000003
F800000003F800000003F800000003F800000003F800000003F800000003F800000003F8
00000003F800000003F800000003F800000003F800000003F800000003F800000003F800
000003F800000003F800000003F800000003F800000003F800000001FC00000001FC0000
0000FE000000007F000000003F800000001FE00000000FFC00000003FFE0000000FFE000
00000FE0236479CA32>102 D<7E00000000FFE0000000FFF800000007FE00000000FF00
0000003F800000001FC00000000FE000000007F000000007F000000003F800000003F800
000003F800000003F800000003F800000003F800000003F800000003F800000003F80000
0003F800000003F800000003F800000003F800000003F800000003F800000003F8000000
03F800000003F800000003F800000003F800000003F800000003F800000003F800000003
F800000003F800000003F800000003F800000003F800000003F800000003F800000003F8
00000001FC00000001FC00000000FE000000007F000000003F800000001FC00000000FF0
00000003FFC0000000FFE0000000FFE0000003FFC000000FF00000001FC00000003F8000
00007F00000000FE00000001FC00000001FC00000003F800000003F800000003F8000000
03F800000003F800000003F800000003F800000003F800000003F800000003F800000003
F800000003F800000003F800000003F800000003F800000003F800000003F800000003F8
00000003F800000003F800000003F800000003F800000003F800000003F800000003F800
000003F800000003F800000003F800000003F800000003F800000003F800000007F00000
0007F00000000FE00000001FC00000003F80000000FF00000007FE000000FFF8000000FF
E00000007E00000000236479CA32>I E /Fx 134[50 50 72 50
50 28 39 33 1[50 50 50 78 28 1[28 28 50 50 33 44 50 44
1[44 11[72 1[55 66 1[55 1[72 89 61 5[55 61 1[66 1[72
92 5[28 10[28 25 33 25 44[{ TeXBase1Encoding ReEncodeFont }39
100.000000 /Times-Roman rf /Fy 134[44 44 66 44 50 1[39
39 2[50 50 1[28 44 1[28 50 2[44 50 2[50 16[61 2[83 55
66 44 1[72 72[{ TeXBase1Encoding ReEncodeFont }22 100.000000
/Times-Italic rf /Fz 172[66 83[{ TeXBase1Encoding ReEncodeFont }1
119.999947 /Times-Roman rf /FA 175[53 1[69 4[32 73[{
 TeXBase1Encoding ReEncodeFont }3 95.999908 /Times-Roman
rf /FB 134[60 3[66 40 47 53 1[66 60 66 100 33 2[33 1[60
40 53 1[53 1[60 13[66 12[73 2[86 1[86 65[{
 TeXBase1Encoding ReEncodeFont }20 119.999947 /Times-Bold
rf end
%%EndProlog
%%BeginSetup
%%Feature: *Resolution 600dpi
TeXDict begin
%%PaperSize: Letter

%%EndSetup
%%Page: 1 1
1 0 bop 462 374 a FB(F)m(ormal)30 b(Analysis)f(of)h(a)f(Space)i(Craft)f
(Contr)n(oller)g(using)k Fz(S)6 b FA(P)g(I)g(N)980 690
y Fy(Klaus)24 b(Havelund)p Fx(,)g Fy(Mik)o(e)h(Lowry)h
Fx(and)f Fy(J)n(ohn)f(P)-8 b(enix)1277 922 y Fx(N)m(ASA)25
b(Ames)f(Research)i(Center)1263 1039 y(Mof)n(fett)e(Field,)g
(California,)h(USA)773 1155 y(Email:)30 b Fw(f)p Fx(ha)n(v)o(elund,lo)n
(wry)-6 b(,jpenix)p Fw(g)p Fx(@ptolemy)f(.arc.nasa.go)o(v)808
1271 y(URL:)25 b(http://ic-www)-6 b(.arc.nasa.go)o
(v/ic/projects/amphion)617 1621 y Fv(Abstract)-83 1871
y Fu(This)29 b(paper)e(documents)f(an)i(application)d(of)j(the)g
(\002nite)g(state)-182 1970 y(model)36 b(c)o(hec)n(k)o(er)i
Fs(S)t Ft(P)t(I)t(N)i Fu(to)d(formally)g(verify)g(a)g(multi\226thr)m
(eaded)-182 2070 y(plan)c(e)n(xecution)g(pr)l(o)o(gr)o(amming)f(langua)
o(g)o(e)o(.)64 b(The)34 b(plan)f(e)n(xecu-)-182 2170
y(tion)17 b(langua)o(g)o(e)f(is)j(one)f(component)e(of)i(N)n(ASA)m(')m
(s)g(Ne)o(w)h(Millennium)-182 2269 y(Remote)33 b(Ag)o(ent,)k(an)d
(arti\002cial)g(intellig)o(ence)f(based)h(spacecr)o(aft)-182
2369 y(contr)l(ol)29 b(system)i(ar)m(c)o(hitectur)m(e)e(that)g(is)i(sc)
o(heduled)e(to)h(launc)o(h)e(in)-182 2468 y(October)e(of)h(1998)f(as)h
(part)g(of)g(the)i Fs(D)t Ft(E)t(E)t(P)h Fs(S)t Ft(P)n(A)q(C)t(E)j
Fs(1)c Fu(mission)e(to)-182 2568 y(Mar)o(s.)53 b(The)29
b(langua)o(g)o(e)e(is)j(concr)m(etely)f(named)h Fs(E)t
Ft(S)t(L)h Fu(\(Executive)-182 2668 y(Support)f(Langua)o(g)o(e\))f(and)
h(is)j(basically)d(a)i(langua)o(g)o(e)d(designed)-182
2767 y(to)23 b(support)f(the)h(construction)e(of)i(r)m(eactive)g(contr)
l(ol)g(mec)o(hanisms)-182 2867 y(for)e(autonomous)e(r)l(obots)i(and)f
(space)h(cr)o(afts.)27 b(It)22 b(of)o(fer)o(s)f(advanced)-182
2967 y(contr)l(ol)26 b(constructs)g(for)h(mana)o(ging)e(inter)o(acting)
g(par)o(allel)h(goal-)-182 3066 y(and-e)o(vent)h(driven)j(pr)l
(ocesses,)i(and)e(is)g(curr)m(ently)g(implemented)-182
3166 y(as)18 b(an)g(e)n(xtension)f(to)i(a)f(multi-thr)m(eaded)g
Fs(C)t Ft(O)t(M)t(M)t(O)t(N)24 b Fs(L)t Ft(I)t(S)t(P)r
Fu(.)h(A)18 b(total)-182 3265 y(of)26 b Fr(5)g Fu(err)l(or)o(s)i(wer)m
(e)f(in)g(fact)f(identi\002ed,)g Fr(4)h Fu(of)f(whic)o(h)g(wer)m(e)h
(impor)n(-)-182 3365 y(tant.)d(This)18 b(is)h(r)m(e)m(gar)m(ded)e(as)i
(a)f(very)g(successful)h(r)m(esult.)25 b(Accor)m(ding)-182
3465 y(to)18 b(the)g(Remote)g(Ag)o(ent)f(pr)l(o)o(gr)o(amming)g(team)h
(the)g(ef)o(fort)h(has)f(had)f(a)-182 3564 y(major)i(impact,)f
(locating)g(err)l(or)o(s)j(that)d(would)h(pr)l(obably)f(not)h(have)-182
3664 y(been)f(located)g(otherwise)h(and)f(identifying)f(a)i(major)g
(design)f(\003aw)-6 b(.)-182 3764 y(The)23 b(work)g(additionally)e
(motivated)g(the)i(intr)l(oduction)e(of)i(pr)l(oce-)-182
3863 y(dur)o(al)c(abstr)o(action)g(in)h(terms)h(of)g(inline)f(pr)l
(ocedur)m(es)f(in)j Fs(S)t Ft(P)t(I)t(N)r Fu(.)-182 4254
y Fv(1)99 b(Intr)n(oduction)-81 4528 y Fs(S)t Ft(P)t(I)t(N)23
b Fs([7)o(])c(is)i(a)e(v)o(eri\002cation)f(system)i(that)f(supports)f
(the)i(design)-182 4628 y(and)33 b(v)o(eri\002cation)f(of)i(\002nite)g
(state)g(asynchronous)d(process)j(sys-)-182 4727 y(tems.)h(Programs)22
b(are)h(formulated)f(in)h(the)j(P)t Ft(R)q(O)t(M)t(E)t(L)t(A)g
Fs(program-)-182 4827 y(ming)h(language,)h(which)g(is)h(quite)e
(similar)i(to)f(an)g(ordinary)e(pro-)-182 4926 y(gramming)33
b(language,)k(e)o(xcept)d(for)h(certain)g(non-deterministic)-182
5026 y(speci\002cation)29 b(oriented)g(constructs.)55
b(Processes)31 b(communicate)-182 5126 y(either)24 b(via)h(shared)g(v)n
(ariables)f(or)h(via)g(message)f(passing)h(through)-182
5225 y(b)n(uf)n(fered)30 b(channels.)59 b(Properties)31
b(to)h(be)g(v)o(eri\002ed)f(are)h(stated)g(in)-182 5325
y(the)19 b(linear)h(temporal)e(logic)j(L)m Ft(T)t(L)r
Fs(.)k(The)c(S)t Ft(P)t(I)t(N)i Fu(model)c(c)o(hec)n(k)o(er)h
Fs(can)1974 1621 y(automatically)15 b(determine)g(whether)g(a)i
(program)e(satis\002es)j(a)f(prop-)1974 1721 y(erty)-5
b(,)18 b(and)g(in)h(case)g(the)f(property)f(does)h(not)h(hold,)f(an)g
(error)g(trace)g(is)1974 1821 y(generated.)2073 1959
y(This)g(paper)e(documents)f(an)i(application)f(of)i(S)t
Ft(P)t(I)t(N)i Fs(to)e(formally)1974 2059 y(v)o(erify)29
b(a)i(multi\226threaded)d(plan)j(e)o(x)o(ecution)d(programming)g(lan-)
1974 2159 y(guage)k(\(a)h(library)f(really\).)63 b(The)32
b(plan)h(e)o(x)o(ecution)e(language)g(is)1974 2258 y(one)18
b(component)e(of)i(N)m(ASA)-9 b(')k(s)19 b(Ne)n(w)g(Millennium)e
(Remote)i(Agent)1974 2358 y(\(RA\))25 b([9)o(],)g(an)g(arti\002cial)g
(intelligence)f(based)g(spacecraft)f(control)1974 2457
y(system)k(architecture)d(that)j(is)g(scheduled)f(to)g(launch)g(in)g
(October)1974 2557 y(of)34 b(1998)f(as)i(part)e(of)h(the)j(D)t
Ft(E)t(E)t(P)h Fs(S)t Ft(P)n(A)q(C)t(E)h Fs(1)e(mission)d(to)g(Mars.)
1974 2657 y(The)j(language)e(is)k(concretely)c(named)j(E)t
Ft(S)t(L)i Fs(\(Ex)o(ecuti)n(v)o(e)35 b(Sup-)1974 2756
y(port)18 b(Language\))d(and)j(is)i(basically)e(a)g(language)f
(designed)g(to)i(sup-)1974 2856 y(port)e(the)h(construction)d(of)j
(reacti)n(v)o(e)e(control)h(mechanisms)g(for)g(au-)1974
2956 y(tonomous)c(robots)i(and)f(space)i(crafts.)23 b(It)16
b(of)n(fers)e(adv)n(anced)f(control)1974 3055 y(constructs)20
b(for)h(managing)e(interacting)h(parallel)h(goal-and-e)n(v)o(ent)1974
3155 y(dri)n(v)o(en)c(processes,)i(and)g(is)h(currently)e(implemented)f
(as)j(an)f(e)o(xten-)1974 3254 y(sion)h(to)g(a)h(multi-threaded)f(C)t
Ft(O)t(M)t(M)t(O)t(N)25 b Fs(L)t Ft(I)t(S)t(P)r Fs(.)2075
3393 y(E)t Ft(S)t(L)50 b Fs(is)e(used)e(to)i(program)c(the)k(RA)f
Fu(Executive)p Fs(,)53 b(a)48 b(sub-)1974 3493 y(component)17
b(of)i(the)h(RA,)g(responsible)e(for)h(e)o(x)o(ecuting)f(jobs)h(safely)
1974 3592 y(on)g(board.)k(T)-7 b(o)20 b(analyze)e(a)i
Fu(langua)o(g)o(e)d Fs(lik)o(e)22 b(E)t Ft(S)t(L)r Fs(,)d(which)g(is)h
(generic)1974 3692 y(in)28 b(its)h(nature,)g(we)g(ha)n(v)o(e)f(set)h
(up)e(a)i(special)f(situation)g(called)g(the)1974 3792
y Fu(model)17 b Fs(\226)i(really)e(a)i(small)f(e)o(xample)f(RA)i(Ex)o
(ecuti)n(v)o(e)d(\226)i(with)g(a)h(\002x)o(ed)1974 3891
y(number)27 b(of)i(tasks)h(all)f(using)g(constructs)f(of)h(the)g
(language,)h(and)1974 3991 y(then)c(observ)o(ed)f(whether)h(this)h
Fu(model)g Fs(satis\002es)h(v)n(arious)e(desired)1974
4090 y(properties.)c(The)16 b(ef)n(fort)f(has)i(consisted)f(of)g(hand)f
(translating)g(parts)1974 4190 y(of)28 b(the)i(L)t Ft(I)t(S)t(P)h
Fs(code)d(for)i(E)t Ft(S)t(L)g Fs(into)e(the)i(P)t Ft(R)q(O)t(M)t(E)t
(L)t(A)i Fs(language)26 b(of)1976 4290 y(S)t Ft(P)t(I)t(N)r
Fs(.)40 b(A)26 b(total)f(of)g Fr(5)g Fs(errors)f(ha)n(v)o(e)h(in)g(f)o
(act)g(been)f(identi\002ed,)h Fr(4)g Fs(of)1974 4389
y(which)e(are)i(important.)35 b(This)24 b(is)h(re)o(garded)d(as)j(a)f
(v)o(ery)f(successful)1974 4489 y(result.)44 b(According)24
b(to)j(the)g(RA)g(programming)c(team)k(the)f(ef)n(fort)1974
4589 y(has)h(had)g(a)h(major)e(impact,)i(locating)f(errors)f(that)h(w)o
(ould)g(proba-)1974 4688 y(bly)18 b(not)g(ha)n(v)o(e)f(been)h(located)f
(otherwise)h(and)f(identifying)f(a)j(major)1974 4788
y(design)k(\003a)o(w)g(not)h(yet)f(resolv)o(ed)f(at)i(the)g(time)g(of)f
(writing)g(our)f(\002rst)1974 4887 y(report)d([4)o(].)2073
5026 y(Section)35 b(2)g(contains)f(an)g(informal)g(description)f(of)h
(the)h(RA)1974 5126 y(Ex)o(ecuti)n(v)o(e,)j(while)e(section)f(3)i
(describes)e(its)i(formalization)d(in)1976 5225 y(P)t
Ft(R)q(O)t(M)t(E)t(L)t(A)r Fs(.)61 b(Section)31 b(4)h(presents)f(the)h
(v)o(eri\002cation)e(results)j(by)1974 5325 y(\002rst)e(stating)g(the)g
(properties)f(to)h(be)f(v)o(eri\002ed,)i(and)f(then)f(by)h(de-)p
eop
%%Page: 2 2
2 1 bop -182 83 a Fs(scribing)21 b(the)i(errors)e(found)g(by)h
(applying)f(the)i(model)e(check)o(er)h(to)-182 183 y(the)i(model)f(and)
g(these)h(properties.)35 b(Each)23 b(error)g(is)i(described)d(by)-182
282 y(an)e(error)f(trace)h(leading)g(from)f(the)h(initial)h(system)g
(state)g(to)f(a)h(state)-182 382 y(that)27 b(breaks)g(the)h(particular)
f(property)e(being)i(v)o(eri\002ed.)47 b(Finally)-5 b(,)-182
482 y(sections)22 b(5)h(and)e(6)i(contain)e(the)i(RA)g(programming)c
(team')-5 b(s)23 b(e)n(v)n(al-)-182 581 y(uation)18 b(of)i(the)g
(project,)e(and)i(our)f(o)n(wn)g(conclusions)f(respecti)n(v)o(ely)-5
b(.)-182 681 y(Our)30 b(o)n(wn)f(conclusions)g(concern)g(issues)i(such)
f(as)j(P)t Ft(R)q(O)t(M)t(E)t(L)t(A)r Fs(')-5 b(s)-182
780 y(capabilities)28 b(seen)g(as)h(a)g(speci\002cation)e(notation,)i
(and)e(tool)h(sup-)-182 880 y(port)19 b(for)h(model)f(b)n(uilding.)-182
1132 y Fq(Ackno)o(wledgments)-182 1319 y Fs(W)-7 b(e)29
b(w)o(ould)f(lik)o(e)h(to)g(thank)e(Erann)g(Gat,)k(who)d(has)h
(programmed)-180 1419 y(E)t Ft(S)t(L)r Fs(,)g(for)d(his)i(useful)f
(responses)g(to)h(our)e(error)h(reports,)h(and)f(for)-182
1519 y(pro)o(viding)21 b(the)j(basic)h(contents)f(of)g(the)g(e)n(v)n
(aluation)f(in)h(section)g(5.)-182 1618 y(When)c(we)g(occasionally)f
(refer)h(to)g(the)h Fu(RA)f(pr)l(o)o(gr)o(amming)f(team)p
Fs(')-5 b(s)-182 1718 y(response)25 b(to)h(our)g(w)o(ork,)g(it)h(is)g
(his)g(response)e(that)h(is)i(referred)c(to.)-182 1818
y(W)-7 b(e)16 b(also)g(w)o(ant)g(to)f(thank)g(Ron)g(K)n(eesing)g(and)g
(Barne)o(y)g(Pell)h(who)f(are)-182 1917 y(members)27
b(of)h(the)g(RA)h(programming)c(team.)49 b(Their)28 b(comments)-182
2017 y(were)e(more)f(related)g(to)i(e)o(xplaining)c(the)j(model)g(and)f
(suggesting)-182 2116 y(properties)30 b(to)j(be)f(v)o(eri\002ed.)60
b(Finally)-5 b(,)35 b(we)d(ha)n(v)o(e)g(had)f(an)i(ongo-)-182
2216 y(ing)21 b(useful)f(email)i(con)m(v)o(ersation)c(with)24
b(S)t Ft(P)t(I)t(N)r Fs(')-5 b(s)23 b(designer)m(,)d(Gerard)-182
2316 y(Holzmann.)43 b(A)27 b(result)g(of)g(this)g(communication)d(w)o
(as)k(the)f(intro-)-182 2415 y(duction)18 b(of)i(\223inline\224)g
(procedures)e(in)k(P)t Ft(R)q(O)t(M)t(E)t(L)t(A)r Fs(.)-182
2678 y Fv(2)99 b(Inf)n(ormal)24 b(Description)i(of)f(the)g(RA)g
(Executi)o(v)o(e)-83 2925 y Fs(In)31 b(this)g(section,)i(we)e(gi)n(v)o
(e)f(an)g(informal)f(description)h(of)g(the)-182 3024
y(RA)c(Ex)o(ecuti)n(v)o(e.)39 b(After)26 b(an)f(o)o(v)o(ervie)n(w)f
(follo)n(ws)h(a)h(description)e(of)-182 3124 y(the)c(data)g(types)g
(and)g(the)g(processes)g(of)g(the)g(system.)-182 3362
y Fp(2.1)90 b(Ov)o(er)o(view)-83 3600 y Fs(The)21 b(RA)i(Ex)o(ecuti)n
(v)o(e,)c(Figure)i(1,)h(is)h(designed)d(to)i(support)e(safe)-182
3699 y(e)o(x)o(ecution)26 b(of)i(softw)o(are)h(controlled)e
Fu(tasks)i Fs(on)f(board)f(the)i(space)-182 3799 y(craft.)i(A)23
b(task)g(may)f(for)g(e)o(xample)f(be)i(to)g(run)e(and)h(surv)o(e)o(y)f
(a)i(cam-)-182 3899 y(era.)g(A)16 b(task)g(often)f(requires)g
(speci\002c)h Fu(pr)l(operties)g Fs(to)g(hold)f(in)h(order)-182
3998 y(to)31 b(e)o(x)o(ecute)f(correctly)-5 b(.)56 b(F)o(or)31
b(e)o(xample,)h(the)f(camera\226surv)o(e)o(ying)-182
4098 y(task)17 b(may)g(require)f(the)i(camera)e(to)i(be)f(turned)f(on)h
(throughout)e(task)-182 4198 y(e)o(x)o(ecution.)22 b(When)c(a)h(task)g
(is)g(started)f(\(dynamically\),)e(it)j(\002rst)g(tries)-182
4297 y(to)f Fu(ac)o(hie)o(ve)f Fs(the)i(properties)e(on)h(which)g(it)h
(depends;)f(where)g(after)g(it)-182 4397 y(starts)k(performing)d(its)k
(main)f(function.)28 b(The)21 b(camera\226surv)o(e)o(ying)-182
4496 y(task)i(will)i(for)d(e)o(xample)g(try)i(to)f(turn)g(on)g(the)g
(camera)g(before)f(run-)-182 4596 y(ning)c(the)i(camera.)k(Properties)
19 b(may)-5 b(,)18 b(ho)n(we)n(v)o(er)m(,)f(be)j(une)o(xpectedly)-182
4696 y(brok)o(en)15 b(\(e.g.)23 b(camera)16 b(may)g(be)h(turned)f(of)n
(f\))g(and)g(tasks)h(depending)-182 4795 y(on)i(such)h(brok)o(en)f
(properties)g(must)h(then)f(be)i Fu(interrupted)p Fs(.)-83
4926 y(T)-7 b(o)37 b(simplify)f(the)h(programming)c(of)k(the)g(indi)n
(vidual)e(tasks,)-182 5026 y(the)30 b(RA)i(Ex)o(ecuti)n(v)o(e)d(models)
h(the)h(spacecraft)f(de)n(vices)g(in)h(terms)-182 5126
y(of)k(the)g(v)n(arious)f(properties)g(that)h(the)o(y)g(may)g(ha)n(v)o
(e,)j(and)d(stores)-182 5225 y(these)30 b(in)g(a)h Fu(database)p
Fs(.)53 b(The)30 b(e)o(x)o(ecuti)n(v)o(e)e(pro)o(vides)g(mechanisms)
-182 5325 y(for)k(both)h Fu(ac)o(hie)o(ving)e Fs(and)h
Fu(maintaining)f Fs(these)j(properties,)g(and)2058 83
y
 14208860 11367088 8617410 18879365 30456954 36508876 startTexFig
 2058 83 a
%%BeginDocument: ra.ps
%Magnification: 1.00
/$F2psDict 200 dict def
$F2psDict begin
$F2psDict /mtrx matrix put
/col-1 {0 setgray} bind def
/col0 {0.000 0.000 0.000 srgb} bind def
/col1 {0.000 0.000 1.000 srgb} bind def
/col2 {0.000 1.000 0.000 srgb} bind def
/col3 {0.000 1.000 1.000 srgb} bind def
/col4 {1.000 0.000 0.000 srgb} bind def
/col5 {1.000 0.000 1.000 srgb} bind def
/col6 {1.000 1.000 0.000 srgb} bind def
/col7 {1.000 1.000 1.000 srgb} bind def
/col8 {0.000 0.000 0.560 srgb} bind def
/col9 {0.000 0.000 0.690 srgb} bind def
/col10 {0.000 0.000 0.820 srgb} bind def
/col11 {0.530 0.810 1.000 srgb} bind def
/col12 {0.000 0.560 0.000 srgb} bind def
/col13 {0.000 0.690 0.000 srgb} bind def
/col14 {0.000 0.820 0.000 srgb} bind def
/col15 {0.000 0.560 0.560 srgb} bind def
/col16 {0.000 0.690 0.690 srgb} bind def
/col17 {0.000 0.820 0.820 srgb} bind def
/col18 {0.560 0.000 0.000 srgb} bind def
/col19 {0.690 0.000 0.000 srgb} bind def
/col20 {0.820 0.000 0.000 srgb} bind def
/col21 {0.560 0.000 0.560 srgb} bind def
/col22 {0.690 0.000 0.690 srgb} bind def
/col23 {0.820 0.000 0.820 srgb} bind def
/col24 {0.500 0.190 0.000 srgb} bind def
/col25 {0.630 0.250 0.000 srgb} bind def
/col26 {0.750 0.380 0.000 srgb} bind def
/col27 {1.000 0.500 0.500 srgb} bind def
/col28 {1.000 0.630 0.630 srgb} bind def
/col29 {1.000 0.750 0.750 srgb} bind def
/col30 {1.000 0.880 0.880 srgb} bind def
/col31 {1.000 0.840 0.000 srgb} bind def

end
save
60.5 582.0 translate
1 -1 scale

/cp {closepath} bind def
/ef {eofill} bind def
/gr {grestore} bind def
/gs {gsave} bind def
/sa {save} bind def
/rs {restore} bind def
/l {lineto} bind def
/m {moveto} bind def
/rm {rmoveto} bind def
/n {newpath} bind def
/s {stroke} bind def
/sh {show} bind def
/slc {setlinecap} bind def
/slj {setlinejoin} bind def
/slw {setlinewidth} bind def
/srgb {setrgbcolor} bind def
/rot {rotate} bind def
/sc {scale} bind def
/sd {setdash} bind def
/ff {findfont} bind def
/sf {setfont} bind def
/scf {scalefont} bind def
/sw {stringwidth} bind def
/tr {translate} bind def
/tnt {dup dup currentrgbcolor
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add srgb}
  bind def
/shd {dup dup currentrgbcolor 4 -2 roll mul 4 -2 roll mul
  4 -2 roll mul srgb} bind def
 /DrawEllipse {
	/endangle exch def
	/startangle exch def
	/yrad exch def
	/xrad exch def
	/y exch def
	/x exch def
	/savematrix mtrx currentmatrix def
	x y tr xrad yrad sc 0 0 1 startangle endangle arc
	closepath
	savematrix setmatrix
	} def

/$F2psBegin {$F2psDict begin /$F2psEnteredState save def} def
/$F2psEnd {$F2psEnteredState restore end} def

$F2psBegin
10 setmiterlimit
n 0 842 m 0 0 l 595 0 l 595 842 l cp clip
 0.06000 0.06000 sc
7.500 slw
% Arc
gs  clippath
2925 3215 m 3048 3228 l 2933 3274 l 3094 3253 l 3086 3193 l  cp clip
n 3187.5 4612.5 1392.1 -152.7 -94.6 arc
gs col-1 s gr
 gr

% arrowhead
n 2925 3215 m 3048 3228 l 2933 3274 l 2929 3245 l 2925 3215 l  cp gs 0.00 setgray ef gr  col-1 s
% Arc
gs  clippath
4421 4092 m 4299 4113 l 4397 4037 l 4249 4104 l 4274 4159 l  cp clip
n 4080.7 3510.5 644.5 -65.3 72.5 arc
gs col-1 s gr
 gr

% arrowhead
n 4421 4092 m 4299 4113 l 4397 4037 l 4409 4064 l 4421 4092 l  cp gs 0.00 setgray ef gr  col-1 s
% Arc
gs  clippath
2464 3961 m 2416 3846 l 2512 3925 l 2415 3795 l 2367 3831 l  cp clip
n 3225.0 3300.0 977.9 94.4 147.5 arc
gs col-1 s gr
 gr

% arrowhead
n 2464 3961 m 2416 3846 l 2512 3925 l 2488 3943 l 2464 3961 l  cp gs 0.00 setgray ef gr  col-1 s
% Arc
gs  clippath
2960 2604 m 3051 2687 l 2931 2657 l 3074 2734 l 3102 2681 l  cp clip
n 2554.2 3512.5 965.1 -113.1 -57.3 arc
gs col-1 s gr
 gr

% arrowhead
n 2960 2604 m 3051 2687 l 2931 2657 l 2946 2630 l 2960 2604 l  cp gs 0.00 setgray ef gr  col-1 s
% Arc
gs  clippath
2960 2004 m 3051 2087 l 2931 2057 l 3074 2134 l 3102 2081 l  cp clip
n 2554.2 2912.5 965.1 -113.1 -57.3 arc
gs col-1 s gr
 gr

% arrowhead
n 2960 2004 m 3051 2087 l 2931 2057 l 2946 2030 l 2960 2004 l  cp gs 0.00 setgray ef gr  col-1 s
% Arc
gs  clippath
4419 4393 m 4301 4352 l 4424 4333 l 4263 4319 l 4257 4379 l  cp clip
n 4505.1 2602.2 1762.9 43.9 97.5 arc
gs col-1 s gr
 gr

% arrowhead
n 4419 4393 m 4301 4352 l 4424 4333 l 4421 4363 l 4419 4393 l  cp gs 0.00 setgray ef gr  col-1 s
% Arc
gs  clippath
4587 767 m 4698 819 l 4575 826 l 4734 857 l 4746 798 l  cp clip
n 4050.0 3828.4 3078.3 -135.0 -77.3 arc
gs col-1 s gr
 gr

% arrowhead
n 4587 767 m 4698 819 l 4575 826 l 4581 797 l 4587 767 l  cp gs 0.00 setgray ef gr  col-1 s
% Arc
gs  clippath
4575 1120 m 4698 1129 l 4585 1179 l 4745 1152 l 4735 1093 l  cp clip
n 4940.6 2873.4 1761.7 -132.5 -97.0 arc
gs col-1 s gr
 gr

% arrowhead
n 4575 1120 m 4698 1129 l 4585 1179 l 4580 1149 l 4575 1120 l  cp gs 0.00 setgray ef gr  col-1 s
% Arc
gs  clippath
5976 2034 m 5928 2148 l 5917 2025 l 5893 2185 l 5952 2194 l  cp clip
n 4912.5 1950.0 1037.2 -40.6 12.5 arc
gs col-1 s gr
 gr

% arrowhead
n 5976 2034 m 5928 2148 l 5917 2025 l 5947 2030 l 5976 2034 l  cp gs 0.00 setgray ef gr  col-1 s
% Ellipse
n 1650 2100 450 225 0 360 DrawEllipse gs col-1 s gr

% Ellipse
n 1650 2700 450 225 0 360 DrawEllipse gs col-1 s gr

% Ellipse
n 1650 4275 450 225 0 360 DrawEllipse gs col-1 s gr

% Ellipse
n 3750 4275 450 225 0 360 DrawEllipse gs col-1 s gr

% Ellipse
n 5850 2625 450 75 0 360 DrawEllipse gs col-1 s gr

% Ellipse
n 5850 3675 450 75 0 360 DrawEllipse gs col-1 s gr

% Polyline
n 3225 3075 m 4200 3075 l gs col-1 s gr 
% Polyline
n 3225 2775 m 4200 2775 l gs col-1 s gr 
% Polyline
n 3225 2475 m 4200 2475 l gs col-1 s gr 
% Polyline
n 3225 2175 m 4200 2175 l gs col-1 s gr 
% Polyline
n 3600 1875 m 3600 3375 l gs col-1 s gr 
% Polyline
n 3225 1875 m 4200 1875 l 4200 3375 l 3225 3375 l cp gs col-1 s gr 
% Polyline
n 5400 3675 m 5400 2625 l gs col-1 s gr 
% Polyline
n 6300 2625 m 6300 3675 l gs col-1 s gr 
% Polyline
n 4800 900 m 5175 900 l 5175 1050 l 4800 1050 l cp gs col-1 s gr 
% Polyline
n 5550 900 m 5925 900 l 5925 1050 l 5550 1050 l cp gs col-1 s gr 
% Polyline
n 5250 675 m 5475 675 l 5475 1350 l 5250 1350 l cp gs col-1 s gr 
% Polyline
n 5175 975 m 5250 975 l gs col-1 s gr 
% Polyline
n 5475 975 m 5550 975 l gs col-1 s gr 
% Polyline
n 5325 1350 m 5400 1350 l 5400 1425 l 5325 1425 l cp gs col-1 s gr 
/Times-Roman ff 180.00 scf sf
3375 2100 m
gs 1 -1 sc (A) col-1 sh gr
/Times-Roman ff 180.00 scf sf
3375 2400 m
gs 1 -1 sc (B) col-1 sh gr
/Times-Roman ff 180.00 scf sf
3375 2700 m
gs 1 -1 sc (C) col-1 sh gr
/Times-Roman ff 180.00 scf sf
3375 3300 m
gs 1 -1 sc (Z) col-1 sh gr
/Times-Roman ff 180.00 scf sf
3825 2100 m
gs 1 -1 sc (10) col-1 sh gr
/Times-Roman ff 180.00 scf sf
3825 2400 m
gs 1 -1 sc (ON) col-1 sh gr
/Times-Roman ff 180.00 scf sf
3825 2700 m
gs 1 -1 sc (0) col-1 sh gr
/Times-Roman ff 180.00 scf sf
3750 3300 m
gs 1 -1 sc (OFF) col-1 sh gr
/Times-Roman ff 180.00 scf sf
1650 3075 m
gs 1 -1 sc (.) col-1 sh gr
/Times-Roman ff 180.00 scf sf
1650 3900 m
gs 1 -1 sc (.) col-1 sh gr
/Times-Roman ff 180.00 scf sf
1650 3675 m
gs 1 -1 sc (.) col-1 sh gr
/Times-Roman ff 180.00 scf sf
1650 3270 m
gs 1 -1 sc (.) col-1 sh gr
/Times-Roman ff 180.00 scf sf
1650 3450 m
gs 1 -1 sc (.) col-1 sh gr
/Times-Roman ff 180.00 scf sf
2625 3975 m
gs 1 -1 sc (Interrupt) col-1 sh gr
/Times-Roman ff 180.00 scf sf
2775 3825 m
gs 1 -1 sc (Task) col-1 sh gr
/Times-Roman ff 180.00 scf sf
3075 4725 m
gs 1 -1 sc (Maintain Properties) col-1 sh gr
/Times-Roman ff 180.00 scf sf
3525 4875 m
gs 1 -1 sc (Daemon) col-1 sh gr
/Times-Roman ff 180.00 scf sf
2250 3000 m
gs 1 -1 sc (Subscribe) col-1 sh gr
/Times-Roman ff 180.00 scf sf
5625 4200 m
gs 1 -1 sc (Update) col-1 sh gr
/Times-Roman ff 180.00 scf sf
5550 2475 m
gs 1 -1 sc (Database) col-1 sh gr
/Times-Roman ff 180.00 scf sf
3150 1800 m
gs 1 -1 sc (Property Locks) col-1 sh gr
/Times-Roman ff 180.00 scf sf
1425 1800 m
gs 1 -1 sc (Tasks) col-1 sh gr
/Times-Roman ff 180.00 scf sf
4950 600 m
gs 1 -1 sc (Spacecraft) col-1 sh gr
/Times-Roman ff 180.00 scf sf
1725 1200 m
gs 1 -1 sc (Commands) col-1 sh gr
/Times-Roman ff 180.00 scf sf
1725 1050 m
gs 1 -1 sc (Control) col-1 sh gr
/Times-Roman ff 180.00 scf sf
6000 1500 m
gs 1 -1 sc (Monitors) col-1 sh gr
/Times-Roman ff 180.00 scf sf
3150 1275 m
gs 1 -1 sc (Achieve) col-1 sh gr
/Times-Roman ff 180.00 scf sf
3150 1425 m
gs 1 -1 sc (Property) col-1 sh gr
/Times-Roman ff 180.00 scf sf
4650 3075 m
gs 1 -1 sc (Event) col-1 sh gr
/Times-Roman ff 180.00 scf sf
4650 2925 m
gs 1 -1 sc (Lock) col-1 sh gr
/Times-Roman ff 180.00 scf sf
5700 4350 m
gs 1 -1 sc (Event) col-1 sh gr
showpage
$F2psEnd
rs
%%EndDocument

 endTexFig
 2287 1789 a Fo(Figure)23 b(1.)g(Remote)g(Ag)q(ent)f(Ex)o(ecutive)1974
2027 y Fs(uses)28 b Fu(loc)n(ks)g Fs(to)g(pre)n(v)o(ent)e(tasks)i(with)
g Fu(incompatible)e Fs(property)f(re-)1974 2127 y(quests)16
b(from)e(e)o(x)o(ecuting)g(concurrently)-5 b(.)20 b(Ex)o(ecuting)14
b(concurrently)1974 2226 y(with)19 b(the)g(tasks)g(is)h(a)f
Fu(\223maintain)e(pr)l(operties\224)i(daemon)f Fs(that)g(mon-)1974
2326 y(itors)30 b(the)f(database)h(representing)d(the)j(state)g(of)g
(the)f(spacecraft.)1974 2426 y(If)h(there)h(is)g(an)g
Fu(inconsistency)e Fs(between)h(the)h(database)f(and)g(the)1974
2525 y(locks)25 b(\226)h(meaning)f(that)g(a)i(lock)o(ed)d(property)g
(no)h(longer)g(holds)g(in)1974 2625 y(the)d(database)f(\226)h(the)g
(daemon)e(suspends)i(all)g(tasks)h Fu(subscribed)e Fs(to)1974
2724 y(the)30 b(property)f(while)i(some)f(action)g(is)i(tak)o(en)e(to)h
(re-achie)n(v)o(e)d(the)1974 2824 y(property)-5 b(.)49
b(The)29 b(daemon)f(is)i(normally)e(inacti)n(v)o(e)g(unless)i(certain)
1974 2924 y Fu(e)o(vents)21 b Fs(happen,)e(such)i(as)h(a)f(change)f(of)
h(the)g(database)g(or)g(the)g(lock)1974 3023 y(table.)2073
3135 y(The)e(Ex)o(ecuti)n(v)o(e)d(permits)j(v)n(arious)e
Fu(ac)o(hie)o(ve)h(methods)f Fs(to)i(be)g(as-)1974 3234
y(sociated)30 b(with)g(a)g(property)-5 b(.)52 b(Then,)32
b(when)d(a)i(task)f(mak)o(es)g(a)g(re-)1974 3334 y(quest)23
b(for)g(a)h(property)d(to)j(be)f(achie)n(v)o(ed,)f(the)i(Ex)o(ecuti)n
(v)o(e)d(calls)j(the)1974 3434 y(achie)n(v)o(e)j(method)f(that)i(is)h
(appropriate)d(for)h(the)h(current)f(state)h(of)1974
3533 y(the)d(system.)41 b(This)25 b(aspect)g(will,)i(ho)n(we)n(v)o(er)m
(,)d(not)h(be)h(subjected)e(to)1974 3633 y(v)o(eri\002cation,)k(and)g
(hence)f(we)i(shall)f(do)n(wnplay)e(it.)50 b(Instead,)29
b(we)1974 3733 y(shall)20 b(re)o(gard)e(the)h(tasks)i(as)f(being)f
(able)h(to)g(achie)n(v)o(e)e(properties)g(di-)1974 3832
y(rectly)i(themselv)o(es.)1974 4037 y Fp(2.2)90 b(Data)23
b(T)-7 b(ypes)1974 4242 y Fq(The)21 b(Pr)o(operties)1974
4410 y Fs(A)f(property)e(describes)h(some)h(state)h(of)e(the)h(space)g
(craft.)25 b(In)19 b(terms)1974 4509 y(of)28 b(programming)d(jar)o
(gon,)k(it)h(basically)e(states)i(that)e(some)h(v)n(ari-)1974
4609 y(able,)e(called)f(the)g Fu(pr)l(operty)f(name)p
Fs(,)i(has)f(some)g(v)n(alue,)g(called)g(the)1974 4709
y Fu(pr)l(operty)20 b(value)p Fs(.)k(F)o(or)c(e)o(xample,)e(the)j
(follo)n(wing)d(is)j(a)g(property:)2694 4867 y(C)t Ft(A)t(M)t(E)t(R)t
(A)i Fu(is)h Fs(O)t Ft(N)1974 5026 y Fs(It)h(states)i(that)e(the)h
(property)d(name)k(C)t Ft(A)t(M)t(E)t(R)t(A)h Fs(has)e(the)f(property)
1974 5126 y(v)n(alue)30 b(O)t Ft(N)r Fs(.)51 b(Hence,)30
b(a)g(property)c Fn(p)j Fs(is)h(a)f(pairing)f(of)g(a)h(property)1974
5225 y(name)20 b Fn(pn)i Fs(and)f(a)g(property)e(v)n(alue)i
Fn(pv)s Fs(:)28 b Fn(p)d Fr(=)f(\()p Fn(pn;)14 b(pv)s
Fr(\))p Fs(.)29 b(The)21 b(prop-)1974 5325 y(erty)f(abo)o(v)o(e)e(can)i
(be)g(written)g(as)h(\()r(C)t Ft(A)t(M)t(E)t(R)t(A)r
Fs(,)r(O)t Ft(N)r Fs(\).)1859 5574 y(2)p eop
%%Page: 3 3
3 2 bop -182 83 a Fq(The)21 b(Database)-182 274 y Fs(The)32
b(state)h(of)g(the)f(space)h(craft)f(is)i(constantly)d(monitored,)i
(and)-182 374 y(stored)18 b(in)h(a)h(database.)k(Since)19
b(the)g(current)f(state)i(can)f(be)g(re)o(garded)-182
474 y(as)27 b(the)f(set)h(of)f(properties)f(that)h(currently)e(hold,)j
(the)f(database)g(is)-182 573 y(basically)19 b(a)i(set)g(of)f(such)g
(properties.)-182 832 y Fq(The)h(Pr)o(operty)d(Lock)j(T)-8
b(able)-182 1023 y Fs(As)27 b(mentioned,)g(a)g(task)h(can)f(lock)f(a)h
(property)e(to)j(pre)n(v)o(ent)d(other)-182 1122 y(tasks)17
b(requiring)e(incompatible)f(properties)i(from)f(e)o(x)o(ecuting)g
(con-)-182 1222 y(currently)-5 b(.)89 b(T)-7 b(w)o(o)43
b(properties)e Fn(p)830 1234 y Fm(1)931 1222 y Fr(=)64
b(\()p Fn(pn;)14 b(pv)1303 1234 y Fm(1)1340 1222 y Fr(\))44
b Fs(and)d Fn(p)1620 1234 y Fm(2)1722 1222 y Fr(=)-182
1322 y(\()p Fn(pn;)14 b(pv)61 1334 y Fm(2)98 1322 y Fr(\))37
b Fs(are)g(incompatible,)i(if)e(the)o(y)f(ha)n(v)o(e)g(the)h(same)g
(prop-)-182 1421 y(erty)25 b(name)h(\()p Fn(pn)p Fs(\))f(b)n(ut)h(dif)n
(ferent)f(property)f(v)n(alues)h(\()p Fn(pv)1449 1433
y Fm(1)1520 1421 y Fl(6)p Fr(=)34 b Fn(pv)1701 1433 y
Fm(2)1738 1421 y Fs(\).)-182 1521 y(The)23 b(property)e(lock)i(table)g
(contains)g(those)g(properties)f(that)i(ha)n(v)o(e)-182
1620 y(been)i(lock)o(ed.)46 b(In)27 b(addition,)h(it)g(contains)f
(information)d(for)j(each)-182 1720 y(property)e(about)h(which)g(tasks)
i(subscribe)e(to)h(it)h(\(rely)e(on)h(it\))g(and)-182
1820 y(whether)e(it)i(has)g(been)f(achie)n(v)o(ed)e(or)i(not.)44
b(That)26 b(is,)j(the)d(property)-182 1919 y(lock)20
b(table)h(can)g(be)g(re)o(garded)d(as)k(a)f(set)h(of)f(locks,)g(where)f
(a)h(lock)g(is)-182 2019 y(a)f(triple)g(of)g(the)g(form:)25
b Fr(\()p Fn(p;)14 b(subscr)r(iber)r(s;)g(achiev)s(ed)p
Fr(\))1414 1989 y Fm(1)1449 2019 y Fs(.)-83 2154 y(If)34
b(there)g(is)i(an)e(inconsistenc)o(y)f(between)g(the)i(database)e(and)
-182 2253 y(the)25 b(locks,)i(the)e(daemon)f(suspends)h(all)i(tasks)f
(subscribed)e(to)i(the)-182 2353 y(property)-5 b(.)22
b(An)e(inconsistenc)o(y)e(occurs)i(if)g(the)g(lock)g(table)g(contains)
-182 2453 y(a)29 b(lock)f Fn(l)40 b Fr(=)e(\()p Fn(p;)14
b(sub;)g(tr)r(ue)p Fr(\))29 b Fs(with)f(a)i(property)c
Fn(p)j Fs(that)g(has)g(been)-182 2552 y(achie)n(v)o(ed)18
b(\(achie)n(v)o(ed)g(\002eld)j(is)g Fn(tr)r(ue)p Fs(\))f(b)n(ut)g(is)h
(not)f(in)h(the)f(database.)-182 2811 y Fq(The)h(Ev)o(ents)-182
3002 y Fs(Whene)n(v)o(er)g(the)j(lock)f(table)g(or)g(the)h(database)f
(is)h(changed,)e(this)i(is)-182 3102 y(signaled)f(to)g(the)h(daemon)e
(so)i(that)g(it)h(can)e(e)o(xamine)f(the)i(rene)n(wed)-182
3201 y(system)30 b(state.)57 b(In)30 b(general,)i(application)d(tasks)i
(may)f(also)h(w)o(ait)-182 3301 y(for)21 b(such)g(e)n(v)o(ents)h(to)g
(happen)e(as)i(described)f(belo)n(w)-5 b(.)29 b(F)o(or)21
b(this)i(pur)n(-)-182 3400 y(pose,)34 b(e)n(v)o(ent)d(lists)i(are)f
(introduced,)g(one)g(for)f(each)h(instance)f(of)-182
3500 y(e)n(v)o(ent:)45 b(S)t Ft(N)r(A)t(R)t(F)p 308 3500
25 4 v 34 w Fs(E)t Ft(V)t(E)t(N)t(T)32 b Fs(\(representing)27
b(a)j(change)e(of)i(the)f(lock)-182 3600 y(table)36 b(\226)g
Fu(to)g(snarf)h Fs(is)g(implementers)d(jar)o(gon)h(for)g
Fu(to)h(loc)n(k)p Fs(\))g(and)-180 3699 y(M)t Ft(E)t(M)t(O)t(RY)p
157 3699 V 33 w Fs(E)t Ft(V)t(E)t(N)t(T)25 b Fs(\(representing)c(a)j
(change)d(of)i(the)g(database\).)-182 3799 y(An)o(y)f(process)g(\(task)
g(or)h(daemon\))d(w)o(anting)i(to)h(w)o(ait)g(for)f(an)h(e)n(v)o(ent)
-182 3899 y(to)i(happen)e(calls)i(a)h Fu(wait)f Fs(procedure,)f(which)g
(hooks)g(up)g(the)h(pro-)-182 3998 y(cess)k(to)f(the)g(corresponding)d
(list.)50 b(Whene)n(v)o(er)26 b(changes)i(happen)-182
4098 y(to)k(these)g(data)g(structures,)i(the)e(corresponding)c(e)n(v)o
(ent)k(lists)h(are)-182 4197 y(signaled,)25 b(via)g(the)g
Fu(signal)g Fs(procedure,)e(resulting)i(in)g(the)g(w)o(aiting)-182
4297 y(processes)19 b(being)h(restarted)f(-)i(for)e(e)o(xample)g(the)h
(daemon.)-182 4541 y Fp(2.3)90 b(Pr)n(ocesses)-182 4784
y Fq(The)21 b(T)-8 b(asks)-182 4976 y Fs(Before)18 b(a)h(task)g(e)o(x)o
(ecutes)f(its)i(main)f(job,)f(it)i(will)f(try)g(to)g(achie)n(v)o(e)f
(the)-182 5075 y(properties)j(that)i(the)f(e)o(x)o(ecution)f(depends)g
(on.)32 b(First,)24 b(ho)n(we)n(v)o(er)m(,)d(it)-182
5175 y(will)30 b(lock)f(the)g(properties)f(in)h(the)h(lock)f(table)g
(\226)g(this)h(acti)n(vity)f(is)p -182 5248 788 4 v -97
5302 a Fk(1)-63 5325 y Ft(The)17 b(\002gure)h(only)f(sho)n(ws)g(the)h
(properties)h(of)e(the)h(lock)g(table.)1974 83 y Fs(called)g
Fu(snar\002ng)f Fs(by)i(implementers.)j(The)d(snar\002ng)e(of)h(a)h
(property)1974 183 y(can,)25 b(ho)n(we)n(v)o(er)m(,)d(only)i(succeed)f
(if)i(it)f(is)i(compatible)c(with)j(the)f(e)o(x-)1974
282 y(isting)c(locks,)f(and)h(in)g(case)g(it')-5 b(s)21
b(not,)f(the)f(task)i(is)g(aborted.)i(If)d(there)1974
382 y(are)25 b(not)g(con\003icting)f(locks,)i(the)f(task)g(will)h
(create)f(the)g(lock,)h(if)f(it)1974 482 y(is)k(not)g(already)e(there.)
50 b(Note)29 b(that)f(some)h(other)f(task)h(may)f(ha)n(v)o(e)1974
581 y(lock)o(ed)c(the)g(e)o(xact)h(same)f(property)f(already)-5
b(,)24 b(and)g(this)i(is)f(not)g(de-)1974 681 y(\002ned)i(as)i(a)f
(con\003ict.)48 b(If)28 b(it)h(succeeds,)g(the)f(task)g(also)h(puts)f
(itself)1974 780 y(into)20 b(the)h(subscribers)e(list)j(of)e(the)h
(lock,)f(indicating)f(that)i(no)n(w)f(this)1974 880 y(task)g(depends)f
(on)h(this)h(property)-5 b(.)2073 1010 y(The)25 b(creator)g(of)g(a)g
(lock)g(is)h(called)f(the)h Fu(owner)p Fs(,)g(in)f(contrast)g(to)1974
1110 y(tasks)h(that)f(subscribe)g(later)g(to)h(the)f(same)h(property)-5
b(.)38 b(The)25 b(o)n(wner)1974 1210 y(is)33 b(responsible)d(for)i
(achie)n(ving)e(the)i(property)-5 b(,)32 b(resulting)f(in)h(the)1974
1309 y(database)22 b(being)g(updated.)31 b(Upon)22 b(successful)g
(achie)n(v)o(ement,)f(the)1974 1409 y(achie)n(v)o(ed)f(\002eld)j(in)f
(the)g(lock)g(is)h(set)g(to)f Fn(tr)r(ue)p Fs(.)31 b(If)22
b(the)g(achie)n(v)o(ement)1974 1508 y(f)o(ails,)33 b(the)d(task)h(is)g
(aborted.)54 b(Other)30 b(tasks)g(that)h(subscribe)e(later)1974
1608 y(than)18 b(the)h(o)n(wner)f(must)i(w)o(ait)f(for)g(the)g(o)n
(wner)f(to)h(achie)n(v)o(e)f(the)h(prop-)1974 1708 y(erty)-5
b(.)23 b(This)16 b(is)h(done)e(by)g(simply)h(w)o(aiting)g(for)f(a)j(M)t
Ft(E)t(M)t(O)t(RY)p 3669 1708 25 4 v 34 w Fs(E)t Ft(V)t(E)t(N)t(T)1974
1807 y Fs(which)25 b(successfully)g(achie)n(v)o(es)g(the)h(property)-5
b(.)39 b(Hence,)27 b(the)f Fu(wait)1974 1907 y Fs(procedure)g(tak)o(es)
j(a)h(property)c(as)k(ar)o(gument)d(in)i(addition)e(to)i(the)1974
2007 y(e)n(v)o(ent)19 b(to)h(be)h(w)o(aited)f(for)-5
b(.)2073 2137 y(Once)31 b(a)g(task)g(has)h(\002rst)f(snarfed)f(and)g
(then)g(achie)n(v)o(ed)g(its)h(re-)1974 2236 y(quired)e(properties,)i
(it)g(e)o(x)o(ecutes)e(its)j(main)e(job,)i(relying)d(on)h(the)1974
2336 y(properties)19 b(to)h(be)g(maintained)f(throughout)e(job)j(e)o(x)
o(ecution.)2073 2466 y(Before)j(a)g(task)h(terminates,)f(it)g(releases)
h(its)g(locks.)33 b(That)23 b(is,)h(it)1974 2566 y(remo)o(v)o(es)15
b(itself)j(from)d(the)i(subscribers)f(list,)j(and)d(in)h(case)g(this)h
(then)1974 2665 y(becomes)23 b(empty)g(\(no)h(other)f(subscribers\),)g
(it)i(remo)o(v)o(es)e(the)h(lock)1974 2765 y(completely)-5
b(.)59 b(In)32 b(case)h(there)f(are)g(other)g(subscribers,)i(the)f
(lock)1974 2865 y(must)20 b(of)g(course)f(be)i(maintained.)1974
3116 y Fq(The)g(\223Maintain)f(Pr)o(operties\224)e(Daemon)1974
3302 y Fs(The)28 b(purpose)g(of)h(this)g(daemon)e(is)j(to)g(guarantee)d
(that)i(achie)n(v)o(ed)1974 3401 y(properties)c(are)i(maintained)e
(while)i(subscribing)e(tasks)j(are)e(e)o(x)o(e-)1974
3501 y(cuting.)46 b(A)28 b(once)f(achie)n(v)o(ed)f(property)f(in)j(the)
g(property)d(lock)i(ta-)1974 3601 y(ble)32 b(is)g(said)g(to)g(be)g
Fu(maintained)d Fs(as)k(long)e(as)h(it)g(is)h(contained)d(in)1974
3700 y(the)g(database)g(\(and)g(hence)g(is)h(a)g(property)e(of)h(the)h
(space)f(craft\).)1974 3800 y(Hence,)20 b(from)f(the)h(perspecti)n(v)o
(e)f(of)h(a)g(task,)h(the)f(maintained)f(prop-)1974 3900
y(erties)30 b(are)h(in)m(v)n(ariants)d(while)i(the)h(task)f(is)h(e)o(x)
o(ecuting)d(\226)j(and)e(the)1974 3999 y(task)20 b(is)h(aborted)e(by)h
(the)g(daemon)f(if)h(not.)2073 4129 y(The)f(daemon)f(is)h(normally)f
(in)h(\223sleeping\224)f(mode,)g(w)o(aiting)h(for)1974
4229 y(an)25 b(e)n(v)o(ent)f(that)h(modi\002es)g(the)g(database)f(\()r
(M)t Ft(E)t(M)t(O)t(RY)p 3547 4229 V 34 w Fs(E)t Ft(V)t(E)t(N)t(T)r
Fs(\))g(or)1974 4329 y(the)33 b(property)e(lock)h(table)h(\()r(S)t
Ft(N)r(A)t(R)t(F)p 3069 4329 V 35 w Fs(E)t Ft(V)t(E)t(N)t(T)r
Fs(\).)63 b(This)33 b(is)h(imple-)1974 4428 y(mented)f(by)i(letting)f
(the)h(daemon)e(w)o(ait)i(in)g(the)g(corresponding)1974
4528 y(e)n(v)o(ent)23 b(lists.)37 b(Once)24 b(started,)g(it)h(e)o
(xamines)e(all)h(locks)g(in)g(the)g(prop-)1974 4628 y(erty)h(lock)f
(table,)j(and)d(for)h(each)g(lock)g(where)f(the)h(achie)n(v)o(ed)f
(\002eld)1974 4727 y(is)j Fn(tr)r(ue)p Fs(,)h(it)f(checks)f(whether)f
(the)i(property)d(is)j(contained)e(in)h(the)1974 4827
y(database.)61 b(If)33 b(the)g(property)d(is)k(not)e(in)h(the)f
(database)g(all)i(tasks)1974 4926 y(in)23 b(the)g(lock')-5
b(s)23 b(subscribers)f(list)j(are)e(interrupted,)e(and)i(a)g(reco)o(v)o
(er)n(-)1974 5026 y(ing)30 b(procedure)e(is)j(initiated)f(which)g(will)
h(re-achie)n(v)o(e)d(the)j(prop-)1974 5126 y(erty)-5
b(.)64 b(After)33 b(ha)n(ving)g(e)o(xamined)e(all)j(locks,)j(the)c
(daemon)f(goes)1974 5225 y(into)c(sleep)g(again)f(by)h(w)o(aiting)f
(for)h(another)g(M)t Ft(E)t(M)t(O)t(RY)p 3669 5225 V
34 w Fs(E)t Ft(V)t(E)t(N)t(T)1974 5325 y Fs(or)22 b(S)t
Ft(N)r(A)t(R)t(F)p 2310 5325 V 34 w Fs(E)t Ft(V)t(E)t(N)t(T)r
Fs(.)1859 5574 y(3)p eop
%%Page: 4 4
4 3 bop -182 83 a Fv(3)99 b(F)n(ormalization)24 b(in)j
Fx(P)t Fj(R)q(O)t(M)t(E)t(L)t(A)-83 350 y Fs(In)j(this)h(section)f(we)g
(present)f(the)k(P)t Ft(R)q(O)t(M)t(E)t(L)t(A)g Fs(model)c(of)h(the)
-182 450 y(RA)25 b(Ex)o(ecuti)n(v)o(e.)36 b(The)24 b(basic)g(data)h
(type)e(of)k(L)t Ft(I)t(S)t(P)g Fs(is)e(that)g(of)f(lists,)-182
549 y(and)c(we)h(therefore)e(be)o(gin)h(our)g(e)o(xposition)f(by)i
(outlining)e(ho)n(w)i(we)-182 649 y(ha)n(v)o(e)j(modeled)g(lists)j(in)h
(P)t Ft(R)q(O)t(M)t(E)t(L)t(A)r Fs(.)42 b(Then)25 b(the)g(presentation)
f(is)-182 749 y(di)n(vided)14 b(into)h(subsections)h(corresponding)c
(to)k(the)f(follo)n(wing)g(top-)-182 848 y(ics:)34 b(the)24
b(state)h(space)g(\(constants,)f(types)g(and)g(global)f(v)n
(ariables\),)-182 948 y(the)28 b(operations)f(on)h(e)n(v)o(ents,)h(the)
g(tasks,)i(the)d(daemon,)h(the)f(en)m(vi-)-182 1048 y(ronment)17
b(that)i(may)g(introduce)f(violations,)g(and)g(\002nally)h(a)h(section)
-182 1147 y(e)o(xplaining)e(ho)n(w)h(the)h(system)h(state)g(is)g
(initialized.)-83 1292 y(The)26 b(L)t Ft(I)t(S)t(P)h
Fs(program)c(that)h(we)h(w)o(ant)f(to)h(model)e(in)k(P)t
Ft(R)q(O)t(M)t(E)t(L)t(A)-182 1392 y Fs(is)19 b(highly)f(structured)f
(using)h(procedural)f(abstraction,)h(and)g(hence)-182
1491 y(is)25 b(di)n(vided)f(into)g(a)i(collection)e(of)g(relati)n(v)o
(ely)g(small-sized)g(proce-)-182 1591 y(dures)29 b(and)g(functions.)52
b(W)-7 b(e)31 b(ha)n(v)o(e)f(tried)f(to)h(maintain)f(the)h(same)-182
1690 y(le)n(v)o(el)35 b(of)g(structuring,)i(using)g(P)t
Ft(R)q(O)t(M)t(E)t(L)t(A)r Fs(')-5 b(s)38 b(inline)d(and)g(macro)-182
1790 y(concept.)24 b(Note)c(furthermore)e(that)i(all)h(communication)d
(between)-182 1890 y(processes)25 b(basically)h(tak)o(es)g(place)f(via)
h Fu(shar)m(ed)f(variables)p Fs(,)i(since)-182 1989 y(this)g(is)g(ho)n
(w)f(the)i(L)t Ft(I)t(S)t(P)h Fs(implementation)c(w)o(orks.)43
b(Channels)26 b(are)-182 2089 y(used)j(to)g(represent)f(lists)j
(though,)f(as)g(will)g(be)f(described)f(in)i(the)-182
2189 y(ne)o(xt)19 b(section.)-182 2447 y Fp(3.1)90 b(Modeling)22
b(Lists)-83 2706 y Fs(The)h(fundamental)e(data)j(type)e(in)k(L)t
Ft(I)t(S)t(P)g Fs(is)e(that)g(of)f(lists.)36 b(Lists)-182
2806 y(are)19 b(used)h(hea)n(vily)f(in)h(the)f(program,)f(and)h(hence)g
(we)h(ha)n(v)o(e)f(tried)h(to)-182 2905 y(\002nd)g(a)h(con)m(v)o
(enient)c(w)o(ay)k(to)f(represent)g(them)g(in)i(P)t Ft(R)q(O)t(M)t(E)t
(L)t(A)r Fs(.)27 b(One)-182 3005 y(solution)14 b(is)i(to)g(de\002ne)f
(an)g(abstract)g(data)h(type,)f(implementing)f(lists)-182
3105 y(as)27 b(arrays)f(and)g(de\002ning)f(the)i(classical)h
(operations)d(lik)o(e)i Fu(add)e(an)-182 3204 y(element)p
Fs(,)k Fu(r)m(emo)o(ve)e(an)h(element)p Fs(,)h(etc.)48
b(as)28 b(macros)f(\(or)g(inlines)h(in)-182 3304 y(the)21
b(ne)n(west)h(v)o(ersion)e(of)j(S)t Ft(P)t(I)t(N)r Fs(\).)30
b(W)-7 b(e)23 b(didn')o(t)d(do)h(this,)h(mainly)e(due)-182
3404 y(to)j(an)g(early)g(attempt)g(to)g(a)n(v)n(oid)h(macros)e(since)i
(the)o(y)e(are)h(not)g(well)-182 3503 y(inte)o(grated)c(into)k(S)t
Ft(P)t(I)t(N)r Fs(;)h(the)o(y)c(do)h(for)g(e)o(xample)f(not)h(support)f
(local)-182 3603 y(v)n(ariables)f(v)o(ery)g(well.)-83
3748 y(As)24 b(an)f(e)o(xperiment)d(\(rather)i(than)g(a)h(choice)f(of)h
(best)g(solution\))-182 3847 y(we)e(decided)e(early)i(to)g(model)f
(lists)i(as)f(channels.)26 b(Channels)21 b(ha)n(v)o(e)-182
3947 y(some)31 b(of)h(the)g(same)g(properties)e(as)j(lists:)50
b(one)31 b(can)h(easily)g Fu(add)-182 4047 y Fs(elements,)26
b(and)g Fu(r)m(emo)o(ve)g Fs(them)f(\(follo)n(wing)f(the)i
(FIFO\226principle)-182 4146 y(though\).)43 b(In)26 b(addition,)h
(channels)f(mak)o(e)h(some)f(operations)g(that)-182 4246
y(we)i(need)g(easy)-5 b(.)49 b(That)28 b(is,)j(questions)c(lik)o(e)i
Fu(\223does)f(list)h Fn(l)h Fu(contain)-182 4345 y(element)c
Fn(x)p Fu(?\224)p Fs(,)j(and)d(operations)f(lik)o(e)i
Fu(\223r)m(emo)o(ve)g(element)g Fn(x)g Fu(fr)l(om)-182
4445 y(the)18 b(list)h Fn(l)h Fu(\226)e(no)f(matter)i(wher)m(e)f(it)h
(is)g(in)f(the)g(list\224)p Fs(.)25 b(W)-7 b(e)19 b(shall)g(shortly)
-182 4545 y(describe)g(the)h(technique.)-83 4690 y(First,)65
b(with)55 b(the)g(macro)f(de\002nition)g(\223)p Fi(#define)48
b(list)-182 4789 y(chan)p Fs(\224)18 b(we)h(de\002ne)f(a)h(ne)n(w)g
(symbol)f Fi(list)g Fs(to)h(stand)g(for)f(the)g(sym-)-182
4889 y(bol)28 b Fi(chan)p Fs(,)j(which)d(is)i(the)g(P)t
Ft(R)q(O)t(M)t(E)t(L)t(A)i Fs(k)o(e)o(yw)o(ord)27 b(for)h(declaring)
-182 4988 y(channels.)23 b(This)c(de\002nition)f(mak)o(es)h(it)h
(possible)f(to)g(declare)f(a)i(\223list)-182 5088 y(v)n(ariable\224)f
(as)h(follo)n(ws:)203 5325 y Fh(list)44 b(numbers)g(=)h([5])f(of)g
Fg(f)p Fh(int)p Fg(g)2073 83 y Fs(The)20 b(\223list)i(v)n(ariable\224)d
Fi(numbers)g Fs(is)i(intended)e(to)i(contain)e(lists)1974
183 y(with)h(a)h(length)f(smaller)g(than)g(or)g(equal)g(to)h
Fr(5)p Fs(.)k(A)c(number)e(of)h(oper)n(-)1974 282 y(ations)h(are)g(no)n
(w)g(de\002ned)f(upon)g(lists,)j(which)e(we)h(shall)f(only)g(gi)n(v)o
(e)1974 382 y(the)f(signatures)f(for)m(,)g(see)i(Figure)f(2.)p
1974 610 1968 4 v 1972 959 4 349 v 2024 692 a Ff(inline)39
b(append\(e,l\))f Fe(f)p Ff(...)p Fe(g)p Ff(;)2024 771
y(inline)h(remove\(e,l\))f Fe(f)p Ff(...)p Fe(g)p Ff(;)2024
850 y(inline)h(copy\(l1,l2\))f Fe(f)p Ff(...)p Fe(g)p
Ff(;)2024 929 y(inline)h(next\(l,x\))118 b Fe(f)p Ff(...)p
Fe(g)p Ff(;)p 3938 959 V 1974 962 1968 4 v 2198 1197
a Fo(Figure)23 b(2.)g(Signatures)g(f)n(or)g(list)g(operations)2073
1420 y Fs(Informally)-5 b(,)77 b(the)67 b(procedures)e(and)i(functions)
f(do)h(the)1974 1520 y(follo)n(wing)2297 1490 y Fm(2)2332
1520 y Fs(.)58 b(The)31 b(procedure)d Fi(append)j Fs(appends)f(an)h
(element)1974 1620 y(to)21 b(the)g(front)f(of)g(a)i(list;)g
Fi(remove)f Fs(remo)o(v)o(es)e(a)i(particular)f(element)1974
1719 y(\(assuming)26 b(it)j(is)f(there\);)j Fi(copy)d
Fs(copies)f(one)g(list)i(\()p Fi(l1)p Fs(\))e(into)h(an-)1974
1819 y(other)21 b(\()p Fi(l2)p Fs(\);)h Fi(next)f Fs(remo)o(v)o(es)f
(the)i(\002rst)g(element)f(inserted)g(\(FIFO)1974 1919
y(principle\))f(and)i(stores)h(this)f(in)h(the)f(result)g(v)n(ariable)g
Fi(x)g Fs(\(assuming)1974 2018 y(the)h(list)i(is)f(not)f(empty\).)34
b(Suppose)22 b(we)i(ha)n(v)o(e)f(the)g(follo)n(wing)f(dec-)1974
2118 y(larations:)2337 2392 y Fh(int)44 b(x;)2337 2483
y(list)g(numbers)g(=)g([5])h(of)f Fg(f)p Fh(int)p Fg(g)p
Fh(;)2337 2575 y(list)g(temp)g(=)h([5])f(of)h Fg(f)p
Fh(int)p Fg(g)p Fh(;)2073 2868 y Fs(Then)29 b(Figure)f(3)h(illustrates)
h(the)f(use)g(of)g(the)g(list)h(operations,)1974 2968
y(and)h(their)g(ef)n(fect)f(on)h(the)g(v)n(ariables)g
Fi(x)p Fs(,)j Fi(numbers)d Fs(and)f Fi(temp)1974 3067
y Fs(\(only)f(changes)f(are)i(sho)n(wn\).)53 b(All)30
b(statements)g(e)o(x)o(ecute,)h(hence)1974 3167 y(boolean)18
b(v)n(alued)h(e)o(xpressions)g(e)n(v)n(aluate)h(to)g
Fn(tr)r(ue)p Fs(.)p 1974 3395 V 1972 4454 4 1059 v 2980
3477 a Ff(x)80 b(numbers)158 b(temp)2980 3635 y(0)199
b([])279 b([])2024 3714 y(append\(1,numbers\);)435 b([1])2024
3793 y(append\(2,numbers\);)395 b([2,1])2024 3872 y
(append\(3,numbers\);)356 b([3,2,1])2024 4029 y(next\(numbers,x\))g(1)
119 b([3,2])2024 4108 y(x)39 b(==)h(1;)2024 4187 y(copy\(numbers,)e
(temp\);)716 b([3,2])2024 4266 y(remove\(3,temp\);)954
b([2])2024 4345 y(next\(temp,x\);)436 b(2)558 b([])2024
4424 y(x)39 b(==)h(2)p 3938 4454 V 1974 4457 1968 4 v
2234 4692 a Fo(Figure)23 b(3.)g(Examples)h(of)e(list)h(operations)p
1974 4854 788 4 v 2059 4907 a Fk(2)2093 4931 y Ft(Some)n(what)17
b(more)f(formally)l(,)g(the)h(procedures)g(perform)f(the)g(follo)n
(wing)i(chan-)1974 5010 y(nel)k(operations:)32 b Ff(append\(e,l\))19
b Ft(does)j Ff(l!e)p Ft(;)h Ff(remove\(e,l\))c Ft(does)j
Ff(l??e)p Ft(;)1974 5088 y Ff(copy\(l1,l2\))12 b Ft(does)i
(combinations)i(of)d Ff(l1?x)g Ft(and)h Ff(l2!x)p Ft(;)h(and)f
Ff(next\(l,x\))1974 5167 y Ft(does)k Ff(l?x)p Ft(.)j(Note)d(ho)n(we)n
(v)o(er)m(,)i(that)e(some)g(of)f(these)k(P)t Fd(R)r(O)t(M)t(E)t(L)t(A)
16 b Ft(channel)j(operators)1974 5246 y(do)f(not)h(allo)n(w)h(v)n
(ariables)h(as)d(ar)o(guments,)i(only)f(constants,)h(hence)g(the)f
(implemen-)1974 5325 y(tations)g(of)e(these)h(procedures)h(are)e
(sometimes)h(more)f(elaborated.)1859 5574 y Fs(4)p eop
%%Page: 5 5
5 4 bop -182 83 a Fp(3.2)90 b(The)22 b(State)h(Space)-83
309 y Fs(Three)f(constants)g(de\002ne)f(the)i(bounds)d(of)i(the)h
(system,)g(Figure)-182 409 y(4.)28 b(That)22 b(is,)g(the)o(y)f
(de\002ne)g(the)g(size)h(of)f(the)h(state)g(space,)g(an)f(impor)n(-)
-182 509 y(tant)f(f)o(actor)f(for)h(obtaining)e(ef)n(\002cient)i(model)
f(checking.)p -182 707 1968 4 v -184 976 4 270 v -133
789 a Ff(#define)39 b(NO_PROPS)79 b(2)-133 868 y(#define)39
b(NO_EVENTS)g(2)-133 947 y(#define)g(NO_TASKS)79 b(3)p
1781 976 V -182 980 1968 4 v 336 1213 a Fo(Figure)23
b(4.)g(The)g(constants)-83 1406 y Fs(The)d(constant)f
Fi(NO)p 469 1406 25 4 v 30 w(PROPS)g Fs(de\002nes)h(the)g(number)e(of)i
(property)-182 1506 y(names,)32 b(and)f(hence)f(the)g(size)i(of)e(the)h
(property)d(lock)j(table)f(and)-182 1606 y(database,)18
b(which)g(each)g(ha)n(v)o(e)g(an)h(entry)f(for)g(each)g(property)f
(name.)-182 1705 y(W)-7 b(e)21 b(shall)h(w)o(ork)e(with)g(tw)o(o)h
(property)e(names:)26 b Fr(0)21 b Fs(and)f Fr(1)p Fs(.)26
b(The)21 b(con-)-182 1805 y(stant)30 b Fi(NO)p 110 1805
V 30 w(EVENTS)f Fs(de\002nes)h(the)g(number)e(of)i(e)n(v)o(ents,)h
Fr(2)f Fs(in)h(our)-182 1904 y(case:)h Fi(MEMORY)p 321
1904 V 29 w(EVENT)23 b Fs(and)g Fi(SNARF)p 1017 1904
V 29 w(EVENT)g Fs(as)i(will)f(be)g(for)n(-)-182 2004
y(malized)18 b(belo)n(w)-5 b(.)24 b(Finally)-5 b(,)19
b(the)g(constant)g Fi(NO)p 1136 2004 V 30 w(TASKS)g Fs(de\002nes)g(the)
-182 2104 y(number)h(of)i(tasks)h(in)g(the)f(system,)h(including)e(the)
h(daemon.)30 b(This)-182 2203 y(number)22 b(is)j(set)g(to)g
Fr(3)f Fs(corresponding)d(to)j(a)h(daemon)d(and)i(tw)o(o)g(ap-)-182
2303 y(plication)19 b(tasks.)-83 2427 y(A)24 b(number)d(of)i(types)h
(are)f(de\002ned,)g(see)g(Figure)g(5)1398 2397 y Fm(3)1435
2427 y Fs(.)34 b(The)23 b(type)-182 2527 y Fi(EventId)d
Fs(is)i(an)f(enumerated)e(type)i(de\002ning)f(the)h(tw)o(o)h(forms)e
(of)-182 2626 y(e)n(v)o(ents.)42 b Fi(TaskId)26 b Fs(is)h(the)g(type)f
(of)g(task)g(identi\002ers.)43 b(Note,)28 b(that)-182
2726 y(there)g(are)h Fr(3)g Fs(tasks)h(\()p Fc(NO)p 532
2726 V 28 w(TASKS)38 b Fr(=)h(3)p Fs(\):)j(the)29 b(daemon,)h(which)e
(is)-182 2826 y(gi)n(v)o(en)22 b(identity)g Fr(0)i Fs(and)f(tw)o(o)g
(application)f(tasks,)j(gi)n(v)o(en)d(identity)h Fr(1)-182
2925 y Fs(and)c Fr(2)i Fs(respecti)n(v)o(ely)-5 b(.)-83
3049 y(The)61 b(type)g Fi(Property)p 718 3049 V 29 w(Name)g
Fs(contains)g(the)g(property)-182 3149 y(names,)27 b(of)g(which)f
(there)g(are)h(tw)o(o)g(\()p Fc(NO)p 1000 3149 V 29 w(PROPS)33
b Fr(=)i(2)p Fs(\):)j Fr(0)27 b Fs(and)f Fr(1)p Fs(.)-182
3249 y(Correspondingly)-5 b(,)14 b(the)19 b(type)f Fi(Property)p
1098 3249 V 28 w(Value)g Fs(contains)g(the)-182 3348
y(property)31 b(v)n(alues.)64 b(There)33 b(is)h(no)f(constant)g
(de\002ning)f(the)i(max-)-182 3448 y(imal)h(number)f(of)h(property)e(v)
n(alues,)38 b(since)e(this)g(bound)d(is)j(not)-182 3547
y(needed)31 b(for)h(declaring)e(the)j(state)g(space)f(\(be)o(yond)e
(declaring)h(it)-182 3647 y(as)j(a)h Fi(byte)p Fs(\).)65
b(Finally)-5 b(,)37 b(a)d Fi(Property)f Fs(is)i(then)e(de\002ned)g(as)h
(a)-182 3747 y(record)20 b(containing)f(tw)o(o)j(entries:)27
b(a)22 b(property)d(name)i(and)g(a)h(prop-)-182 3846
y(erty)d(v)n(alue.)-83 3970 y(No)n(w)-5 b(,)37 b(as)d(we)g(shall)g
(see,)k(the)c(property)d(lock)j(table)f(will)i(be)-182
4070 y(modeled)20 b(as)j(a)f(mapping)e(from)h(property)f(names)i(to)g
(locks)g(in)g(the)-182 4170 y(type)31 b Fi(Lock)193 4140
y Fm(4)230 4170 y Fs(.)61 b(Hence)32 b(each)g(property)e(name)h(is)j
(mapped)c(to)i(a)-182 4269 y(record)d(containing)f(the)j(follo)n(wing)d
(three)i(\002elds:)47 b(the)30 b(property)-182 4369 y(v)n(alue)21
b(it)i(is)h(supposed)d(to)h(ha)n(v)o(e;)h(the)f(list)i(of)e(tasks)h
(subscribing)e(to)-182 4469 y(the)26 b(lock;)k(and)d(\002nally)-5
b(,)27 b(a)h(\003ag)f(indicating)e(whether)h(it)i(has)f(been)-182
4568 y(achie)n(v)o(ed)18 b(or)i(not.)p -182 4617 788
4 v -97 4670 a Fk(3)-63 4694 y Ft(Note)38 b(that)i(P)t
Fd(R)r(O)t(M)t(E)t(L)t(A)c Ft(does)i(not)g(ha)o(v)o(e)g(type)g
(equations)h(nor)e(enumer)o(-)-182 4773 y(ated)26 b(types.)47
b(Hence,)28 b(a)d(type)i(equation)g(of)f(the)g(form)f
Ff(type)39 b(T)h(=)g(ty)24 b Ft(stands)-182 4851 y(for)j
Ff(#define)39 b(T)h(ty)27 b Ft(and)h(an)g(enumerated)i(type)f(of)f(the)
g(form)g Ff(type)39 b(T)g(=)-182 4930 y Fe(f)p Ff(A,B,C)p
Fe(g)20 b Ft(stands)i(for)f Ff(#define)39 b(T)g(byte)p
Ft(,)21 b(follo)n(wed)i(by)e Ff(#define)39 b(A)h(0)p
Ft(,)-182 5009 y Ff(#define)e(B)i(1)17 b Ft(and)g Ff(#define)39
b(C)h(2)p Ft(.)-97 5065 y Fk(4)-63 5088 y Ft(In)19 b(the)j(L)t
Fd(I)t(S)t(P)16 b Ft(program)k(a)f(property)h(lock)g(table)h(is)e
(represented)j(as)d(a)g(list,)h(b)o(ut)-182 5167 y(we)h(ha)o(v)o(e)g
(found)h(the)f(mapping)h(representation)j(to)d(be)f(more)g(con)m(v)o
(enient)j(from)d(a)-182 5246 y(modeling)26 b(point)h(of)e(vie)n(w;)31
b(although)c(thereby)g(we)f(risk)f(to)h(o)o(v)o(erlook)h(potential)-182
5325 y(errors.)p 1974 86 1968 4 v 1972 2407 4 2321 v
2024 169 a Ff(type)2103 247 y(EventId)39 b(=)h Fe(f)p
Ff(MEMORY_EVENT,SNARF_EVENT)p Fe(g)p Ff(;)2103 326 y(TaskId)f(=)h
(byte;)2024 484 y(type)2103 563 y(Property_Name)e(=)i(byte;)2103
642 y(Property_Value)e(=)i(byte;)2024 800 y(typedef)e(Property)p
Fe(f)2103 878 y Ff(Property_Name)g(name;)2103 957 y(Property_Value)g
(value)p Fe(g)p Ff(;)2024 1115 y(typedef)g(Lock)p Fe(f)2103
1194 y Ff(Property_Value)g(value;)2103 1273 y(list)i(sub)f(=)h
([NO_TASKS])e(of)i Fe(f)p Ff(TaskId)p Fe(g)p Ff(;)2103
1352 y(bool)g(achieved)p Fe(g)p Ff(;)2024 1509 y(typedef)e(Event)p
Fe(f)2103 1588 y Ff(byte)i(count;)2103 1667 y(list)g(pending_tasks)e(=)
h([NO_TASKS])g(of)g Fe(f)p Ff(TaskId)p Fe(gg)p Ff(;)2024
1825 y(typedef)f(Task)p Fe(f)2103 1904 y Ff(State)h(state;)2103
1983 y(list)h(waiting_for)e(=)i([NO_EVENTS])e(of)h Fe(f)p
Ff(EventId)p Fe(g)p Ff(;)2103 2061 y(Property)g(prop)p
Fe(g)p Ff(;)2024 2219 y(type)2103 2298 y(State)g(=)h
Fe(f)p Ff(SUSPENDED,RUNNING,)2462 2377 y(ABORTED,TERMINATED)p
Fe(g)p Ff(;)p 3938 2407 V 1974 2410 1968 4 v 2656 2643
a Fo(Figure)23 b(5.)g(T)-5 b(ypes)2073 2905 y Fs(Each)37
b(e)n(v)o(ent)g(\()p Fi(MEMORY)p 2825 2905 25 4 v 28
w(EVENT)h Fs(and)f Fi(SNARF)p 3549 2905 V 28 w(EVENT)p
Fs(\))g(is)1974 3004 y(associated)22 b(with)h(a)g(status)g(record)e(of)
h(the)g(type)g Fi(Event)h Fs(contain-)1974 3104 y(ing)33
b(tw)o(o)g(\002elds:)52 b(a)34 b(counter)d(that)j(is)g(increased)e
(each)h(time)g(the)1974 3204 y(e)n(v)o(ent)15 b(is)j(signaled)d(\(used)
h(by)g(the)g(daemon\);)g(and)g(a)h(list)g(of)f(pending)1974
3303 y(tasks)22 b(w)o(aiting)g(for)f(the)g(e)n(v)o(ent)g(to)h
(signaled,)f(and)g(which)g(then)g(will)1974 3403 y(be)f(re-started.)25
b(Correspondingly)-5 b(,)17 b(each)j(task)g(is)i(associated)e(with)1974
3503 y(a)27 b(status)g(record)f(of)g(the)h(type)f Fi(Task)g
Fs(containing)f(the)i(follo)n(wing)1974 3602 y(three)20
b(\002elds:)27 b(the)21 b(state)g(of)f(the)h(task)g(\()p
Fi(SUSPENDED)p Fs(,)e Fi(RUNNING)p Fs(,)1974 3702 y Fi(ABORTED)p
Fs(,)e(or)h Fi(TERMINATED)p Fs(\);)f(a)h(list)i(of)e(those)g(e)n(v)o
(ents)f(it)i(w)o(aits)1974 3801 y(for)j(in)h(case)g(the)g(state)h(is)f
Fi(SUSPENDED)p Fs(;)f(and)g(\002nally)h(a)g(property)1974
3901 y(called)f Fi(prop)p Fs(.)32 b(This)23 b(last)g(property)e
(represents)g(a)i(condition)e(that)1974 4001 y(has)e(to)g(be)g
(satis\002ed)h(before)e(the)h(task)g(can)g(be)g(re-started)f(in)h(case)
g(it)1974 4100 y(w)o(aits)g(for)f(an)g(e)n(v)o(ent.)24
b(It')-5 b(s)19 b(rele)n(v)n(ant)e(when)h(a)h(task)f(is)i(not)e(the)g
(o)n(wner)1974 4200 y(of)i(a)g(lock,)f(and)h(hence)f(some)h(other)f
(task)i(is)g(supposed)d(to)i(achie)n(v)o(e)1974 4300
y(the)f(property)-5 b(.)22 b(Then)c(the)h(task)g(must)g(w)o(ait)h(for)e
(this)h(property)e(to)i(be)1974 4399 y(achie)n(v)o(ed,)f(hence)h(the)i
(property)d(becomes)h(such)h(a)g(condition.)2073 4528
y(The)28 b(state)g(space)f(of)h(the)f(model)g(can)g(no)n(w)g(be)h
(declared,)g(see)1974 4628 y(Figure)e(6.)46 b(The)26
b(database)h(is)h(represented)d(by)h(the)h(v)n(ariable)f
Fi(db)p Fs(,)1974 4727 y(which)32 b(is)i(an)f(array)f(mapping)f
(property)f(names)j(into)f(property)1974 4827 y(v)n(alues.)39
b(The)25 b(property)e(lock)i(table)g(is)h(represented)d(by)i(the)g(v)n
(ari-)1974 4926 y(able)32 b Fi(locks)p Fs(,)k(which)c(is)i(an)e(array)g
(mapping)f(property)f(names)1974 5026 y(into)22 b(locks.)29
b(In)22 b(the)i(L)t Ft(I)t(S)t(P)h Fs(code,)c(the)h(property)e(lock)h
(table)h(is)h(rep-)1974 5126 y(resented)g(as)h(a)g(list)h(of)e
(\(property)e(name,)j(lock\))f(pairs.)35 b(Hence,)24
b(in)1974 5225 y(the)30 b(L)t Ft(I)t(S)t(P)h Fs(program,)c(the)h(e)o
(xistence)g(of)f(a)i(lock)e Fn(l)j Fs(on)e(a)g(property)1974
5325 y(name)20 b Fn(pn)h Fs(is)h(represented)d(by)h(the)h(f)o(act)g
(that)g(the)g(pair)f Fr(\()p Fn(pn;)14 b(l)r Fr(\))21
b Fs(is)h(in)1859 5574 y(5)p eop
%%Page: 6 6
6 5 bop -182 83 a Fs(the)24 b(list.)40 b(Since)25 b(we)g(model)f(the)h
(property)d(lock)i(table)h(as)h(a)f(map-)-182 183 y(ping)h(from)g
(property)f(names)i(to)g(locks,)i(the)e(property)e(name)i
Fn(pn)-182 282 y Fs(will)e Fu(always)f Fs(ha)n(v)o(e)f(an)i(entry)-5
b(,)23 b(and)h(we)h(therefore)d(ha)n(v)o(e)h(to)i(model)-182
382 y(the)j(non-e)o(xistence)e(of)i(a)g(lock)g(dif)n(ferently)-5
b(.)47 b(W)-7 b(e)30 b(ha)n(v)o(e)d(reserv)o(ed)-182
482 y(the)20 b(property)f(v)n(alue)g Fr(0)i Fs(for)f(those)g(locks)h
(that)f(are)h(\223non-e)o(xistent\224.)-182 581 y(That)30
b(is,)j(if)e(a)g(property)d(name)i(maps)g(to)h(a)g(lock)e(with)i
(property)-182 681 y(v)n(alue)22 b Fr(0)p Fs(,)i(it)g(means)f(it)h(is)g
(not)f(lock)o(ed)g(\(corresponding)c(to)k(not)g(be-)-182
780 y(ing)c(in)i(the)f(list)h(in)g(the)h(L)t Ft(I)t(S)t(P)h
Fs(program\).)f(The)e(constant:)-182 1000 y Fh(#define)43
b(undef_value)g(0)-182 1228 y Fs(is)21 b(introduced)d(to)i(denote)f
(this)i(unde\002ned)d(property)g(v)n(alue.)-83 1367 y(T)-7
b(w)o(o)16 b(v)n(ariables)f(are)g(introduced)e(which)i(store)h(the)f
(status)i(of)e(the)-182 1467 y(e)n(v)o(ents)f(and)h(the)h(tasks.)24
b(The)15 b(v)n(ariable)f Fi(Ev)i Fs(maps)f(e)n(v)o(ents)g(into)g(e)n(v)
o(ent)-182 1566 y(status)23 b(records,)e(and)h(similarly)-5
b(,)23 b(the)f(v)n(ariable)g Fi(active)p 1514 1566 25
4 v 28 w(tasks)-182 1666 y Fs(maps)e(task)g(identi\002ers)g(into)g
(task)g(status)h(records.)p -182 1873 1968 4 v -184 2222
4 349 v -133 1956 a Ff(Property_Value)78 b(db[NO_PROPS];)-133
2034 y(Lock)478 b(locks[NO_PROPS];)-133 2113 y(Event)438
b(Ev[NO_EVENTS];)-133 2192 y(Task)478 b(active_tasks[NO_TASKS];)p
1781 2222 V -182 2225 1968 4 v 436 2459 a Fo(Figure)23
b(6.)g(V)-5 b(ariab)o(les)-182 2772 y Fp(3.3)90 b(Ev)o(ents)-83
3023 y Fs(T)-7 b(w)o(o)53 b(operations)d(are)i(de\002ned)f(on)h(e)n(v)o
(ents,)59 b(correspond-)-182 3123 y(ing)53 b(to)i Fu(waiting)f
Fs(for)f(an)h(e)n(v)o(ent)g(and)f Fu(signaling)g Fs(an)h(e)n(v)o(ent.)
-182 3223 y(These)64 b(operations)f(are)i(represented)e(by)h(the)h
(procedures)-182 3322 y Fi(wait)p 23 3322 25 4 v 29 w(for)p
202 3322 V 29 w(event)476 3292 y Fm(5)512 3322 y Fs(,)24
b(Figure)e(7,)h(and)f Fi(signal)p 1331 3322 V 28 w(event)p
Fs(,)h(Fig-)-182 3422 y(ure)c(8.)p -182 3612 1968 4 v
-184 4434 4 822 v -133 3694 a Ff(inline)39 b
(wait_for_event\(this,a,p\))e Fe(f)-53 3773 y Ff(atomic)p
Fe(f)67 3852 y Ff(append\(this,Ev[a].pending_tasks\);)67
3931 y(append\(a,active_tasks[this].waiting_for\);)67
4010 y(active_tasks[this].prop.name)e(=)40 b(p.name;)67
4089 y(active_tasks[this].prop.value)35 b(=)40 b(p.value;)67
4168 y(active_tasks[this].state)c(=)k(SUSPENDED;)67 4246
y(active_tasks[this].state)c(==)j(RUNNING)-53 4325 y
Fe(g)-133 4404 y(g)p 1781 4434 V -182 4437 1968 4 v 344
4672 a Fo(Figure)23 b(7.)h(wait)p 881 4672 25 4 v 29
w(f)n(or)p 1019 4672 V 30 w(e)o(vent)-83 4892 y Fs(The)35
b(procedure)e Fi(wait)p 655 4892 V 29 w(for)p 834 4892
V 30 w(event)i Fs(tak)o(es)g(three)g(param-)-182 4991
y(eters:)51 b(the)33 b(parameter)f Fi(this)g Fs(\(type)h
Fi(TaskId)p Fs(\))f(identi\002es)h(the)-182 5091 y(task)46
b(that)h(calls)h(the)e(procedure,)51 b(and)46 b(hence)f(the)i(task)g
(that)p -182 5169 788 4 v -97 5223 a Fk(5)-63 5246 y
Ft(A)18 b(procedure)i Ff(wait)p 450 5246 20 4 v 23 w(for)p
593 5246 V 24 w(events)d Ft(also)i(e)o(xists,)g(b)o(ut)f(it)h(is)f(v)o
(ery)g(similar)i(to)-182 5325 y Ff(wait)p -18 5325 V
23 w(for)p 125 5325 V 23 w(event)p Ft(.)p 1974 86 1968
4 v 1972 2328 4 2242 v 2024 169 a Ff(inline)39 b(signal_event\(a\))e
Fe(f)2103 247 y Ff(atomic)p Fe(f)2183 326 y Ff(TaskId)i(t;)2183
405 y(EventId)g(e;)2183 484 y(list)g(pending)g(=)h([NO_EVENTS])e(of)i
Fe(f)p Ff(EventId)p Fe(g)p Ff(;)2183 563 y(Ev[a].count)e(=)i
(Ev[a].count)e(+)i(1;)2183 642 y(copy\(Ev[a].pending_tasks,pending\);)
2183 721 y(do)2183 800 y(::)g(pending?t)e(->)2303 878
y(if)2303 957 y(::)h(\(active_tasks[t].prop.value)d(==)2542
1036 y(undef_value)2462 1115 y(||)2462 1194 y
(db_query\(active_tasks[t].prop\))f(\))2422 1273 y(->)2422
1352 y(do)2422 1430 y(::)40 b(active_tasks[t].waiting_for?e)2621
1509 y(->)g(remove\(t,Ev[e].pending_tasks\))2422 1588
y(::)g(empty\(active_tasks[t].waiting_for\))2621 1667
y(->)g(break)2422 1746 y(od;)2422 1825 y(active_tasks[t].state)d(=)j
(RUNNING)2303 1904 y(::)f(else)2303 1983 y(fi)2183 2061
y(::)h(empty\(pending\))d(->)80 b(break)2183 2140 y(od)2103
2219 y Fe(g)2024 2298 y(g)p 3938 2328 V 1974 2331 1968
4 v 2531 2564 a Fo(Figure)23 b(8.)g(signal)p 3145 2564
25 4 v 30 w(e)o(vent)1974 2846 y Fs(w)o(ants)48 b(to)f(w)o(ait)h(for)f
(an)h(e)n(v)o(ent)e(to)i(happen.)105 b(The)47 b(parame-)1974
2945 y(ter)37 b Fi(a)g Fs(\(type)g Fi(EventId)p Fs(\))f(identi\002es)h
(the)g(e)n(v)o(ent)f(to)h(be)g(w)o(aited)1974 3045 y(for;)44
b(and)35 b(\002nally)i(the)f(parameter)f Fi(p)h Fs(\(type)g
Fi(Property)p Fs(\))f(rep-)1974 3144 y(resents)55 b(a)h(property)d
(that)i(must)h(be)f(satis\002ed)h(in)f(addition)1974
3244 y(to)46 b(the)g(occurrence)d(of)j(the)g(e)n(v)o(ent)f(before)f
(the)i(calling)g(task)1974 3344 y(can)k(be)h(re-started.)115
b(F)o(or)50 b(e)o(xample,)57 b(when)50 b(a)h(task)g(w)o(ants)1974
3443 y(to)j(w)o(ait)g(for)f(some)h(other)e(task)i(to)g(achie)n(v)o(e)f
(the)g(property)1974 3543 y Fi(CAMERA)p 2279 3543 V 29
w(ON)2403 3513 y Fm(6)2439 3543 y Fs(,)d(then)f(it)h(calls)h(this)e
(procedure)e(as)k(follo)n(ws:)1974 3643 y Fh(wait)p 2158
3643 23 4 v 26 w(for)p 2319 3643 V 26 w(event\(this,MEMORY)p
3110 3643 V 25 w(EVENT,CAMERA)p 3675 3643 V 24 w(ON\))p
Fs(.)1974 3742 y(W)-7 b(e)21 b(shall)g(refer)e(to)i(this)f(property)e
(as)j(the)f Fu(r)m(estart)i(condition)p Fs(.)2073 3903
y(The)35 b(body)f(of)h(the)g(procedure)d(is)k(e)o(x)o(ecuted)d
(atomically)-5 b(,)37 b(as)1974 4003 y(within)23 b(a)g(critical)h
(section.)33 b(First,)25 b(the)e(calling)g(task)g(is)h(appended)1974
4103 y(to)31 b(the)g(e)n(v)o(ent')-5 b(s)31 b(list)h(of)f(pending)e
(tasks)j(\(those)f(w)o(aiting)g(for)f(the)1974 4202 y(e)n(v)o(ent)20
b(to)h(occur\).)26 b(Second,)20 b(the)h(e)n(v)o(ent)f(is)i(appended)d
(to)i(the)g(task')-5 b(s)1974 4302 y(list)28 b(of)f(e)n(v)o(ents)g(it)h
(is)g(w)o(aiting)f(for)-5 b(.)46 b(Third,)27 b(the)h(restart)f
(condition)1974 4402 y Fi(p)33 b Fs(is)h(stored)f(in)g(the)g(task')-5
b(s)34 b(status)g(record)e(in)h(the)g Fi(prop)g Fs(\002eld.)1974
4501 y(Note)26 b(that)h(since)h(P)t Ft(R)q(O)t(M)t(E)t(L)t(A)i
Fs(does)c(not)g(allo)n(w)h(for)f(assignments)1974 4601
y(to)i(record)e(v)n(ariables,)i(each)f(\002eld)h(has)g(to)g(be)f
(updated)f(indi)n(vidu-)1974 4700 y(ally)-5 b(.)47 b(Finally)-5
b(,)29 b(the)f(task)g(is)h(suspended)d(by)i(updating)e(the)h(task')-5
b(s)1974 4800 y Fi(state)19 b Fs(\002eld.)25 b(The)19
b(w)o(aiting)g(itself)h(is)g(realized)f(by)g(e)o(x)o(ecuting)e(the)1974
4900 y(statement:)2064 5157 y Fh(active_tasks[this].state)40
b(==)45 b(RUNNING)p 1974 5248 788 4 v 2059 5302 a Fk(6)2093
5325 y Ft(That)18 b(is,)e(the)i(property)h(name)e Ff(CAMERA)f
Ft(must)h(ha)o(v)o(e)g(the)h(v)n(alue)h Ff(ON)p Ft(.)1859
5574 y Fs(6)p eop
%%Page: 7 7
7 6 bop -182 83 a Fs(This)47 b(is)i(a)f(boolean)e(v)n(alued)h(e)o
(xpression)f(\(without)g(side)i(ef-)-182 183 y(fects\),)c(and)c
(according)e(to)i(the)g(semantics)g(of)h(P)t Ft(R)q(O)t(M)t(E)t(L)t(A)r
Fs(,)46 b(it)-182 282 y(can)g(only)g(e)o(x)o(ecute,)52
b(and)47 b(terminate,)52 b(if)c(its)g(v)n(alue)e(is)i
Fn(tr)r(ue)p Fs(.)-182 382 y(Hence,)40 b(the)c(calling)g(task)h(will)g
(w)o(ait)g(until)g(it)g(becomes)f Fn(tr)r(ue)p Fs(,)-182
482 y(the)41 b(intention)f(being)h(that)g(the)h Fi(signal)p
1140 482 25 4 v 28 w(event)f Fs(procedure)-182 581 y(at)h(some)h(later)
f(point)g(will)h(assign)f(the)h(v)n(alue)e Fi(RUNNING)h
Fs(to)-182 681 y Fi(active)p 123 681 V 28 w(tasks[this].state)p
Fs(.)-83 793 y(The)17 b(procedure)e Fi(signal)p 719 793
V 29 w(event)i Fs(tak)o(es)g(one)g(single)g(param-)-182
893 y(eter)m(,)30 b(namely)e(the)h(e)n(v)o(ent)f Fi(a)h
Fs(\(type)f Fi(EventId)p Fs(\))g(to)h(be)g(signaled,)-182
992 y(and)19 b(then)g(basically)h(restarts)g(all)h(tasks)f(w)o(aiting)g
(for)f(that)h(e)n(v)o(ent,)f(if)-182 1092 y(their)26
b(restart)g(condition)e(is)j(satis\002ed)g(that)f(is.)44
b(Three)26 b(local)g(v)n(ari-)-182 1192 y(ables)20 b(are)h(declared:)j
Fi(t)p Fs(,)d Fi(e)g Fs(and)e Fi(pending)p Fs(,)h(the)g(last)i
(intended)d(to)-182 1291 y(hold)k(the)h(list)i(of)e(tasks)h(w)o(aiting)
f(for)g(the)g(e)n(v)o(ent.)37 b(First,)25 b(the)g(e)n(v)o(ent)-182
1391 y(counter)h(in)i(incremented.)46 b(The)28 b(e)n(v)o(ent)f(counter)
g(is)i(used)e(by)h(the)-182 1490 y(daemon)23 b(to)i(determine)e
(whether)h(a)h(ne)n(w)-5 b(,)25 b(and)g(untreated,)f(signal)-182
1590 y(has)e(arri)n(v)o(ed,)g(see)h(Figure)f(22)g(page)g(11.)31
b(Then)22 b(the)h(e)n(v)o(ent')-5 b(s)22 b(list)h(of)-182
1690 y(pending)j(tasks)j(is)g(copied)f(into)g(the)g(local)h
Fi(pending)e Fs(v)n(ariable,)-182 1789 y(which)e(hereafter)g(in)i(a)f
(loop)g(is)h(e)o(xamined,)f(task)g(by)g(task.)43 b(Each)-182
1889 y(task)34 b(is)g(e)o(xtracted)f(by)g(the)h(statement)f
Fi(next\(pending,t\))p Fs(,)-182 1989 y(and)19 b(hence)h(stored)f(in)i
(the)f(local)g(v)n(ariable)f Fi(t)p Fs(.)-83 2101 y(No)n(w)-5
b(,)30 b(for)d(each)h(such)g(w)o(aiting)g(task)h Fi(t)p
Fs(,)h(if)f(the)f(task')-5 b(s)29 b(restart)-182 2201
y(condition)22 b Fi(prop)i Fs(is)h(satis\002ed)g(it)g(is)g(restarted.)
37 b(The)24 b(restart)g(con-)-182 2300 y(dition)k(is)i(satis\002ed,)h
(if)e(either)g(its)g(property)e(v)n(alue)h(is)i(unde\002ned)-182
2400 y(\(equals)e Fi(undef)p 342 2400 V 29 w(value)p
Fs(\),)j(or)e(if)h(it)g(indeed)e(is)i(satis\002ed)g(in)g(the)-182
2499 y(database.)24 b(The)c(latter)g(is)h(the)f(case)h(if)g(the)f(e)o
(xpression:)-93 2652 y Fh(db_query\(active_tasks[t].prop\))-182
2814 y Fs(e)n(v)n(aluates)f(to)h Fn(tr)r(ue)p Fs(.)25
b(The)20 b(function)e Fi(db)p 982 2814 V 29 w(query)p
Fs(,)i(Figure)f(9,)h(tak)o(es)-182 2913 y(as)28 b(parameter)f(a)i
(property)d Fi(p)i Fs(\(type)g Fi(Property)p Fs(\),)g(and)g(returns)
-182 3013 y Fn(tr)r(ue)c Fs(if)h(the)f(database)f(satis\002es)j(it)f
(\(the)e(property)f(name)i(denotes)-182 3112 y(the)c(property)e(v)n
(alue\).)p -182 3303 1968 4 v -184 3494 4 191 v -133
3385 a Ff(#define)39 b(db_query\(p\))-53 3464 y(db[p.name])f(==)i
(p.value)p 1781 3494 V -182 3497 1968 4 v 438 3730 a
Fo(Figure)23 b(9.)g(db)p 914 3730 25 4 v 30 w(quer)q(y)-83
3916 y Fs(Hence,)51 b(in)46 b(case)f(the)h(restart)f(condition)f(is)i
(satis\002ed,)52 b(an)-182 4015 y(inner)39 b(loop)h(is)h(entered,)k(in)
40 b(which)g(all)h(e)n(v)o(ents)f(in)h(the)f(task')-5
b(s)-182 4115 y Fi(waiting)p 173 4115 V 28 w(for)21 b
Fs(list)i(are)e(e)o(xamined,)e(and)i(for)g(each)g(such)g(e)n(v)o(ent:)
-182 4214 y(the)26 b(task)h(is)g(remo)o(v)o(ed)d(from)i(the)g(e)n(v)o
(ent')-5 b(s)26 b(list)i(of)e(pending)f(tasks.)-182 4314
y(In)k(other)g(w)o(ords,)i(the)f(task)f(is)i(remo)o(v)o(ed)c(from)i
(all)h(e)n(v)o(ents)f(since)-182 4414 y(it')-5 b(s)42
b(no)n(w)f(restarted.)87 b(In)41 b(the)i(L)t Ft(I)t(S)t(P)h
Fs(code,)i(the)41 b(body)f(of)h(the)-182 4513 y Fi(signal)p
123 4513 V 28 w(event)30 b Fs(procedure)d(is)k(embedded)d(within)h(a)i
(critical)-182 4613 y(section.)44 b(A)27 b(direct)f(modeling)f(of)h
(this)h(in)i(P)t Ft(R)q(O)t(M)t(E)t(L)t(A)h Fs(results)d(in)-182
4713 y(an)20 b Fi(atomic)f Fs(construct)g(around)g(the)h(body)-5
b(.)-182 4919 y Fp(3.4)90 b(The)22 b(T)-8 b(asks)-83
5126 y Fs(T)h(asks)57 b(are)e(modeled)g(as)j(P)t Ft(R)q(O)t(M)t(E)t(L)t
(A)h Fs(processes.)131 b(Be-)-182 5225 y(fore)43 b(we)h(de\002ne)f
(what)h(a)h(task)f(is,)50 b(we)45 b(shall,)50 b(ho)n(we)n(v)o(er)m(,)d
(in-)-182 5325 y(troduce)57 b(a)j(collection)e(of)g(procedures.)140
b(The)58 b(procedure)1974 83 y Fi(fail)p 2179 83 V 29
w(if)p 2308 83 V 30 w(incompatible)p Fs(,)21 b(Figure)h(10,)g(is)i
(called)f(by)f(a)h(task)1974 183 y(just)35 b(before)d(it)j(tries)g(to)f
(snarf)g(a)h(property)-5 b(,)34 b(in)h(order)e(to)h(check)1974
282 y(whether)17 b(or)h(not)g(this)g(is)i(in)e(con\003ict)g(with)g
(already)f(e)o(xisting)h(locks.)1974 382 y(The)41 b(procedure)d(tak)o
(es)k(as)g(parameter)d(the)i(property)e Fi(p)j Fs(\(type)1974
482 y Fi(Property)p Fs(\))24 b(to)h(be)g(snarfed,)g(and)f(returns)g
Fn(tr)r(ue)i Fs(if)f(some)g(other)1974 581 y(task)f(has)g(already)e
(snarfed)h(the)h(property)d(name,)j(b)n(ut)g(with)g(a)g(dif-)1974
681 y(ferent,)k(and)e(therefore)g(incompatible,)g(property)f(v)n(alue.)
45 b(Recall)1974 780 y(that)35 b(if)h(the)g(property)d(name)i(denotes)f
(a)i(v)n(alue)f(dif)n(ferent)f(\()p Fi(!=)p Fs(\))1974
880 y(from)h Fi(undef)p 2427 880 V 29 w(value)g Fs(in)h(the)g(lock)f
(table,)40 b(then)35 b(it)i(has)f(been)1974 980 y(lock)o(ed.The)30
b(result)j(of)g(this)g(test)g(is)h(stored)e(in)h(the)f(return)g(v)n
(ari-)1974 1079 y(able)e Fi(err)p Fs(,)i(which)d(we)h(shall)g(see)h(is)
f(used)g(to)g(direct)f(control)g(in)1974 1179 y(the)20
b(calling)g(conte)o(xt.)p 1974 1374 1968 4 v 1972 2117
4 744 v 2024 1457 a Ff(inline)39 b
(fail_if_incompatible_property\(p,err\))34 b Fe(f)2103
1535 y Ff(if)2103 1614 y(::)40 b(\(locks[p.name].value)d(!=)i
(undef_value)g(&)2263 1693 y(locks[p.name].value)e(!=)i(p.value\))g(->)
2342 1772 y(err)h(=)g(1)2103 1851 y(::)g(else)2103 1930
y(fi)2024 2009 y Fe(g)p 3938 2117 V 1974 2121 1968 4
v 2196 2356 a Fo(Figure)23 b(10.)h(fail)p 2737 2356 25
4 v 30 w(if)p 2818 2356 V 29 w(incompatib)o(le)p 3359
2356 V 29 w(pr)n(oper)r(ty)2073 2546 y Fs(The)d(procedure)c
Fi(snarf)p 2831 2546 V 29 w(property)p 3260 2546 V 29
w(lock)p Fs(,)j(Figure)f(11,)h(is)1974 2646 y(called)h(by)h(a)g(task)g
(to)g(snarf)f(a)h(property)-5 b(.)27 b(The)21 b(procedure)e(tak)o(es)j
(as)1974 2746 y(parameter)17 b(the)h(identity)-5 b(,)18
b Fi(this)g Fs(\(type)f Fi(TaskId)p Fs(\),)h(of)g(the)h(calling)1974
2845 y(task;)25 b(and)e(the)g(property)-5 b(,)22 b Fi(p)i
Fs(\(type)e Fi(Property)p Fs(\),)h(to)g(be)h(snarfed.)1974
2945 y(The)f(success)i(of)e(the)h(operation)e(is)j(written)f(back)f
(into)g(the)h(result)1974 3044 y(v)n(ariable)19 b Fi(err)p
Fs(.)p 1974 3223 1968 4 v 1972 4281 4 1059 v 2024 3305
a Ff(inline)39 b(snarf_property_lock\(this,p,err\))c
Fe(f)2103 3384 y Ff(atomic)p Fe(f)2183 3463 y Ff
(fail_if_incompatible_property\(p,err\);)2183 3542 y
(append\(this,locks[p.name].sub\);)2183 3621 y(if)2183
3699 y(::)40 b(locks[p.name].value)d(==)i(undef_value)f(->)2382
3778 y(locks[p.name].value)f(=)j(p.value;)2382 3857 y
(locks[p.name].achieved)d(=)j(db_query\(p\))2183 3936
y(::)g(else)2183 4015 y(fi;)2183 4094 y(signal_event\(SNARF_EVENT\))
2103 4173 y Fe(g)2024 4252 y(g)p 3938 4281 V 1974 4285
1968 4 v 2369 4520 a Fo(Figure)22 b(11.)i(snarf)p 2992
4520 25 4 v 30 w(pr)n(oper)r(ty)p 3359 4520 V 29 w(loc)n(k)2073
4727 y Fs(The)18 b(procedure)d(\002rst)j(checks)f(whether)f(the)i
(operation)e(is)i(com-)1974 4827 y(patible)24 b(with)g(the)g(already)f
(e)o(xisting)g(locks.)37 b(That)24 b(is,)h(there)f(must)1974
4926 y(not)f(be)h(a)g(lock)g(with)g(the)g(same)g(property)e(name,)i(b)n
(ut)f(with)h(a)h(dif-)1974 5026 y(ferent)g(property)f(v)n(alue.)43
b(Note)26 b(that)g(the)h(result)f(of)g(this)h(check)e(is)1974
5126 y(written)20 b(into)f(the)h Fi(err)g Fs(v)n(ariable.)k(In)c(the)g
(calling)f(conte)o(xt,)g(Figure)1974 5225 y(17,)30 b(we)f(shall)g
(later)g(see)g(the)g(ef)n(fect)f(of)h(this)g(result)g(v)n(ariable)f
(be-)1974 5325 y(coming)17 b Fn(tr)r(ue)p Fs(:)24 b(an)18
b(interrupt)f(will)h(occur)f(and)h(terminate)f(the)h(task.)1859
5574 y(7)p eop
%%Page: 8 8
8 7 bop -182 83 a Fs(The)27 b(task)h(is)h(then)f(appended)d(to)j(the)g
(list)h(of)f(subscribers)f(to)h(the)-182 183 y(property:)h(those)23
b(that)h(w)o(ant)f(it)h(to)g(become)e Fn(tr)r(ue)p Fs(.)35
b(Then,)23 b(in)g(case)-182 282 y(the)d(property)e(is)j(in)f(f)o(act)h
(not)f(already)f(in)h(the)g(lock)g(table,)g(it)h(is)g(\223in-)-182
382 y(serted\224:)j(the)18 b(property)e(name)i(of)f Fi(p)i
Fs(is)g(set)g(to)g(denote)e(the)h(property)-182 482 y(v)n(alue)28
b(of)h Fi(p)p Fs(;)34 b(and)29 b(the)g Fi(achieved)f
Fs(\002eld)h(is)i(set)e(to)h Fn(tr)r(ue)f Fs(if)h(the)-182
581 y(property)18 b(already)h(holds)h(in)h(the)f(database)g(\(call)g
(of)g Fi(db)p 1464 581 25 4 v 30 w(query)p Fs(\),)-182
681 y(otherwise)f(to)i Fn(f)9 b(al)r(se)p Fs(.)24 b(Finally)-5
b(,)19 b(the)i Fi(SNARF)p 1140 681 V 29 w(EVENT)e Fs(is)j(signaled)-182
780 y(with)e(the)g(result)g(that)h(the)f(daemon)e(will)j(be)g
(restarted)e(if)i(w)o(aiting.)-83 921 y(After)d(ha)n(ving)e(snarfed)h
(the)h(property)-5 b(,)15 b(it)k(is)f(no)n(w)g(up)f(to)h(the)g(task)
-182 1021 y(to)k(achie)n(v)o(e)e(the)i(property)d(\226)j(if)g(it)h(is)g
(the)e(o)n(wner)g(that)h(is.)31 b(A)22 b(task)g(is)-182
1120 y(the)g(o)n(wner)f(of)g(a)i(property)-5 b(,)19 b(if)k(it)f(w)o(as)
h(the)f(\002rst)h(to)f(subscribe)f(to)h(it,)-182 1220
y(and)h(hence)f(the)i(\002rst)g(element)f(in)g(the)h(property')-5
b(s)22 b(subscriber)g(list)-182 1320 y(in)g(the)h(lock)f(table.)33
b(The)22 b(procedure)f Fi(find)p 1125 1320 V 29 w(owner)p
Fs(,)i(Figure)f(12,)-182 1419 y(determines)h(this.)38
b(It)25 b(tak)o(es)g(as)g(parameter)e(the)i(property)d
Fi(p)j Fs(\(type)-182 1519 y Fi(Property)p Fs(\),)15
b(and)h(returns)f(in)i(the)f(result)h(v)n(ariable)e Fi(owner)h
Fs(\(type)-182 1618 y Fi(TaskId)p Fs(\))j(the)h(o)n(wner)f(of)h(that)g
(property)e(in)j(the)f(lock)g(table.)p -182 1826 1968
4 v -184 2096 4 270 v -133 1909 a Ff(inline)39 b(find_owner\(p,owner\))
e Fe(f)-53 1987 y Ff(locks[p.name].sub?<owner>)-133 2066
y Fe(g)p 1781 2096 V -182 2100 1968 4 v 382 2334 a Fo(Figure)22
b(12.)i(\002nd)p 955 2334 25 4 v 29 w(o)o(wner)-83 2538
y Fs(When)g(a)h(task)f(\002nally)g(w)o(ants)h(to)f(achie)n(v)o(e)f(a)i
(property)-5 b(,)22 b(it)j(calls)-182 2637 y(the)44 b(procedure)f
Fi(achieve)p 697 2637 V 28 w(lock)p 925 2637 V 30 w(property)p
Fs(,)49 b(Figure)c(13.)-182 2737 y(The)23 b(procedure)f(tak)o(es)i(as)g
(parameter)f(the)h(identity)-5 b(,)23 b Fi(this)h Fs(\(type)-182
2836 y Fi(TaskId)p Fs(\),)36 b(of)f(the)f(calling)g(task;)42
b(and)34 b(the)h(property)-5 b(,)35 b Fi(p)g Fs(\(type)-182
2936 y Fi(Property)p Fs(\),)16 b(to)h(be)g(achie)n(v)o(ed.)23
b(The)16 b(result)i(\(success\))f(of)f(the)i(op-)-182
3036 y(eration)c(is)i(stored)f(in)h(the)f(result)g(v)n(ariable)g
Fi(err)g Fs(\(type)f Fi(bool)p Fs(\).)23 b(The)-182 3135
y(task)f(can)f(only)g(achie)n(v)o(e)g(the)g(property)f(if)i(it')-5
b(s)23 b(the)f(o)n(wner)-5 b(.)29 b(Hence,)-182 3235
y(\002rst)19 b(it)h(is)g(determined)d(which)h(task)h(is)h(the)f(o)n
(wner)f(of)g(the)h(property)-182 3335 y Fi(p)p Fs(:)24
b(the)19 b(procedure)d(call)j Fi(find)p 731 3335 V 29
w(owner\(p,owner\))e Fs(stores)i(the)-182 3434 y(o)n(wner)34
b(in)h(the)h(result)f(v)n(ariable)g Fi(owner)p Fs(.)70
b(In)35 b(case)h(the)f(o)n(wner)-182 3534 y(equals)22
b(the)g(calling)g(task)h(\()p Fi(this)p Fs(\),)f(the)g(property)e(is)k
(achie)n(v)o(ed)c(by)-182 3633 y(a)g(call)g(of)g(the)g(procedure)d
Fi(achieve)i Fs(\(de\002ned)g(in)h(Figure)f(14)g(and)-182
3733 y(described)24 b(belo)n(w\);)29 b(and)c(the)h Fi(achieved)f
Fs(\002eld)i(is)g(set)f(to)h Fn(tr)r(ue)p Fs(.)-182 3833
y(On)22 b(the)g(other)f(hand,)h(if)g(the)g(task)h(is)g(not)f(o)n(wner)m
(,)f(it)i(must)f(w)o(ait)h(for)-182 3932 y(the)k(o)n(wner)f(\(some)g
(other)g(task\))h(to)g(achie)n(v)o(e)f(the)h(property)-5
b(.)43 b(This)-182 4032 y(w)o(aiting)19 b(is)h(initiated)f(by)f(a)i
(call)f(of)g Fi(wait)p 1045 4032 V 29 w(for)p 1224 4032
V 30 w(event)g Fs(with)g(the)-182 4132 y(property)e Fi(p)j
Fs(as)h(restart)e(condition.)k(That)d(is,)g(the)g(calling)f(task)h
(will)-182 4231 y(only)h(be)g(restarted)g(on)h(a)g(memory)e(e)n(v)o
(ent,)h(if)h(also)g(the)g(property)e Fi(p)-182 4331 y
Fs(has)g(been)g(achie)n(v)o(ed,)e(and)h(hence)h(is)h(satis\002ed)g(in)f
(the)g(database.)-83 4472 y(The)k(procedure)e Fi(achieve)p
Fs(,)i(Figure)f(14,)i(is)g(the)f(one)g(that)g(re-)-182
4571 y(ally)f(achie)n(v)o(es)e(the)i(property)e(by)h(updating)f(the)i
(database)f(in)h(case)-182 4671 y(the)15 b(property)e(is)k(not)e
(already)f(satis\002ed)i(in)g(the)f(database.)23 b(The)15
b(pro-)-182 4770 y(cedure)h(tak)o(es)i(as)h(parameter)d(the)i(property)
e Fi(p)i Fs(\(type)f Fi(Property)p Fs(\))-182 4870 y(to)30
b(be)h(achie)n(v)o(ed.)54 b(If)31 b(the)f(property)f(is)i(already)f
(satis\002ed)h(in)g(the)-182 4970 y(database)20 b(\226)i(i.e.)29
b Fi(db)p 425 4970 V 29 w(query\(p\))21 b Fs(e)n(v)n(aluates)g(to)g
Fn(tr)r(ue)h Fs(\226)g(the)f(pro-)-182 5069 y(cedure)15
b(returns)h(successfully)711 5039 y Fm(7)747 5069 y Fs(.)24
b(Otherwise)16 b(\()p Fi(else)p Fs(\),)g(in)h(case)g(the)-182
5169 y(property)h(is)k(not)e(already)g(satis\002ed,)h(a)h
(non-deterministic)c(choice)p -182 5248 788 4 v -97 5302
a Fk(7)-63 5325 y Ft(The)f(\002rst)g(if\226branch)i(is)e(equi)n(v)n
(alent)k(to)c Ff(db)p 951 5325 20 4 v 24 w(query\(p\))39
b(->)g(skip)p Ft(.)p 1974 86 1968 4 v 1972 987 4 901
v 2024 169 a Ff(inline)g(achieve_lock_property\(this,p,err\))c
Fe(f)2103 247 y Ff(TaskId)k(owner;)2103 326 y(find_owner\(p,owner\);)
2103 405 y(if)2103 484 y(::)h(owner)f(==)h(this)f(->)2303
563 y(achieve\(p,err\);)2303 642 y(locks[p.name].achieved)d(=)k(true)
2103 721 y(::)g(else)f(->)2303 800 y
(wait_for_event\(this,MEMORY_EVENT,p\);)2103 878 y(fi)2024
957 y Fe(g)p 3938 987 V 1974 990 1968 4 v 2319 1224 a
Fo(Figure)23 b(13.)g(ac)o(hie)o(ve)p 3041 1224 25 4 v
31 w(loc)n(k)p 3236 1224 V 30 w(pr)n(oper)r(ty)1974 1472
y Fs(is)e(made)f(between)f(success)i(:)26 b(updating)18
b(the)i(database)g(to)g(achie)n(v)o(e)1974 1572 y(the)e(property)-5
b(,)16 b(and)i(f)o(ailure)g(:)25 b(setting)18 b(the)g(boolean)f(result)
h(v)n(ariable)1974 1671 y Fi(err)30 b Fs(to)h Fn(tr)r(ue)p
Fs(.)56 b(This)31 b(non-determinism)c(re\003ects)k(the)f(f)o(act)h
(that)1974 1771 y(achie)n(v)o(ement)17 b(can)i(f)o(ail,)h(and)f(we)g
(abstract)g(a)o(w)o(ay)g(from)g(the)g(details)1974 1870
y(about)g(the)h(possible)g(causes)h(of)f(f)o(ailure.)p
1974 2065 1968 4 v 1972 2887 4 822 v 2024 2147 a Ff(inline)39
b(achieve\(p,err\))e Fe(f)2103 2226 y Ff(if)2103 2305
y(::)j(db_query\(p\))2103 2384 y(::)g(else)f(->)2303
2463 y(if)2303 2542 y(::)g(db[p.name])g(=)g(p.value)2303
2620 y(::)g(err)h(=)f(1)2303 2699 y(fi)2103 2778 y(fi)2024
2857 y Fe(g)p 3938 2887 V 1974 2890 1968 4 v 2599 3123
a Fo(Figure)23 b(14.)h(ac)o(hie)o(ve)2073 3313 y Fs(Once)18
b(the)g(task)g(has)g(achie)n(v)o(ed)e(the)i(property)-5
b(,)16 b(it)i(is)h(ready)e(to)h(e)o(x-)1974 3413 y(ecute)i(its)h(real)f
(job)g(while)g(assuming)g(that)g(the)g(property)f(is)i(in)m(v)n(ari-)
1974 3512 y(antly)d(satis\002ed)i(\(the)f(daemon)e(must)i(interv)o(ene)
e(and)i(stop)g(the)g(task)1974 3612 y(if)f(this)h(is)g(not)e(the)h
(case\).)25 b(The)17 b(procedure)f Fi(closure)p Fs(,)h(Figure)h(15,)
1974 3712 y(represents)23 b(this)h(job)m(.)36 b(Its)24
b(body)f(is)i(simple:)33 b(a)24 b(non-deterministic)1974
3811 y(choice)c(between)g(just)h(a)h Fi(skip)e Fs(statement)h(and)f
Fi(false)p Fs(.)27 b(In)21 b(case)1974 3911 y(the)d(\002rst)g
(if\226branch)e(is)j(chosen,)e Fi(skip)h Fs(is)h(e)o(x)o(ecuted,)d(and)
h(the)h(pro-)1974 4011 y(cedure)j(returns)g(immediately)-5
b(.)29 b(In)22 b(case,)h(on)f(the)g(other)g(hand,)f(the)1974
4110 y(second)16 b(branch)f(is)j(chosen,)e(the)h(e)o(x)o(ecution)e(of)i
Fi(false)f Fs(will)i(mak)o(e)1974 4210 y(the)h(calling)g(task)g(block,)
f(since)h Fi(false)g Fs(cannot)f(e)o(x)o(ecute)g(and)g(ter)n(-)1974
4310 y(minate)27 b(due)h(to)g(the)g(semantics)g(of)h(P)t
Ft(R)q(O)t(M)t(E)t(L)t(A)r Fs(.)50 b(This)28 b(blocking)1974
4409 y(is)19 b(supposed)f(to)g(simulate)h(a)g(time)g(consuming)d
(computation,)h(and)1974 4509 y(is)24 b(needed)e(later)i(in)g(order)e
(to)i(con)m(v)o(eniently)c(formulate)i(a)i(certain)1974
4608 y(correctness)i(property)g(to)h(be)h(v)o(eri\002ed.)45
b(The)27 b(correctness)g(prop-)1974 4708 y(erty)c(basically)h(says)g
(that)g Fu(in)g(case)g(the)g(pr)l(operty)g(is)h(br)l(ok)o(en)e(\(i.e)o
(.:)1974 4808 y(is)28 b(no)f(long)o(er)g(in)h(the)f(database\),)g(the)g
(task)h(will)h(be)e(terminated)p Fs(.)1974 4907 y(No)n(w)-5
b(,)28 b(suppose)f Fi(closure)g Fs(al)o(w)o(ays)h(terminated,)f(this)h
(property)1974 5007 y(w)o(ould)18 b(be)h(tri)n(vially)f(satis\002ed)i
(\226)f(hence)f(the)h(blocking)e(alternati)n(v)o(e,)1974
5107 y(allo)n(wing)24 b(us)i(to)g(v)o(erify)e(that)i(the)f(daemon)f
(really)h(e)o(xplicitly)g(and)1974 5206 y(violently)19
b(aborts)g(the)i(task.)2073 5325 y(Assume)h(that)g(the)g(task)g(no)n(w)
f(has)h(called)g(the)g Fi(closure)p Fs(,)f(and)1859 5574
y(8)p eop
%%Page: 9 9
9 8 bop -182 86 1968 4 v -184 356 4 270 v -133 169 a
Ff(inline)39 b(closure\(\))g Fe(f)-53 247 y Ff(if)h(::)f(true)g(->)h
(skip)f(::)h(true)f(->)h(hang)f(fi)-133 326 y Fe(g)p
1781 356 V -182 359 1968 4 v 448 593 a Fo(Figure)22 b(15.)i(c)n(losure)
-182 845 y Fs(that)f(this)h(terminates)g(\226)f(either)g(by)h(choosing)
e(the)h Fi(skip)h Fs(branch,)-182 945 y(or)f(because)f(it)i(has)g(been)
f(aborted)e(by)i(the)h(daemon.)33 b(In)23 b(this)g(case)-182
1044 y(the)k(snarfed)f(property)f(no)h(longer)g(needs)h(to)g(be)g
(satis\002ed)h(in)f(the)-182 1144 y(database,)c(at)h(least)g(so)g(f)o
(ar)f(as)h(what)g(concerns)e(this)i(task.)35 b(Hence,)-182
1243 y(our)22 b(task)h(must)h(release)f(the)g(property)-5
b(,)21 b(meaning)h(that)h(it)h(must)f(be)-182 1343 y(remo)o(v)o(ed)16
b(from)i(the)h(property)e(lock)h(table.)25 b(This)19
b(will)h(allo)n(w)f(other)-182 1443 y(tasks)32 b(to)g(snarf)f(and)h
(lock)f(the)h(same)g(property)e(name)h(b)n(ut)h(with)-182
1542 y(dif)n(ferent)27 b(property)g(v)n(alues.)50 b(The)29
b(releasing)f(is)i(done)e(by)g(a)h(call)-182 1642 y(of)f(the)h
(procedure)d Fi(release)p 763 1642 25 4 v 28 w(lock)p
Fs(,)31 b(Figure)d(16.)49 b(It)29 b(tak)o(es)g(as)-182
1742 y(parameter)17 b(the)h(identity)-5 b(,)17 b Fi(this)i
Fs(\(type)e Fi(TaskId)p Fs(\),)h(of)g(the)g(calling)-182
1841 y(task;)i(and)g(the)g(property)-5 b(,)17 b Fi(p)k
Fs(\(type)e Fi(Property)p Fs(\),)g(to)h(be)g(released.)p
-182 2038 1968 4 v -184 2860 4 822 v -133 2120 a Ff(inline)39
b(release_lock\(this,p\))e Fe(f)-53 2199 y Ff(atomic)p
Fe(f)27 2278 y Ff(remove\(this,locks[p.name].sub\);)27
2357 y(if)27 2435 y(::)i(empty\(locks[p.name].sub\))e(->)226
2514 y(locks[p.name].value)g(=)j(undef_value)27 2593
y(::)f(nempty\(locks[p.name].sub\))27 2672 y(fi)-53 2751
y Fe(g)-133 2830 y(g)p 1781 2860 V -182 2863 1968 4 v
354 3096 a Fo(Figure)23 b(16.)g(release)p 1059 3096 25
4 v 31 w(loc)n(k)-83 3288 y Fs(Its)c(body)e(is)i(embedded)d(within)h
(an)h Fi(atomic)g Fs(to)g(model)g(a)g(crit-)-182 3388
y(ical)26 b(section)g(in)h(the)h(L)t Ft(I)t(S)t(P)h Fs(code.)43
b(The)25 b(procedure)f(basically)i(re-)-182 3487 y(mo)o(v)o(es)e(the)h
(task)h(from)e(the)h(property)e(name')-5 b(s)25 b(subscriber)f(list)j
(in)-182 3587 y(the)d(lock)h(table,)g(since)g(the)g(task)g(no)g(longer)
e(subscribes)i(to)g(it.)39 b(In)-182 3687 y(case)26 b(the)g(subscriber)
f(list)i(thereby)e(becomes)g(empty)g(\226)h(no)g(other)-182
3786 y(tasks)16 b(subscribe)e(\226)i(the)g(lock)f(must)g(be)h(remo)o(v)
o(ed)d(completely)h(from)-182 3886 y(the)h(lock)g(table.)23
b(This)16 b(is)g(done)e(by)h(assigning)g(the)g Fi(undef)p
1513 3886 V 29 w(value)-182 3985 y Fs(as)22 b(property)e(v)n(alue)h(to)
h(the)g(property)e(name)h(in)h(the)g(table.)29 b(Recall,)-182
4085 y(that)20 b(this)g(is)h(the)f(w)o(ay)h(we)f(model)f(the)h(absence)
g(of)f(a)i(lock)e(\(a)i(prop-)-182 4185 y(erty)29 b(name)g(maps)g(to)g
Fi(undef)p 741 4185 V 29 w(value)p Fs(\),)i(whereas)e(in)h(the)h(L)t
Ft(I)t(S)t(P)-182 4284 y Fs(program,)16 b(the)i(lock)g(w)o(ould)g
(simply)g(be)g(remo)o(v)o(ed)e(from)h(the)i(list)g(of)-182
4384 y(locks.)-83 4506 y(W)-7 b(e)22 b(can)e(no)n(w)f(\002nally)h
(de\002ne)g(the)g(top-le)n(v)o(el)f(procedure)-182 4605
y Fi(execute)p 173 4605 V 28 w(task)p Fs(,)40 b(Figure)35
b(17)g(\226)h(called)g(by)g(a)g(task)g(\226)g(which)-182
4705 y(snarfs)26 b(the)h(property)e(to)i(be)f(maintained,)h(achie)n(v)o
(es)f(it,)j(e)o(x)o(ecutes)-182 4805 y(the)17 b(body)-5
b(,)15 b(and)i(\002nally)g(releases)g(the)h(property)d(again.)23
b(The)16 b(proce-)-182 4904 y(dure)i(tak)o(es)j(as)f(parameter)e(the)i
(identity)-5 b(,)19 b Fi(this)g Fs(\(type)g Fi(TaskId)p
Fs(\),)-182 5004 y(of)29 b(the)h(task;)35 b(and)29 b(the)h(property)-5
b(,)29 b Fi(p)h Fs(\(type)f Fi(Property)p Fs(\),)i(to)f(be)-182
5104 y(achie)n(v)o(ed)18 b(and)i(thereafter)f(maintained)f(to)j(the)f
(end)f(of)h(the)h(task.)-83 5225 y(W)-7 b(e)52 b(ha)n(v)o(e)e(up)g
(until)h(no)n(w)f(seen)h(the)f(v)n(ariable)g Fi(err)g
Fs(oc-)-182 5325 y(curring)41 b(as)k(result)e(parameter)f(to)i(most)f
(of)h(our)e(procedures.)p 1974 86 1968 4 v 1972 1460
4 1375 v 2024 169 a Ff(inline)d(execute_task\(this,p\))2024
247 y Fe(f)2103 326 y Ff(bool)h(err)f(=)h(0;)2103 405
y Fe(f)2183 484 y Ff(snarf_property_lock\(this,p,err\);)2183
563 y(achieve_lock_property\(this,p,err\);)2183 642 y(closure\(\))2103
721 y Fe(g)2183 800 y Ff(unless)2103 878 y Fe(f)p Ff(err)g(||)g
(active_tasks[this].state)c(==)j(ABORTED)p Fe(g)p Ff(;)2103
1036 y(active_tasks[this].state)e(=)i(TERMINATED;)2103
1194 y Fe(f)p Ff(release_lock\(this,p\))p Fe(g)2183 1273
y Ff(unless)2103 1352 y Fe(f)p Ff(active_tasks[this].state)e(==)i
(ABORTED)p Fe(g)2024 1430 y(g)p 3938 1460 V 1974 1464
1968 4 v 2499 1697 a Fo(Figure)23 b(17.)g(e)o(x)o(ecute)p
3226 1697 25 4 v 30 w(task)1974 1963 y Fs(This)56 b(v)n(ariable)e(is)j
(declared)e(as)h(a)g(local)g(v)n(ariable)e(at)j(this)1974
2062 y(outermost)g(le)n(v)o(el,)67 b(and)57 b(hence)h(passed)g(as)h
(actual)e(param-)1974 2162 y(eter)g(to)g(the)g(procedures)e
Fi(snarf)p 3114 2162 V 29 w(property)p 3543 2162 V 28
w(lock)i Fs(and)1974 2262 y Fi(achieve)p 2329 2262 V
28 w(lock)p 2557 2262 V 30 w(property)p Fs(.)35 b(The)23
b(calls)i(of)e(these)h(tw)o(o)g(pro-)1974 2361 y(cedures)g(are)i
(embedded)d(within)i(an)h Fi(unless)f Fs(construct)f(of)h(the)1974
2461 y(form)2315 2667 y Fg(f)p Fb(snarf;ac)o(hie)o(ve;job)p
Fg(g)d Fh(unless)17 b Fg(f)p Fb(condition)p Fg(g)p Fa(.)1974
2880 y Fs(where)57 b(the)g Fu(condition)f Fs(is)i(that)g(either)f
Fi(err)g Fs(is)h Fn(tr)r(ue)p Fs(,)67 b(or)1974 2980
y(\()p Fi(||)p Fs(\))73 b(the)g(task)h(has)g(been)e(aborted)g(by)h(the)
h(daemon:)1974 3080 y Fi(active)p 2279 3080 V 29 w(tasks[this].state)46
b(==)k(ABORTED)p Fs(.)16 b(As)i(we)1974 3179 y(shall)27
b(see)g(in)g(the)f(ne)o(xt)g(section,)i(the)e(daemon)f(aborts)h(a)h
(task)g(e)o(x-)1974 3279 y(actly)d(by)f(assigning)g(the)h(v)n(alue)f
Fi(ABORTED)h Fs(to)g(the)f Fi(state)h Fs(\002eld)1974
3379 y(in)29 b(the)g(tasks)h(status)f(record.)50 b(The)29
b(semantics)g(of)g(the)g Fi(unless)1974 3478 y Fs(construct)19
b(is)i(such)f(that)h(the)f(snar\002ng,)f(achie)n(ving)g(and)g(job)h(is)
i(per)n(-)1974 3578 y(formed)27 b(to)i(the)g(end,)h(unless)e(the)h
(condition)e(becomes)h Fn(tr)r(ue)p Fs(,)j(in)1974 3677
y(which)16 b(case)i(the)f(whole)f(statement)h(terminates)f(abruptly)-5
b(.)22 b(Hence,)1974 3777 y(in)h(the)h(case)f(that)h(either)e(the)i
(snar\002ng)e(or)h(the)g(achie)n(v)o(ement)e(goes)1974
3877 y(wrong)j(\()p Fi(err)i Fs(becomes)f Fn(tr)r(ue)p
Fs(\),)i(or)e(in)h(the)g(case)g(that)g(the)g(task)g(is)1974
3976 y(aborted)19 b(by)g(the)i(daemon)d(\226)i(the)h(whole)e(operation)
g(terminates.)2073 4108 y(Once)35 b(the)g(snar\002ng,)i(achie)n(ving)d
(and)g(job)g(has)i(been)e(termi-)1974 4208 y(nated,)19
b(either)h(normally)f(or)g(abnormally)-5 b(,)18 b(the)i(statement:)2064
4414 y Fh(active_tasks[this].state)40 b(=)45 b(TERMINATED;)1974
4628 y Fs(is)c(e)o(x)o(ecuted.)82 b(This)40 b(is)h(part)f(of)g(the)g
(modeling)e(of)h(the)j(L)t Ft(I)t(S)t(P)1974 4727 y Fi(unwind-protect)
20 b Fs(construct.)31 b(The)23 b(purpose)e(of)h(the)g(assign-)1974
4827 y(ment)29 b(is)h(to)g(\223restore\224)e(the)i(v)n(alue)e(of)h(the)
h Fi(state)f Fs(\002eld)g(in)h(case)1974 4926 y(the)g(task)h(has)f
(been)g(aborted)f(by)g(the)i(daemon;)i(and)d(hence)g(this)1974
5026 y(\002eld)19 b(had)f(got)g(the)g(v)n(alue)g Fi(ABORTED)p
Fs(.)g(Restoring)g(here)g(means)g(as-)1974 5126 y(signing)29
b(a)i(v)n(alue)e(dif)n(ferent)f(from)h Fi(ABORTED)p Fs(,)g(since)i(the)
f(v)n(alue)1974 5225 y Fi(ABORTED)h Fs(will)i(result)f(in)g(an)f
(immediate)g(termination)g(of)g(the)1974 5325 y(statement)24
b(that)h(follo)n(ws.)37 b(The)24 b(last)h(statement)f(namely)g
(releases)1859 5574 y(9)p eop
%%Page: 10 10
10 9 bop -182 83 a Fs(the)22 b(property)e(from)h(the)i(lock)f(table,)g
(b)n(ut)g(is)i(abruptly)c(terminated)-182 183 y(in)29
b(case)h(the)f Fi(state)g Fs(\002eld)h(has,)h(or)e(gets)h(the)f(v)n
(alue)g Fi(ABORTED)-182 282 y Fs(by)j(the)g(daemon,)i(in)f(case)g(the)g
(daemon)e(at)i(this)g(point)f(disco)o(v-)-182 382 y(ers)27
b(a)h(violation.)46 b(This)28 b(is)g(hence)f(the)g(second)g(e)o(xample)
f(of)h(ho)n(w)-182 482 y(the)19 b(P)t Ft(R)q(O)t(M)t(E)t(L)t(A)i
Fi(unless)c Fs(interrupt)f(construct)h(is)i(used)e(to)h(model)-182
581 y(task)i(abortion.)-83 712 y(W)-7 b(e)22 b(are)e(no)n(w)f(able)h
(to)h(de\002ne)e(the)i(process)e(type)-182 812 y Fi(Achieving)p
273 812 25 4 v 28 w(Task)p Fs(,)51 b(Figure)46 b(18,)51
b(of)45 b(which)h(a)g(process)f(is)-182 911 y(spa)o(wned/instantiated)
28 b(for)j(each)g(task.)58 b(It)31 b(tak)o(es)h(as)f(parameter)-182
1011 y(its)c(o)n(wn)f(identity)-5 b(,)27 b Fi(this)f
Fs(\(type)g Fi(TaskId)p Fs(\),)h(which)f(will)h(be)f(de-)-182
1110 y(termined)k(in)i(the)g(initialization)f(section,)j(Figure)d(25.)
60 b(A)32 b(local)-182 1210 y(v)n(ariable)21 b Fi(p)h
Fs(is)h(declared,)e(which)g(is)i(assigned)f(the)g(property)e(to)i(be)
-182 1310 y(snarfed)14 b(and)i(achie)n(v)o(ed)e(by)i(the)g(task.)24
b(In)15 b(order)g(to)h(reduce)f(the)h(state)-182 1409
y(space)j(to)h(model)f(check,)g(we)h(ha)n(v)o(e)f(focused)g(on)g
(property)f(name)h Fr(0)-182 1509 y Fs(\()p Fi(p.name)48
b(=)i(0)p Fs(\),)31 b(and)e(we)g(arbitrarily)f(let)i(the)f(task)g
(achie)n(v)o(e)f(a)-182 1609 y(property)18 b Fu(value)j
Fs(which)f(is)i(identical)e(to)i(the)f(task')-5 b(s)21
b(identity:)26 b Fr(1)21 b Fs(or)-182 1708 y Fr(2)29
b Fs(since,)i(as)f(we)g(shall)f(see,)j(only)c(tw)o(o)i(tasks)f(will)h
(be)f(spa)o(wned.)-182 1808 y(Finally)h(the)i(main)e(procedure)f(is)j
(called,)h(which)e(performs)e(the)-182 1907 y(snar\002ng,)d(achie)n(v)o
(ement,)f(job)g(and)h(release.)42 b(Note)26 b(that)g(all)g(tasks)-182
2007 y(in)21 b(this)h(model)e(perform)f(the)j(same)f(job)g(\()p
Fi(closure)p Fs(\).)26 b(This)c(is)g(an)-182 2107 y(e)o(xample)27
b(of)h(an)h(abstraction)e(from)h(the)i(L)t Ft(I)t(S)t(P)i
Fs(code,)d(where)f(de-)-182 2206 y(tails)23 b(re)o(garded)c(as)k
(unimportant)c(for)j(the)g(v)o(eri\002cation)e(ha)n(v)o(e)i(been)-182
2306 y(omitted.)p -182 2492 1968 4 v -184 3235 4 744
v -133 2574 a Ff(proctype)39 b(Achieving_Task\(TaskId)e(this\))-133
2653 y Fe(f)k Ff(Property)d(p;)-53 2732 y(p.name)h(=)h(0;)-53
2810 y(if)-53 2889 y(::)g(this)f(==)g(1)h(->)g(p.value)f(=)g(1;)-53
2968 y(::)h(this)f(==)g(2)h(->)g(p.value)f(=)g(2)-53
3047 y(fi;)-53 3126 y(execute_task\(this,p\);)-133 3205
y Fe(g)p Ff(;)p 1781 3235 V -182 3238 1968 4 v 291 3471
a Fo(Figure)23 b(18.)g(Ac)o(hie)o(ving)p 1106 3471 25
4 v 30 w(T)-7 b(ask)-182 3792 y Fp(3.5)90 b(The)22 b(Daemon)-83
4030 y Fs(The)j(daemon)f(is)i(responsible)e(for)h(detecting)f(whether)h
(viola-)-182 4129 y(tions)h(of)f(locks)h(occur)f(in)h(the)g(database.)
41 b(That)26 b(is,)i(it)e(must)g(react)-182 4229 y(in)j(case)h(a)g
(property)d(name)i Fn(pn)h Fs(in)g(the)f(lock)g(table)h(is)g(lock)o(ed)
f(to)-182 4329 y(a)k(property)e(v)n(alue)h Fn(pv)496
4341 y Fm(1)533 4329 y Fs(,)37 b(and)32 b(the)h(corresponding)d
Fi(achieved)-182 4428 y Fs(\002eld)j(is)h(set)g(to)f
Fn(tr)r(ue)g Fs(\(hence)f(a)h(task)h(relies)f(on)g(it)h(and)e(is)i(e)o
(x)o(e-)-182 4528 y(cuting)29 b(its)i(job\),)h(b)n(ut)f
Fn(pn)f Fs(denotes)g(a)g(v)n(alue)g Fn(pv)1254 4540 y
Fm(2)1333 4528 y Fl(6)p Fr(=)41 b Fn(pv)1521 4540 y Fm(1)1589
4528 y Fs(in)31 b(the)-182 4628 y(database.)39 b(In)25
b(that)g(case)h(the)f(daemon)e(must)i(interrupt)f(the)h(tasks)-182
4727 y(relying)16 b(on)h(the)g(property)f Fr(\()p Fn(pn;)e(pv)834
4739 y Fm(1)871 4727 y Fr(\))k Fs(and)f(repair)g(the)g(violation)f(by)
-182 4827 y(updating)k(the)i(database,)g(assigning)f
Fn(pv)1003 4839 y Fm(1)1063 4827 y Fs(to)h Fn(pn)h Fs(again.)29
b(The)22 b(pro-)-182 4926 y(cedure)15 b Fi(interrupt)p
511 4926 V 28 w(task)p Fs(,)i(Figure)f(19,)g(tak)o(es)h(as)g(parameter)
e(a)-182 5026 y(task,)k Fi(t)f Fs(\(type)g Fi(TaskId)p
Fs(\),)g(to)h(be)f(aborted,)f(and)h(does)h(this)g(by)f(sim-)-182
5126 y(ply)f(assigning)h(the)g(v)n(alue)g Fi(ABORTED)f
Fs(to)i(the)f Fi(state)g Fs(\002eld)g(of)g(the)-182 5225
y(task')-5 b(s)27 b(status)g(record.)42 b(This)26 b(will)i(cause)e(the)
g(rele)n(v)n(ant)f Fi(unless)-182 5325 y Fs(construct)19
b(to)h(terminate)f(the)i(task)f(\(Figure)f(17\).)p 1974
86 1968 4 v 1972 356 4 270 v 2024 169 a Ff(inline)39
b(interrupt_task\(t\))e Fe(f)2103 247 y Ff(active_tasks[t].state)g(=)j
(ABORTED)2024 326 y Fe(g)p 3938 356 V 1974 359 1968 4
v 2482 593 a Fo(Figure)23 b(19.)g(interrupt)p 3244 593
25 4 v 29 w(task)2073 861 y Fs(The)35 b(procedure)d Fi(property)p
3010 861 V 29 w(violated)p Fs(,)37 b(Figure)d(20,)k(is)1974
960 y(used)27 b(to)h(determine)e(whether)g(locks)i(ha)n(v)o(e)f(been)f
(violated.)46 b(It)28 b(is)1974 1060 y(called)f(for)g(each)f(property)g
(name)g(ha)n(ving)g(an)i(entry)e(in)h(the)h(lock)1974
1159 y(table)23 b(\()p Fr(0)f Fs(and)g Fr(1)h Fs(in)g(our)f(reduced)f
(case\),)i(and)f(tak)o(es)h(as)h(parameter)1974 1259
y(this)e(property)e(name)h Fi(pn)h Fs(\(type)f Fi(Property)p
3342 1259 V 28 w(Name)p Fs(\);)h(returning)1974 1359
y(the)j(result)h(back)f(into)g(the)g(v)n(ariable)g Fi(lock)p
3274 1359 V 29 w(violation)f Fs(\(type)1974 1458 y Fi(bool)p
Fs(\).)k(The)21 b(body)f(consists)i(of)f(a)h(single)f(assignment)g(to)g
(the)g(re-)1974 1558 y(sult)g(v)n(ariable,)f(which)g(becomes)g
Fn(tr)r(ue)h Fs(if)n(f.)27 b(the)20 b(property)f(name)h(is)1974
1658 y(lock)o(ed)27 b(\(property)e(v)n(alue)i(is)h(de\002ned\),)g(has)g
(been)f(achie)n(v)o(ed,)g(b)n(ut)1974 1757 y(has)20 b(a)h(property)d(v)
n(alue)h(dif)n(ferent)g(from)g(the)h(one)g(in)g(the)g(database.)p
1974 1962 1968 4 v 1972 2626 4 665 v 2024 2044 a Ff(inline)39
b(property_violated\(pn,violation\))c Fe(f)2103 2123
y Ff(atomic)p Fe(f)2183 2202 y Ff(violation)k(=)2263
2281 y(\(locks[pn].value)e(!=)j(undef_value)e(&)2303
2360 y(locks[pn].achieved)f(&)2303 2439 y(db[pn])i(!=)g
(locks[pn].value\))2103 2518 y Fe(g)2024 2596 y(g)p 3938
2626 V 1974 2630 1968 4 v 2410 2863 a Fo(Figure)23 b(20.)h(pr)n(oper)r
(ty)p 3168 2863 25 4 v 29 w(violated)2073 3063 y Fs(The)33
b(procedure)d Fi(property)p 3006 3063 V 28 w(violated)i
Fs(is)i(called)e(from)1974 3163 y(the)37 b(procedure)e
Fi(check)p 2738 3163 V 29 w(locks)p Fs(,)42 b(Figure)36
b(21,)42 b(which)37 b(checks)1974 3262 y(the)46 b(whole)g(property)e
(lock)h(table)h(for)g(violations.)102 b(This)46 b(is)1974
3362 y(done)35 b(in)i(a)g(loop)f(that)g(iterates)h(o)o(v)o(er)e(all)j
(the)e(property)e(names)1974 3461 y Fl(f)p Fr(0)14 b
Fn(:)g(:)g(:)e Fc(NO)p 2274 3461 V 29 w(PROPS)25 b Fl(\000)h
Fr(1)p Fl(g)p Fs(.)56 b(In)30 b(f)o(act,)j(there)e(are)f(tw)o(o)h(such)
g(loops.)1974 3561 y(In)d(the)g(\002rst)i(loop,)f(in)f(case)h(of)f(a)h
(property)e(name)g Fi(pn)i Fs(being)e(vi-)1974 3661 y(olated)k
(\(denoting)e(something)h(dif)n(ferent)f(in)j(the)f(database)g(than)
1974 3760 y(in)24 b(the)f(lock)g(table\),)h(all)g(the)g(subscribers)e
(to)i(that)f(property)f(name)1974 3860 y(are)38 b(interrupted.)78
b(This)38 b(is)i(done)d(by)h(\002rst)h(taking)f(a)h(cop)o(y)e(of)1974
3960 y(this)h(subscriber)e(list,)42 b(storing)37 b(it)h(in)f(the)h
(local)f(v)n(ariable)f Fi(sub)p Fs(,)1974 4059 y(and)h(then)g(e)o
(xtracting)f(each)h(task)h Fi(t)g Fs(from)e Fi(sub)p
Fs(,)42 b(one)37 b(by)g(one)1974 4159 y(\()p Fi(next\(sub,t\))p
Fs(\),)18 b(and)h(interrupting)f(it.)2073 4294 y(In)24
b(the)g(second)f(loop,)h(a)h Fi(break)e Fs(statement)h(causes)g
(termina-)1974 4393 y(tion)g(as)h(soon)e(as)i(a)g(violation)e(is)i
(found,)e(the)i(purpose)d(being)i(just)1974 4493 y(to)j(e)o(xamine)g
(whether)f(there)h(are)g(an)o(y)g(violations)g(left.)47
b(This)27 b(re-)1974 4592 y(sult)k(is)h(returned)d(in)i(the)g(result)f
(v)n(ariable)g Fi(violation)g Fs(of)g(the)1974 4692 y
Fi(check)p 2229 4692 V 29 w(locks)23 b Fs(procedure.)34
b(The)23 b(result)h(will)g(then)g(be)f(used)h(in)1974
4792 y(the)17 b(calling)g(conte)o(xt)g(to)g(decide)g(whether)f(the)i
(database)f(should)f(be)1974 4891 y(reco)o(v)o(ered.)2073
5026 y(The)33 b(tw)o(o)g(loops)f(are)g(also)h(present)f(in)h(the)i(L)t
Ft(I)t(S)t(P)g Fs(code,)g(and)1974 5126 y(since)c(the)o(y)f(result)h
(in)h(an)f(une)o(xpected)d(beha)n(vior)i(found)f(during)1974
5225 y(v)o(eri\002cation,)20 b(to)i(be)g(e)o(xplained)e(in)i(section)g
(4.4,)f(we)h(quote)f(Erann)1974 5325 y(Gat')-5 b(s)21
b(e)o(xplanation)d(of)i(the)g(code:)1839 5574 y(10)p
eop
%%Page: 11 11
11 10 bop -182 86 1968 4 v -184 2643 4 2558 v -133 169
a Ff(inline)39 b(check_locks\(lock_violation\))d Fe(f)-53
247 y Ff(Property_Name)i(pn;)-53 326 y(list)h(sub)h(=)f([NO_TASKS])g
(of)g Fe(f)p Ff(TaskId)p Fe(g)p Ff(;)-53 405 y(TaskId)g(t;)-53
484 y(pn)h(=)f(0;)-53 563 y(do)-53 642 y(::)h(pn)f(<)h(NO_PROPS)f(->)
146 721 y(property_violated\(pn,lock_violation\);)146
800 y(if)146 878 y(::)h(lock_violation)e(->)346 957 y(atomic)p
Fe(f)p Ff(copy\(locks[pn].sub,sub\))p Fe(g)p Ff(;)346
1036 y(do)346 1115 y(::)h(sub?t)g(->)h(interrupt_task\(t\);)346
1194 y(::)f(empty\(sub\))g(->)g(break)346 1273 y(od)146
1352 y(::)h(else)146 1430 y(fi;)146 1509 y(pn++)-53 1588
y(::)g(else)f(->)79 b(break)-53 1667 y(od;)-53 1746 y(pn)40
b(=)f(0;)-53 1825 y(do)-53 1904 y(::)h(pn)f(<)h(NO_PROPS)f(->)146
1983 y(property_violated\(pn,lock_violation\);)146 2061
y(if)146 2140 y(::)h(lock_violation)e(->)h(break)146
2219 y(::)h(else)146 2298 y(fi;)146 2377 y(pn++)-53 2456
y(::)g(else)f(->)g(break)-53 2535 y(od)-133 2614 y Fe(g)p
1781 2643 V -182 2647 1968 4 v 358 2880 a Fo(Figure)22
b(21.)i(c)o(hec)n(k)p 1010 2880 25 4 v 31 w(loc)n(ks)-16
3137 y Fu(The)k(structur)m(e)h(of)g(this)g(code)f(is)h(complicated)e
(by)i(the)-16 3236 y(design)23 b(r)m(equir)m(ement)h(that)g(an)g(e)n
(xternal)g(pr)l(ocess)h(may)-16 3336 y(be)30 b(r)m(esponsible)g(for)g
(r)m(estoring)h(violated)e(pr)l(operties.)-16 3436 y(\(In)e(the)i(case)
f(of)g(the)h(DS1)e(RA)i(this)f(is)h(the)g(MIR)f(pr)l(o-)-16
3535 y(cess.\))49 b(So)28 b(tasks)h(need)e(to)h(be)h(able)e(to)i
(decide)o(,)g(when)-16 3635 y(a)23 b(pr)l(operty)h(that)f(the)n(y)g
(want)h(maintained)e(is)i(violated,)-16 3735 y(if)33
b(the)n(y)g(want)g(to)g(wait)h(for)f(the)g(e)n(xternal)g(pr)l(ocess)h
(to)-16 3834 y(r)m(estor)m(e)c(the)f(pr)l(operty)g(or)h(if)g(the)n(y)f
(want)h(to)f(fail)h(right)-16 3934 y(away)-5 b(.)25 b(If)20
b(all)g(the)h(tasks)f(that)g(r)m(ely)h(on)e(a)h(violated)g(pr)l(op-)-16
4033 y(erty)29 b(fail)h(right)f(away)g(then)f(ther)m(e)h(is)h(no)f
(need)f(to)i(r)m(e-)-16 4133 y(stor)m(e)16 b(the)g(pr)l(operty)-5
b(,)16 b(since)g(no)f(one)h(is)g(r)m(elying)g(on)f(it)h(any)-16
4233 y(mor)m(e)o(.)24 b(So)c(c)o(hec)n(k-loc)n(ks)f(mak)o(es)h(one)g
(pass)g(thr)l(ough)f(the)-16 4332 y(pr)l(operty)29 b(loc)n(ks)h(and)f
(injects)g(failur)m(es)h(into)f(all)h(tasks)-16 4432
y(that)25 b(r)m(ely)g(on)g(violated)f(pr)l(operties.)40
b(It)26 b(then)e(yields)i(to)-16 4532 y(give)d(all)g(those)g(tasks)h(a)
f(c)o(hance)f(to)h(abort)g(themselves)-16 4631 y(if)30
b(the)n(y)f(c)o(hoose)f(to.)54 b(Then)29 b(it)h(c)o(hec)n(ks)g(to)f
(see)h(if)h(ther)m(e)-16 4731 y(ar)m(e)25 b(any)g(violated)f(pr)l
(operties)i(left.)40 b(This)26 b(is)g(r)m(eturned)-16
4830 y(as)36 b(a)h(boolean)d(to)j(the)f(\002r)o(st)h(part)g(of)f(the)g
(maintain-)-16 4930 y(pr)l(operties-daemon,)13 b(whic)o(h)i(runs)h(in)f
(an)g(in\002nite)g(loop.)-83 5126 y Fs(The)36 b(daemon)f(process)h
(itself)h(will)h(be)e(an)h(instance)f(of)g(the)-182 5225
y(process)44 b(type)h Fi(Daemon)p Fs(,)51 b(Figure)44
b(22,)51 b(which)45 b(as)g(parameter)-182 5325 y(tak)o(es)h(its)h(o)n
(wn)f(identity)-5 b(,)51 b Fi(this)46 b Fs(\(type)f Fi(TaskId)p
Fs(\).)102 b(It)46 b(de-)1974 83 y(clares)32 b(three)g(local)g(v)n
(ariables:)49 b Fi(lock)p 3169 83 V 29 w(violation)p
Fs(,)34 b(to)e(hold)1974 183 y(the)45 b(result)g(of)g
Fi(check)p 2721 183 V 29 w(locks)p Fs(;)58 b Fi(event)p
3331 183 V 29 w(count)p Fs(,)50 b(to)c(k)o(eep)1974 282
y(track)39 b(of)g(ne)n(w)g(e)n(v)o(ents;)48 b(and)38
b Fi(first)p 3160 282 V 29 w(time)p Fs(,)44 b(which)39
b(is)h Fn(tr)r(ue)1974 382 y Fs(only)c(when)g(the)h(daemon)e(starts.)76
b(The)37 b(body)e(consists)j(of)e(an)1974 482 y(in\002nite)41
b(loop,)46 b(which)40 b(for)h(each)g(iteration)g(does)g(the)g(follo)n
(w-)1974 581 y(ing.)89 b(The)41 b(procedure)e Fi(check)p
2991 581 V 29 w(locks)i Fs(is)i(called)e(to)h(deter)n(-)1974
681 y(mine)c(if)g(there)g(are)g(an)o(y)g(violations.)78
b(If)39 b(there)e(are,)43 b(the)38 b(pro-)1974 780 y(cedure)28
b Fi(do)p 2330 780 V 30 w(automatic)p 2810 780 V 28 w(recovery)h
Fs(is)h(called,)i(which)d(has)1974 880 y(not)48 b(been)f(sho)n(wn)h
(here,)54 b(b)n(ut)49 b(which)e(basically)h(repairs)g(the)1974
980 y(database)g(by)h(making)f(it)i(consistent)f(with)g(the)h(lock)e
(table.)1974 1079 y(That)21 b(is,)i Fi(do)p 2352 1079
V 30 w(automatic)p 2832 1079 V 28 w(recovery)e Fs(performs)f(the)h
(update)1974 1179 y Fi(db[pn])49 b(=)g(pv)18 b Fs(for)e(each)h
(property)e(name)i Fi(pn)p Fs(,)h(where)e(the)i(lock)1974
1279 y(table)i(maps)g Fi(pn)g Fs(to)h Fi(pv)p Fs(,)f(b)n(ut)g(the)g
(database)g Fi(db)g Fs(does)g(not.)p 1974 1496 1968 4
v 1972 3580 4 2084 v 2024 1579 a Ff(proctype)38 b(Daemon\(TaskId)g
(this\))h Fe(f)2103 1657 y Ff(bit)h(lock_violation;)2103
1736 y(byte)g(event_count)e(=)i(0;)2103 1815 y(bit)g(first_time)e(=)i
(true;)2103 1894 y(do)2103 1973 y(::)g(check_locks\(lock_violation\);)
2223 2052 y(if)2223 2131 y(::)f(lock_violation)f(->)2422
2210 y(do_automatic_recovery\(\))2223 2288 y(::)h(else)2223
2367 y(fi;)2223 2446 y(if)2223 2525 y(::)g(\(!first_time)g(&&)2382
2604 y(Ev[MEMORY_EVENT].count)e(+)2382 2683 y(Ev[SNARF_EVENT].count)g
(!=)j(event_count)e(\))2462 2762 y(->)2462 2841 y(event_count)g(=)2542
2919 y(Ev[MEMORY_EVENT].count)e(+)2542 2998 y(Ev[SNARF_EVENT].count)
2223 3077 y(::)j(else)h(->)2382 3156 y(first_time)f(=)g(false;)2382
3235 y(wait_for_events\(this,)2462 3314 y(MEMORY_EVENT,SNARF_EVENT\))
2223 3393 y(fi)2103 3472 y(od)2024 3550 y Fe(g)p Ff(;)p
3938 3580 V 1974 3584 1968 4 v 2587 3817 a Fo(Figure)23
b(22.)g(Daemon)2073 4030 y Fs(Then,)32 b(in)e(the)f(second)g(if)h
(construct,)h(it)g(is)g(decided)d(whether)1974 4129 y(the)18
b(daemon)e(should)g(stop)i(and)f(w)o(ait)i(for)e(a)h(ne)n(w)f(memory)f
(or)i(snarf)1974 4229 y(e)n(v)o(ent)h(to)h(occur)g(\(call)g(of)g
Fi(wait)p 2925 4229 25 4 v 29 w(for)p 3104 4229 V 29
w(events)p Fs(\),)f(or)h(whether)1974 4329 y(it)h(should)e(continue)g
(with)h(yet)g(another)f(iteration,)g(calling)1974 4428
y Fi(check)p 2229 4428 V 29 w(locks)h Fs(and)f(perhaps)1974
4528 y Fi(do)p 2079 4528 V 29 w(automatic)p 2558 4528
V 29 w(recovery)p Fs(.)31 b(Another)21 b(iteration)h(is)h(needed)1974
4628 y(if)k(a)h(memory)e(e)n(v)o(ent)g(or)h(a)h(snarf)f(e)n(v)o(ent)f
(has)h(occurred)f(since)h(the)1974 4727 y(daemon)g(w)o(as)j(restarted)f
(last)h(time.)52 b(This)29 b(is)h(e)o(xpressed)e(as)i(fol-)1974
4827 y(lo)n(ws:)44 b(when)28 b Fi(first)p 2660 4827 V
29 w(time)h Fs(is)i Fn(tr)r(ue)e Fs(\(initial)h(state\),)h(the)f(dae-)
1974 4926 y(mon)24 b(simply)h(calls)h Fi(wait)p 2782
4926 V 29 w(for)p 2961 4926 V 29 w(events)p Fs(,)g(and)e(then)h(w)o
(aits)h(for)1974 5026 y(either)15 b(a)h Fi(MEMORY)p 2537
5026 V 29 w(EVENT)f Fs(or)g(a)h Fi(SNARF)p 3219 5026
V 29 w(EVENT)f Fs(to)h(occur)-5 b(.)23 b(The)1974 5126
y(procedure)d Fi(wait)p 2534 5126 V 29 w(for)p 2713 5126
V 29 w(events)i Fs(has)g(not)g(been)g(sho)n(wn,)g(b)n(ut)g(is)1974
5225 y(lik)o(e)d Fi(wait)p 2322 5225 V 29 w(for)p 2501
5225 V 29 w(event)p Fs(,)g(Figure)f(7,)h(e)o(xcept)f(that)h(not)g
Fu(one)f Fs(\226)h(b)n(ut)1974 5325 y(either)24 b(of)h
Fu(two)g Fs(e)n(v)o(ents)f(are)h(w)o(aited)f(for)-5 b(.)39
b(A)25 b(second)f(dif)n(ference)e(is)1839 5574 y(11)p
eop
%%Page: 12 12
12 11 bop -182 83 a Fs(that)28 b(a)i(boolean)d(v)n(ariable)h
Fi(daemon)p 930 83 25 4 v 28 w(ready)h Fs(is)g(set)h(to)f
Fn(tr)r(ue)g Fs(as)-182 183 y(the)19 b(last)h(thing)f(before)f(the)i
(daemon)d(starts)k(w)o(aiting.)j(This)c(is)g(used)-182
282 y(during)28 b(initialization,)j(Figure)d(25,)k(as)e(we)g(shall)g
(see.)54 b(No)n(w)-5 b(,)31 b(in)-182 382 y(case)20 b(it')-5
b(s)22 b(not)d(the)i(\002rst)g(iteration,)e(the)h(test:)-93
604 y Fh(Ev[MEMORY_EVENT].count)41 b(+)-93 695 y(Ev[SNARF_EVENT].count)
266 786 y(!=)87 878 y(event_count)-182 1108 y Fs(is)27
b(e)o(x)o(ecuted.)42 b(It)27 b(e)n(v)n(aluates)f(to)h
Fn(tr)r(ue)g Fs(in)g(case)g(the)g(e)n(v)o(ent)e(counter)-182
1208 y Fi(event)p 73 1208 V 29 w(count)35 b Fs(dif)n(fers)f(from)h(the)
g(sum)h(of)f(the)h(e)n(v)o(ent)e(coun-)-182 1307 y(ters)28
b(for)g(the)g(memory)e(and)i(snarf)g(e)n(v)o(ents.)48
b(If)28 b(there)f(is)i(a)g(dif)n(fer)n(-)-182 1407 y(ence,)d(it)h
(means)e(that)h(there)f(has)h(been)g(an)f(e)n(v)o(ent)g(since)h(last)h
(time)-182 1506 y Fi(event)p 73 1506 V 29 w(count)18
b Fs(w)o(as)h(updated,)e(and)h(this)g(must)h(result)f(in)h(yet)f(an-)
-182 1606 y(other)k(iteration)g(before)g(calling)h Fi(wait)p
1003 1606 V 29 w(for)p 1182 1606 V 29 w(events)p Fs(.)33
b(Before)-182 1706 y(this)16 b(e)o(xtra)f(iteration,)h(the)g
Fi(event)p 823 1706 V 29 w(count)g Fs(v)n(ariable)f(is,)i(ho)n(we)n(v)o
(er)m(,)-182 1805 y(updated.)-182 2058 y Fp(3.6)90 b(The)22
b(En)l(vir)n(onment)-83 2311 y Fs(V)-5 b(iolations)18
b(are)g(introduced)e(by)i(the)g(en)m(vironment,)d(here)j(mod-)-182
2411 y(eled)29 b(by)f(the)i(process)e(type)h Fi(Environment)p
Fs(,)h(Figure)e(23.)52 b(An)-182 2511 y(instantiation)26
b(of)h(this)h(will)h(run)d(in)i(parallel)f(with)h(the)f(tasks)h(and)
-182 2610 y(the)e(daemon,)f(and)g(may)h(cause)g(a)g(database)f(change)g
(at)h(an)o(y)g(mo-)-182 2710 y(ment)i(in)h(time.)51 b(The)29
b(change)e(is)j(here)f(\002x)o(ed)f(to)h(property)e(name)-182
2810 y Fr(0)e Fs(getting)g(property)f(v)n(alue)h Fr(0)p
Fs(.)42 b(This)26 b(will)g(introduce)e(a)i(violation)-182
2909 y(in)j(case)h(a)f(lock)g(has)g(been)g(created)f(for)h(property)e
(name)h Fr(0)i Fs(with)-182 3009 y(a)c(v)n(alue)g(dif)n(ferent)f(from)g
Fr(0)p Fs(.)43 b(The)26 b Fi(MEMORY)p 1152 3009 V 29
w(EVENT)g Fs(is)h(further)n(-)-182 3108 y(more)f(signaled)h(to)h(w)o
(ak)o(e)g(up)f(the)h(daemon,)g(in)g(case)g(it')-5 b(s)28
b(not)g(al-)-182 3208 y(ready)e(running.)45 b(The)27
b(daemon)f(shall)i(then)f(hopefully)f(disco)o(v)o(er)-182
3308 y(the)20 b(violation)f(just)i(introduced.)p -182
3516 1968 4 v -184 4022 4 507 v -133 3598 a Ff(proctype)39
b(Environment\(\))-133 3677 y Fe(f)i Ff(atomic)p Fe(f)27
3756 y Ff(db[0])e(=)h(0;)27 3834 y(signal_event\(MEMORY_EVENT\))-53
3913 y Fe(g)-133 3992 y(g)p Ff(;)p 1781 4022 V -182 4025
1968 4 v 343 4259 a Fo(Figure)23 b(23.)g(En)m(vir)n(onment)-182
4574 y Fp(3.7)90 b(Initialization)-83 4827 y Fs(All)27
b(processes,)g(the)f(daemon)e(and)h(the)h(tasks,)i(are)e(all)g(instan-)
-182 4926 y(tiated)g(with)h(the)g(procedure)d Fi(spawn)p
Fs(,)k(which)e(tak)o(es)h(as)g(parame-)-182 5026 y(ter)20
b(the)g(parameterized)d Fi(task)j Fs(\(a)g Fi(proctype)p
Fs(\))f(to)h(be)g(spa)o(wned;)-182 5126 y(and)i(as)h(a)g(second)f
(parameter)f(it)i(tak)o(es)g(the)g(task)g(identity)f
Fi(t)h Fs(\(type)-182 5225 y Fi(TaskId)p Fs(\))h(of)i(the)g(task)g(to)g
(be)g(spa)o(wned.)40 b(The)25 b(second)g(parame-)-182
5325 y(ter)20 b(is)h(then)f(fed)g(as)g(actual)g(parameter)f(to)h(the)h
(\002rst)f(parameter)f(in)h(a)p 1974 86 V 1972 514 4
428 v 2024 169 a Ff(#define)38 b(spawn\(task,t\))2103
247 y(atomic)p Fe(f)2183 326 y Ff(active_tasks[t].state)f(=)i(RUNNING;)
2183 405 y(run)g(task\(t\))2103 484 y Fe(g)p 3938 514
V 1974 517 1968 4 v 2622 750 a Fo(Figure)23 b(24.)g(spa)o(wn)1974
1023 y Fi(run)17 b Fs(statement.)24 b(Before)16 b(that)i(happens,)e
(the)h(task')-5 b(s)18 b Fi(state)f Fs(\002eld)1974 1123
y(gets)j(the)h(v)n(alue)e Fi(RUNNING)p Fs(.)2073 1267
y(Finally)-5 b(,)17 b(the)f(system)g(is)h(initialized)f(by)g(spa)o
(wning)f(the)h(daemon)1974 1367 y(with)21 b(identity)e
Fr(0)p Fs(,)i(the)f(tw)o(o)h(tasks)g(with)g(identity)f
Fr(1)g Fs(respecti)n(v)o(ely)f Fr(2)p Fs(,)1974 1466
y(and)24 b(then)h(the)g(en)m(vironment,)e(see)j(Figure)e(25.)40
b(Before)24 b(the)i(tasks)1974 1566 y(are)h(spa)o(wned,)h(ho)n(we)n(v)o
(er)m(,)f(the)g(daemon)f(is)i(w)o(aited)f(for)g(to)h(termi-)1974
1666 y(nate)20 b(its)i(o)n(wn)e(local)g(initialization.)26
b(This)20 b(is)i(done)d(by)h(w)o(aiting)h(for)1974 1765
y(the)h(v)n(ariable)f Fi(daemon)p 2691 1765 25 4 v 29
w(ready)h Fs(to)g(become)f Fn(tr)r(ue)p Fs(.)31 b(In)22
b(f)o(act,)h(this)1974 1865 y(models)h(the)h(f)o(act)g(that)g(the)g
(daemon)f(will)i(be)f(started)f(before)g(an)o(y)1974
1964 y(other)19 b(task)i(in)f(the)g(system.)2779 1934
y Fm(8)p 1974 2219 1968 4 v 1972 2962 4 744 v 2024 2301
a Ff(init)2024 2380 y Fe(f)2103 2459 y Ff(spawn\(Daemon,0\);)2103
2538 y(daemon_ready)38 b(==)i(true;)2103 2695 y
(spawn\(Achieving_Task,1\);)2103 2774 y(spawn\(Achieving_Task,2\);)2103
2853 y(run)g(Environment\(\))2024 2932 y Fe(g)p 3938
2962 V 1974 2965 1968 4 v 2511 3198 a Fo(Figure)22 b(25.)i
(initialization)1974 3542 y Fv(4)99 b(Analysis)24 b(wrt.)31
b(Selected)c(Pr)n(operties)1974 3808 y Fp(4.1)90 b(Identifying)22
b(Pr)n(operties)f(to)i(be)f(V)-9 b(eri\002ed)2073 4066
y Fs(The)32 b(model)g(has)h(been)e(analyzed)g(wrt.)62
b(the)32 b(follo)n(wing)f(tw)o(o)1974 4166 y(properties,)18
b(here)i(e)o(xpressed)f(informally:)1976 4381 y(R)t Ft(E)t(L)t(E)t(A)t
(S)t(E)31 b Fs(Property:)42 b Fu(A)30 b(task)g(r)m(eleases)g(all)g(its)
g(loc)n(ks)g(befor)m(e)f(it)1974 4481 y(terminates.)1976
4672 y Fs(A)t Ft(B)t(O)t(RT)k Fs(Property:)44 b Fu(If)31
b(an)f(inconsistency)f(occur)o(s)h(between)g(the)1974
4772 y(database)23 b(and)g(an)h(entry)h(in)f(the)h(loc)n(k)g(table)o(,)
g(then)f(all)g(tasks)h(that)p 1974 4854 788 4 v 2059
4907 a Fk(8)2093 4931 y Ft(In)h(an)g(early)h(model,)h(the)f(tasks)f
(were)h(spa)o(wned)f(without)i(w)o(aiting)g(for)d(the)1974
5010 y(daemon,)e(b)o(ut)f(that)h(lead)g(to)f(the)h(disco)o(v)o(ery)g
(of)f(an)g(error)g(by)g(the)g(model)h(check)o(er)m(,)1974
5088 y(see)e(section)h(4.7.)30 b(The)20 b(error)h(w)o(as)g(basically)i
(that)f(a)e(lock)h(violation)j(could)d(occur)1974 5167
y(before)j(the)f(daemon)h(got)f(to)g(its)h(initial)h(w)o(aiting)g
(point,)g(which)f(the)f(\002rst)g(time)g(is)1974 5246
y(unconditional!;)g(and)18 b(hence)i(the)f(daemon)f(w)o(ould)h(just)g
(ignore)g(the)g(violation)i(and)1974 5325 y(call)d Ff(wait)p
2250 5325 20 4 v 24 w(for)p 2394 5325 V 23 w(events)p
Ft(.)1839 5574 y Fs(12)p eop
%%Page: 13 13
13 12 bop -182 83 a Fu(r)m(ely)23 b(on)f(the)h(loc)n(k)g(will)g(be)g
(terminated,)f(either)h(by)g(themselves)g(or)-182 183
y(by)d(the)g(daemon)f(in)h(terms)h(of)f(an)g(abort.)-83
379 y Fs(In)i(the)g(follo)n(wing)f(we)h(shall)h(demonstrate)d(ho)n(w)i
(we)g(ha)n(v)o(e)g(for)n(-)-182 479 y(mulated)27 b(these)h(properties)f
(in)h(terms)g(of)i(P)t Ft(R)q(O)t(M)t(E)t(L)t(A)h Fs(assertions)-182
578 y(\(assert\226statements\))c(and)k(L)m Ft(T)t(L)f
Fs(formulae,)f(and)g(we)g(shall)g(sho)n(w)-182 678 y(the)j(results)g
(of)g(applying)e(the)k(S)t Ft(P)t(I)t(N)h Fs(model)c(check)o(er)g(to)h
(v)o(erify)-182 778 y(these)21 b(properties.)28 b(It)21
b(turns)g(out)h(that)f(none)g(of)g(them)g(are)g(satis\002ed)-182
877 y(in)30 b(the)g(presented)f(model,)i(a)g(disco)o(v)o(ery)d(that)i
(has)g(lead)g(the)g(RA)-182 977 y(programmers)17 b(to)j(mak)o(e)g
(corrections)f(in)h(the)i(L)t Ft(I)t(S)t(P)h Fs(code.)-83
1103 y(The)j(v)o(eri\002cation)f(of)i(the)f(tw)o(o)h(properties)e(lead)
h(to)h(the)f(direct)-182 1202 y(disco)o(v)o(ery)h(of)i(four)f(errors)h
(\(wrong)f(code\))g(\226)i(one)e(breaking)g(the)-180
1302 y(R)t Ft(E)t(L)t(E)t(A)t(S)t(E)17 b Fs(property)-5
b(,)13 b(and)i(three)g(breaking)f(the)j(A)t Ft(B)t(O)t(RT)i
Fs(property)-5 b(.)-182 1402 y(All)25 b(of)f(these)h(errors)f(are)h
(classical)g(in)g(the)g(sense)g(that)g(the)o(y)f(arise)-182
1501 y(due)h(to)i(processes)f(interlea)n(ving)f(in)i(une)o(xpected)d(w)
o(ays.)44 b(Hence,)-182 1601 y(for)34 b(e)o(xample,)i(tw)o(o)f(errors)f
(can)h(be)f(corrected)f(by)i(introducing)-182 1700 y(critical)27
b(sections)f(around)f(the)i(troubled)e(code.)45 b(Furthermore,)25
b(a)-182 1800 y(less)d(serious,)f(b)n(ut)g(at)h(that)f(time)g(yet)g
(undisco)o(v)o(ered)d(ef)n(\002cienc)o(y)i(er)n(-)-182
1900 y(ror)29 b(\(code)f(e)o(x)o(ecuted)g(twice)i(instead)f(of)g
(once\))g(w)o(as)h(disco)o(v)o(ered)-182 1999 y(just)e(by)g(observing)e
(generated)h(traces)h(from)g(the)g(model)f(check-)-182
2099 y(ing.)e(Hence,)20 b(a)h(total)f(of)g(\002)n(v)o(e)h(errors)e
(were)i(identi\002ed)e(in)i(the)h(L)t Ft(I)t(S)t(P)-182
2199 y Fs(code,)j(four)e(of)i(which)f(being)g(important.)37
b(In)24 b(addition)f(to)i(this,)h(a)-182 2298 y(v)o(eri\002cation)14
b Fu(\223highlighted)f(the)j(need)f(for)h(a)g(mec)o(hanism)e(to)i
(insur)m(e)-182 2398 y(that)k(the)h(daemon)f(has)h(r)m(eac)o(hed)e
(`steady)h(state')h(befor)m(e)g(pr)l(oceed-)-182 2497
y(ing\224)p Fs(.)j(Although)17 b(this)i(w)o(as)g(not)f(considered)f(as)
i(a)g(direct)f(error)m(,)g(we)-182 2597 y(ha)n(v)o(e)h(reported)g(it)h
(here.)-182 2826 y Fp(4.2)90 b(Err)n(or)21 b Fr(1)i Fp(\226)f(The)i
Fs(R)t Ft(E)t(L)t(E)t(A)t(S)t(E)g Fp(Pr)n(operty)-81
3055 y Fs(R)t Ft(E)t(L)t(E)t(A)t(S)t(E)d Fs(Property:)j
Fu(A)c(task)f(r)m(eleases)h(all)g(its)g(loc)n(ks)g(befor)m(e)f(it)-182
3155 y(terminates.)-182 3400 y Fq(4.2.1)81 b(F)n(ormalizing)19
b(The)i(Pr)o(operty)-182 3581 y Fs(In)i(order)f(to)i(formalize)e(this)j
(property)-5 b(,)21 b(we)j(need)f(to)h(de\002ne)f(what)-182
3681 y(it)h(means)e(for)h(a)h(task)f(to)g(ha)n(v)o(e)g(released)g(its)h
(locks.)34 b(The)23 b(function)-182 3781 y Fi(not)p -27
3781 25 4 v 29 w(subscriber)15 b Fs(in)i(Figure)f(26)g(returns)g
Fn(tr)r(ue)h Fs(if)f(task)h Fi(t)g Fs(does)-182 3880
y(not)24 b(subscribe)f(to)i(property)d(name)i Fi(pn)p
Fs(,)h(hence)e(has)i(released)f(it')-5 b(s)-182 3980
y(lock)19 b(on)h Fi(pn)p Fs(.)p -182 4174 1968 4 v -184
4365 4 191 v -133 4256 a Ff(#define)39 b(not_subscriber\(this,pn\))-53
4335 y(!locks[pn].sub??[eval\(this\)])p 1781 4365 V -182
4368 1968 4 v 233 4601 a Fo(Figure)22 b(26.)k Fs(R)t
Ft(E)t(L)t(E)t(A)t(S)t(E)e Fo(predicate)-83 4801 y Fs(T)-7
b(o)30 b(state)h(the)h(R)t Ft(E)t(L)t(E)t(A)t(S)t(E)g
Fs(property)-5 b(,)30 b(we)g(modify)f(the)h(de\002ni-)-182
4900 y(tion)24 b(of)f(the)i(process)e Fi(Achieving)p
920 4900 25 4 v 29 w(Task)p Fs(,)h(Figure)g(18,)g(adding)-182
5000 y(an)c(assert\226statement)g(after)g(the)g(call)h(of)g
Fi(execute)p 1369 5000 V 28 w(task)p Fs(.)26 b(This)-182
5100 y(modi\002cation)18 b(is)j(sho)n(wn)f(in)g(Figure)g(27.)-83
5225 y(When)30 b(a)g(task)g(terminates)f(\(end)g(of)h
Fi(execute)p 1386 5225 V 28 w(task)p Fs(\),)i(we)-182
5325 y(e)o(xpect)24 b(that)h(it)h(is)h(no)e(longer)f(subscriber)g(of)h
(the)g(property)f(name)p 1974 86 1968 4 v 1972 908 4
822 v 2024 169 a Ff(proctype)38 b(Achieving_Task\(TaskId)f(this\))2024
247 y Fe(f)j Ff(Property)e(p;)2103 326 y(p.name)h(=)h(0;)2103
405 y(if)2103 484 y(::)g(this)f(==)h(1)f(->)h(p.value)f(=)g(1;)2103
563 y(::)h(this)f(==)h(2)f(->)h(p.value)f(=)g(2)2103
642 y(fi;)2103 721 y(execute_task\(this,p\);)2103 800
y(assert\(not_subscriber\(this,p.name\)\))2024 878 y
Fe(g)p Ff(;)p 3938 908 V 1974 912 1968 4 v 2073 1146
a Fo(Figure)23 b(27.)g(Formalization)f(of)i Fs(R)t Ft(E)t(L)t(E)t(A)t
(S)t(E)g Fo(pr)n(oper)r(ty)1974 1483 y Fs(it)19 b(has)f(snarfed)g(\()p
Fi(p.name)p Fs(\),)f(and)h(hence)f(we)i(e)o(xpect)e(the)h(assertion)
1974 1583 y(to)i(be)g(satis\002ed.)1974 1824 y Fq(4.2.2)81
b(Err)o(or)20 b(Detection)1974 2003 y Fs(Running)h(the)k(S)t
Ft(P)t(I)t(N)h Fs(model)21 b(check)o(er)h(on)g(the)h(modi\002ed)e
(program)1974 2103 y(yields)i(an)g(error)g(trace)g(illustrating)g(that)
g(the)h(assertion)f(is)h(not)f(al-)1974 2203 y(w)o(ays)h(satis\002ed.)
37 b(The)24 b(trace)g(\(shortened\))e(describes)h(the)h(follo)n(w-)1974
2302 y(ing)c(sequence)f(of)h(e)n(v)o(ents:)2036 2492
y(1.)41 b(A)j(task)h(starts,)50 b(running)42 b(process)h
Fi(Achieving)p 3720 2492 25 4 v 28 w(Task)2140 2591 y
Fs(in)36 b(Figure)f(27.)73 b(This)36 b(implies)g(a)g(call)h(of)f(the)g
(procedure)2140 2691 y Fi(execute)p 2495 2691 V 28 w(task)p
Fs(,)20 b(de\002ned)f(in)i(Figure)e(17.)2036 2850 y(2.)41
b(The)62 b(procedure)f Fi(execute)p 3083 2850 V 28 w(task)i
Fs(does)f(the)h(snarf-)2140 2950 y(ing,)75 b(the)64 b(achie)n(ving,)74
b(the)64 b(closure)g(call,)76 b(and)64 b(then)2140 3050
y(e)o(x)o(ecutes)70 b(the)g Fi(active)p 2972 3050 V 29
w(tasks[this].state)47 b(=)2140 3149 y(TERMINATED)24
b Fs(statement,)i(ready)e(to)h(release)h(its)g(lock)f(by)2140
3249 y(calling)20 b(the)g Fi(release)p 2864 3249 V 28
w(lock)g Fs(procedure.)2036 3408 y(3.)41 b(At)23 b(this)h(point,)e
(just)h(before)f(the)g(call)i(of)e Fi(release)p 3699
3408 V 29 w(lock)p Fs(,)2140 3508 y(the)j Fi(Environment)p
Fs(,)g(de\002ned)f(in)h(Figure)g(23,)h(introduces)2140
3608 y(an)20 b(inconsistenc)o(y)e(in)h(the)h(database)f(such)h(that)g
(the)f(property)2140 3707 y(v)n(alue)26 b(of)h(property)e(name)h(0)h
(becomes)g(0)g(in)g(the)g(database,)2140 3807 y(while)d(it)h(is)g(e)o
(xpected)d(to)i(be)g(dif)n(ferent)f(from)g(0)h(by)f(the)h(run-)2140
3907 y(ning)19 b(task.)2036 4066 y(4.)41 b(The)17 b(Daemon,)g(Figure)h
(22,)f(detects)h(this)h(inconsistenc)o(y)d(and)2140 4166
y(aborts)24 b(the)h(task)g(in)g(the)g Fi(check)p 3126
4166 V 29 w(locks)g Fs(procedure,)e(Fig-)2140 4265 y(ure)k(21,)j(by)d
(calling)h(the)g(procedure)d Fi(interrupt)p 3720 4265
V 28 w(task)2140 4365 y Fs(de\002ned)30 b(in)i(Figure)f(19.)58
b(That)31 b(is,)k(the)c(status)h(of)f(the)h(task)2140
4464 y(becomes)19 b Fi(ABORTED)p Fs(.)2073 4654 y(The)f(w)o(ay)g(the)g
Fi(execute)p 2852 4654 V 28 w(task)g Fs(is)h(programmed,)c(this)j(abor)
n(-)1974 4754 y(tion)32 b(will)i(at)f(this)h(point)e(result)h(in)g(an)f
(e)o(xit)h(of)g(this)g(procedure,)1974 4853 y(hence)g(skipping)g
Fi(release)p 2878 4853 V 29 w(lock)p Fs(.)67 b(This)34
b(is)i(caused)d(by)h(the)1976 4953 y(P)t Ft(R)q(O)t(M)t(E)t(L)t(A)21
b Fs(semantics)c(of)h(the)f Fi(unless)h Fs(construct)e(as)i(occurring)
1974 5052 y(in)i(\(Figure)f(17\):)2064 5234 y Fg(f)p
Fh(release_lock\(this,p\))p Fg(g)42 b Fh(unless)2153
5325 y Fg(f)p Fh(active_tasks[this].state)f(==)k(ABORTED)p
Fg(g)1839 5574 y Fs(13)p eop
%%Page: 14 14
14 13 bop -83 83 a Fs(Hence,)40 b(e)n(v)o(en)c(though)f(the)h
(snar\002ng,)k(achie)n(ving,)e(and)e(clo-)-182 183 y(sure)24
b(is)h(protected)e(against)h(abortion)e(\(if)i(an)h(abort)e(occurs)h
(there,)-182 282 y Fi(release)p 173 282 25 4 v 28 w(locks)f
Fs(will)g(be)g(called)g(an)o(yw)o(ay\),)f(the)h(lock)f(releas-)-182
382 y(ing)h(itself)i(is)f(not)g(protected:)31 b(if)24
b(an)g(abort)f(occurs)g(here,)h(the)g(lock)-182 482 y(releasing)j(is)h
(abandoned.)45 b(This)28 b(re\003ects)g(the)g(semantics)f(of)h(the)-182
581 y(applied)19 b(E)t Ft(S)t(L)h Fs(construct)e(of)g(the)g(form)f
(\223)p Fi(Protect)49 b(P)g(Exit)h(Q)-182 681 y(End)p
Fs(\224)22 b(e)o(x)o(ecuting)e Fi(P)j Fs(and)f(then)g
Fi(Q)h Fs(\(the)f(lock)g(releasing\),)f(with)i(the)-182
780 y(addition,)h(that)h(if)h(an)f(abort)f(occurs)g(during)f(the)i(e)o
(x)o(ecution)e(of)i Fi(P)p Fs(,)-182 880 y(the)c(remainder)f(of)h
Fi(P)h Fs(is)g(skipped,)e(and)h Fi(Q)h Fs(gets)g(e)o(x)o(ecuted.)27
b(Hence,)-182 980 y(the)21 b(idea)g(is)i(that)e Fi(Q)h
Fs(al)o(w)o(ays)g(gets)g(e)o(x)o(ecuted,)d(e)n(v)o(en)i(if)g(an)h
(abort)e(oc-)-182 1079 y(curs)i(during)e(the)i(e)o(x)o(ecution)e(of)i
Fi(P)p Fs(.)h(The)f(une)o(xpected)d(situation)j(is)-182
1179 y(that)i(an)f(abort)g(can)h(occur)f(during)f(the)i(e)o(x)o
(ecution)d(of)j Fi(Q)p Fs(,)g(with)g(the)-182 1279 y(result)c(that)g
(the)g(rest)h(of)f Fi(Q)g Fs(will)h(not)f(be)g(e)o(x)o(ecuted.)-182
1532 y Fq(4.2.3)81 b(Err)o(or)19 b(Corr)o(ection)-182
1720 y Fs(The)i(identi\002ed)f(error)h(can)g(be)g(corrected)f(by)h
(protecting)f(the)h(lock)-182 1820 y(releasing)30 b(itself)h(against)g
(abortion.)55 b(This)31 b(we)g(ha)n(v)o(e)g(done)e(in)i(a)-182
1920 y(modi\002ed)25 b(v)o(ersion)h(of)h(the)i(P)t Ft(R)q(O)t(M)t(E)t
(L)t(A)h Fs(model)1226 1890 y Fm(9)1262 1920 y Fs(,)f(such)d(that)h
(lock)-182 2019 y(releasing)22 b(cannot)f(be)i(aborted.)31
b(Hereafter)22 b(the)j(R)t Ft(E)t(L)t(E)t(A)t(S)t(E)g
Fs(prop-)-182 2119 y(erty)c(is)i(v)o(eri\002ed)e(correct)g(using)g(the)
j(S)t Ft(P)t(I)t(N)h Fs(model)c(check)o(er)-5 b(.)29
b(Ho)n(w)-182 2219 y(the)21 b(modi\002cation)f(is)i(done)f(in)g(the)j
(L)t Ft(I)t(S)t(P)g Fs(program)19 b(is)k(be)o(yond)c(the)-182
2318 y(scope)g(of)h(the)h(present)e(paper)-5 b(.)-182
2558 y Fp(4.3)90 b(Err)n(or)21 b Fr(2)i Fp(\226)f(The)i
Fs(A)t Ft(B)t(O)t(RT)i Fp(Pr)n(operty)-83 2798 y Fs(As)17
b(already)e(mentioned,)f(three)i(v)o(eri\002cations)e(of)i(this)g
(property)-182 2897 y(were)24 b(performed,)e(each)i(demonstrating)e(an)
j(error)e(in)h(the)h(model)-182 2997 y(causing)17 b(the)h(f)o
(alsi\002cation)h(of)f(the)g(property)-5 b(.)22 b(W)-7
b(e)19 b(will)g(present)f(the)-182 3097 y(\002rst)j(v)o(eri\002cation)d
(in)j(this)f(section.)-180 3229 y(A)t Ft(B)t(O)t(RT)33
b Fs(Property:)44 b Fu(If)31 b(an)e(inconsistency)h(occur)o(s)g
(between)g(the)-182 3329 y(database)22 b(and)i(an)g(entry)h(in)f(the)h
(loc)n(k)f(table)o(,)h(then)f(all)h(tasks)g(that)-182
3428 y(r)m(ely)e(on)f(the)h(loc)n(k)g(will)g(be)g(terminated,)f(either)
h(by)g(themselves)g(or)-182 3528 y(by)d(the)g(daemon)f(in)h(terms)h(of)
f(an)g(abort.)-182 3781 y Fq(4.3.1)81 b(F)n(ormalizing)19
b(The)i(Pr)o(operty)-182 3970 y Fs(Our)26 b(v)o(eri\002cation)e(will)j
(be)g(concrete)e(in)h(that)g(we)h(shall)g(focus)e(on)-182
4069 y(task)17 b(1.)24 b(W)-7 b(e)18 b(shall)f(state,)h(that)f(if)g
(task)g(1)g(has)g(snarfed)f(and)h(achie)n(v)o(ed)-182
4169 y(property)j(name)i(0,)i(assuming)e(it)h(to)g(denote)f(property)f
(v)n(alue)h(1)h(in)-182 4269 y(the)30 b(database)g(\(as)g(stated)h(in)f
(Figure)g(18\))f(then)h(if)h(this)g(assump-)-182 4368
y(tion)16 b(is)i(brok)o(en)d(by)h(the)h(en)m(vironment,)d(task)j(1)g
(will)h(be)f(terminated.)-182 4468 y(First)h(of)f(all,)h(we)f(formally)
f(de\002ne)h(what)g(it)h(means)f(for)f(task)i(1')-5 b(s)18
b(as-)-182 4567 y(sumption)24 b(to)h(be)g(brok)o(en,)g(and)g(what)g(it)
h(means)f(for)g(task)g(1)h(to)f(be)-182 4667 y(terminated.)e(Figure)d
(28)f(sho)n(ws)i(tw)o(o)f(such)g(predicates.)-83 4799
y(The)g(predicate)f Fi(task1)p 647 4799 V 29 w(property)p
1076 4799 V 28 w(broken)-182 4899 y Fs(returns)30 b Fn(tr)r(ue)h
Fs(in)g(case)g(of)f(an)h(inconsistenc)o(y)e(between)h
Fi(locks)-182 4999 y Fs(\(mapping)37 b(0)i(to)g(1\))g(and)f
Fi(db)i Fs(\(mapping)d(0)i(to)g(0\))g(in)g(a)h(situa-)-182
5098 y(tion)g(where)f(the)h(task)h(assumes)f(the)h(property)d(to)i(ha)n
(v)o(e)g(been)p -182 5169 788 4 v -97 5223 a Fk(9)-63
5246 y Ft(Basically)25 b(by)c(remo)o(ving)i(the)g Ff(unless)d
Ft(construct)k(attached)g(to)e(the)h(call)g(of)-182 5325
y Ff(release)p 102 5325 20 4 v 22 w(lock)p Ft(.)p 1974
86 1968 4 v 1972 751 4 665 v 2024 169 a Ff(#define)38
b(task1_property_broken)2103 247 y(\(locks[0].value)g(==)i(1)f(&)2143
326 y(locks[0].achieved)f(&)2143 405 y(db[0])h(==)h(0\))2024
563 y(#define)e(task1_terminated)2103 642 y(\(active_tasks[1].state)f
(==)i(TERMINATED)g(||)2143 721 y(active_tasks[1].state)e(==)i
(ABORTED\))p 3938 751 V 1974 754 1968 4 v 2405 987 a
Fo(Figure)22 b(28.)k Fs(A)t Ft(B)t(O)t(RT)g Fo(predicates)1974
1255 y Fs(achie)n(v)o(ed.)77 b(The)38 b(predicate)f Fi(task1)p
3132 1255 25 4 v 29 w(terminated)g Fs(is)i Fn(tr)r(ue)1974
1354 y Fs(when)24 b(the)h(state)g(of)g(task)g(1)g(is)g(either)g
Fi(TERMINATED)p Fs(,)e(set)i(by)g(it-)1974 1454 y(self,)k(or)d
Fi(ABORTED)p Fs(,)g(set)i(by)e(the)h(daemon.)43 b(The)29
b(A)t Ft(B)t(O)t(RT)h Fs(prop-)1974 1553 y(erty)37 b(can)g(no)n(w)f(be)
h(stated)h(as)g(an)h(L)m Ft(T)t(L)g Fs(formula)d(as)i(sho)n(wn)e(in)
1974 1653 y(Figure)28 b(29.)51 b(The)28 b(property)f(states)j(that)f
Fu(\223in)g(all)g(states)h(\()p Fi([])p Fu(\),)g(if)1974
1753 y Fi(task1)p 2229 1753 V 29 w(property)p 2658 1753
V 28 w(broken)25 b Fu(holds,)g(then)f(e)o(ventually)g(\()p
Fi(<>)p Fu(\),)1974 1852 y(at)33 b(some)g(futur)m(e)g(point)f(in)i
(time)o(,)i Fi(task1)p 3262 1852 V 29 w(terminated)c
Fu(will)1974 1952 y(hold\224)p Fs(.)p 1974 2140 1968
4 v 1972 2252 4 113 v 2024 2222 a Ff([]\(task1_property_broken)k(->)j
(<>task1_terminated\))p 3938 2252 V 1974 2255 1968 4
v 2112 2482 a Fo(Figure)23 b(29.)g(Formalization)f(of)i
Fs(A)t Ft(B)t(O)t(RT)i Fo(pr)n(oper)r(ty)2073 2699 y
Fs(It')-5 b(s)30 b(rele)n(v)n(ant)e(here)g(to)h(note)f(that)h(this)h
(property)c(only)i(mak)o(es)1974 2798 y(sense)h(to)f(v)o(erify)f(if)i
(task)g(1)f(has)h(the)f(potential)g(of)g(not)g(terminat-)1974
2898 y(ing)g(at)h(all)g(in)g(case)g(it')-5 b(s)30 b(not)e(aborted.)48
b(This)29 b(is)h(the)e(reason)g(why)1974 2998 y(the)35
b(closure)f(is)i(de\002ned)e(as)h(in)h(Figure)e(15.)69
b(The)34 b(closure)g(can)1974 3097 y(arbitrarily)27 b(choose)h(the)g
Fi(true)49 b(->)h(false)28 b Fs(branch)f(whereby)1974
3197 y(it)j(will)g(hang)e(on)h(the)g Fi(false)g Fs(e)o(xpression)f
(without)g(being)g(able)1974 3297 y(to)i(progress)f(according)g(to)h
(the)g(semantics)h(of)h(P)t Ft(R)q(O)t(M)t(E)t(L)t(A)r
Fs(.)56 b(Of)1974 3396 y(course,)32 b(in)f(the)f(real)j(L)t
Ft(I)t(S)t(P)g Fs(program)c(a)i(task)f(will)i(probably)c(al-)1974
3496 y(w)o(ays)18 b(terminate,)g(and)f(we)i(are)f(therefore)f(really)g
(interested)h(in)g(the)1974 3595 y(task)e(being)g(terminated)f(within)h
(a)g(certain)g(time)g(frame.)23 b(Ho)n(we)n(v)o(er)m(,)1974
3695 y(since)k(P)t Ft(R)q(O)t(M)t(E)t(L)t(A)i Fs(cannot)24
b(deal)h(e)o(xplicitly)f(with)h(time,)h(we)g(ha)n(v)o(e)1974
3795 y(chosen)17 b(only)h(to)g(focus)g(on)g(the)h(distinction)e
(between)h(termination)1974 3894 y(\(at)i(some)g(future)f
(unspeci\002ed)g(time\))h(and)g(non-termination.)1974
4151 y Fq(4.3.2)81 b(Err)o(or)20 b(Detection)1974 4342
y Fs(Applying)32 b(the)k(S)t Ft(P)t(I)t(N)h Fs(model)c(check)o(er)g(to)
h(the)g(abo)o(v)o(e)e(property)1974 4441 y(yields)22
b(an)g(error)f(trace)h(demonstrating,)e(that)i(the)g(property)e(is)j
(not)1974 4541 y(satis\002ed)30 b(in)g(the)g(model.)53
b(The)29 b(trace)h(illustrates)g(the)g(follo)n(wing)1974
4641 y(sequence)19 b(of)h(e)n(v)o(ents.)2036 4859 y(1.)41
b(The)28 b(daemon,)i(Figure)e(22,)i(starts)g(and)f(reaches)f(a)h(w)o
(aiting)2140 4958 y(position.)34 b(That)23 b(is,)i(it)f(calls)g
Fi(wait)p 3192 4958 25 4 v 29 w(for)p 3371 4958 V 29
w(events)p Fs(,)g(where)2140 5058 y(after)c(it)h(w)o(aits)g(for)e(an)i
(e)n(v)o(ent)e(to)h(occur)-5 b(.)2036 5225 y(2.)41 b(A)e(task,)k
(Figure)38 b(18,)k(starts;)49 b(snarfs)38 b(and)g(achie)n(v)o(es)f
(suc-)2140 5325 y(cessfully)-5 b(,)68 b(thereby)58 b(signaling)g
Fi(SNARF)p 3448 5325 V 29 w(EVENT)h Fs(from)1839 5574
y(14)p eop
%%Page: 15 15
15 14 bop -16 83 a Fi(snarf)p 239 83 25 4 v 29 w(property)p
668 83 V 28 w(lock)p Fs(,)23 b(Figure)f(11,)g(and)g(then)g(starts)-16
183 y(e)o(x)o(ecuting)g(its)k(closure.)39 b(This)25 b(closure)f
(chooses)g(the)h Fi(true)-16 282 y(->)49 b(false)26 b
Fs(branch.)43 b(Hence)26 b(if)h(it)h(is)f(not)g(aborted)e(it)i(will)-16
382 y(ne)n(v)o(er)j(terminate)g(\(corresponding)e(to)j(a)h(time)g
(consuming)-16 482 y(computation)18 b(in)i(a)g(real)h(setting\).)-120
659 y(3.)41 b(The)17 b(daemon)f(has)i(been)e(w)o(ok)o(en)h(up)g(by)h
(the)f(signaling)g(of)g(the)-16 758 y Fi(SNARF)p 239
758 V 29 w(EVENT)p Fs(.)g(No)h(inconsistencies)g(are)g(found,)e(and)i
(the)-16 858 y(daemon)28 b(then)h(decides)g(to)g(w)o(ait)i(again.)52
b(That)29 b(is,)j(it)f(tak)o(es)-16 958 y(the)22 b(decision)f(to)h
(call)h Fi(wait)p 842 958 V 29 w(for)p 1021 958 V 29
w(events)p Fs(,)f(b)n(ut)g(delays)f(a)-16 1057 y(bit)g(before)e(doing)h
(it.)27 b(Note)21 b(the)g(delay)f(between)g(\223decision\224)-16
1157 y(and)h(\223action\224)g(here.)28 b(The)21 b(decision)g(to)h(w)o
(ait)g(is)h(tak)o(en)e(in)h(the)-14 1257 y(P)t Ft(R)q(O)t(M)t(E)t(L)t
(A)e Fs(model)15 b(in)i(Figure)f(22)h(at)g(the)g(last)g
Fi(else)g Fs(branch.)-120 1434 y(4.)41 b(The)30 b(en)m(vironment,)g
(Figure)g(23,)i(introduces)d(an)i(inconsis-)-16 1534
y(tenc)o(y)-5 b(,)18 b(and)h(signals)h(the)g Fi(MEMORY)p
1016 1534 V 29 w(EVENT)p Fs(.)f(Ho)n(we)n(v)o(er)m(,)e(this)-16
1633 y(signal)26 b(will)h(not)f(af)n(fect)f(the)i(daemon)d(since)j(it)g
(already)e Fu(has)-16 1733 y Fs(decided)30 b(to)h(call)h
Fi(wait)p 727 1733 V 29 w(for)p 906 1733 V 29 w(events)p
Fs(.)58 b(It)32 b(will)g(for)f(e)o(x-)-16 1832 y(ample)19
b(not)g(check)g(whether)g(the)h(e)n(v)o(ent)f(counters)f(ha)n(v)o(e)i
(been)-16 1932 y(updated.)-120 2109 y(5.)41 b(The)22
b(daemon)f(no)n(w)h(calls)h Fi(wait)p 966 2109 V 29 w(for)p
1145 2109 V 29 w(events)f Fs(uncondi-)-16 2209 y(tionally)-5
b(,)16 b(and)g(hence,)g(starts)i(w)o(aiting.)23 b(The)16
b(task)h(hence)f(does)-16 2309 y(not)k(get)g(aborted,)f(and)h
(continues)f(with)i(its)g(\223big\224)f(computa-)-16
2408 y(tion.)-182 2687 y Fq(4.3.3)81 b(Err)o(or)19 b(Corr)o(ection)-182
2889 y Fs(A)31 b(solution)f(to)h(the)f(detected)g(problem)f(is)j(to)f
(embed)f(the)g(deci-)-182 2989 y(sion)18 b(to)h(w)o(ait)g(and)f(the)h
(w)o(aiting)f(itself)h(into)g(a)g(critical)f(section,)h(that)-182
3089 y(cannot)f(be)i(interrupted)e(by)h(other)g(processes.)25
b(In)c(P)t Ft(R)q(O)t(M)t(E)t(L)t(A)r Fs(,)g(the)-182
3188 y Fi(atomic)j Fs(construct)g(can)g(be)h(used)g(to)g(de\002ne)f(a)h
(critical)g(section,)-182 3288 y(and)g(Figure)g(30)g(sho)n(ws)h(ho)n(w)
f(the)h Fi(Daemon)f Fs(has)h(been)f(e)o(xtended)-182
3387 y(with)20 b(such)g(a)g(critical)h(section)f(around)e(the)i(code)g
(portion)e(that)i(de-)-182 3487 y(cides)g(whether)f(to)h(w)o(ait)h(or)f
(not)g(\(the)g(last)h(if\226statement\).)-83 3631 y(Reapplying)15
b(the)j(S)t Ft(P)t(I)t(N)h Fs(model)d(check)o(er)f(to)h(v)o(erify)f
(the)j(A)t Ft(B)t(O)t(RT)-182 3731 y Fs(property)27 b(formulated)f(in)k
(Figure)e(29)h(for)f(the)h(modi\002ed)f(model,)-182 3830
y(ho)n(we)n(v)o(er)m(,)22 b(sho)n(ws)h(that)h(there)f(is)i(still)g(an)f
(error)e(in)i(the)g(system,)g(as)-182 3930 y(described)18
b(in)j(the)f(ne)o(xt)g(section.)-182 4188 y Fp(4.4)90
b(Err)n(or)21 b Fr(3)i Fp(\226)f(The)i Fs(A)t Ft(B)t(O)t(RT)i
Fp(Pr)n(operty)-83 4446 y Fs(W)m(ith)h(the)f(corrected)f(model,)h(we)h
(re-apply)d(the)k(S)t Ft(P)t(I)t(N)i Fs(model)-182 4545
y(check)o(er)21 b(to)i(the)g(same)g(property)-5 b(,)20
b(hoping)h(that)i(it)g(no)n(w)f(holds.)32 b(As)-182 4645
y(already)19 b(mentioned)f(and)h(as)i(will)g(be)f(demonstrated,)e(it)j
(still)g(does)-182 4744 y(not)e(hold.)-182 5023 y Fq(4.4.1)81
b(F)n(ormalizing)19 b(The)i(Pr)o(operty)-182 5225 y Fs(The)d(property)e
(to)j(be)f(v)o(eri\002ed)g(is)i(as)f(before,)e(namely)h(the)g(one)g
(pic-)-182 5325 y(tured)h(in)h(Figure)g(29.)p 1974 86
1968 4 v 1972 1697 4 1611 v 2024 169 a Ff(proctype)38
b(Daemon\(TaskId)g(this\))h Fe(f)2103 247 y Ff(...)2143
405 y(atomic)p Fe(f)79 b Ff(--)40 b(added)2223 484 y(if)2223
563 y(::)f(\(!first_time)g(&&)2382 642 y(Ev[MEMORY_EVENT].count)e(+)
2382 721 y(Ev[SNARF_EVENT].count)g(!=)j(event_count)e(\))2462
800 y(->)2462 878 y(event_count)g(=)2542 957 y(Ev[MEMORY_EVENT].count)e
(+)2542 1036 y(Ev[SNARF_EVENT].count)2223 1115 y(::)j(else)h(->)2382
1194 y(first_time)f(=)g(false;)2382 1273 y(wait_for_events\(this,)2462
1352 y(MEMORY_EVENT,SNARF_EVENT\))2223 1430 y(fi)2143
1509 y Fe(g)2103 1588 y Ff(...)2024 1667 y Fe(g)p Ff(;)p
3938 1697 V 1974 1700 1968 4 v 2505 1933 a Fo(Figure)23
b(30.)g(Ne)o(w)g Fi(Daemon)1974 2213 y Fq(4.4.2)81 b(Err)o(or)20
b(Detection)1974 2434 y Fs(Applying)37 b(the)42 b(S)t
Ft(P)t(I)t(N)h Fs(model)38 b(check)o(er)g(yields)i(an)f(error)f(trace)
1974 2534 y(demonstrating,)48 b(that)c(the)h(property)d(is)j(not)f
(satis\002ed)i(in)e(the)1974 2633 y(model.)84 b(The)40
b(trace)g(illustrates)h(the)g(follo)n(wing)d(sequence)h(of)1974
2733 y(e)n(v)o(ents.)2036 2994 y(1.)i(The)28 b(daemon,)i(Figure)e(30,)i
(starts)g(and)f(reaches)f(a)h(w)o(aiting)2140 3094 y(position.)34
b(That)23 b(is,)i(it)f(calls)g Fi(wait)p 3192 3094 25
4 v 29 w(for)p 3371 3094 V 29 w(events)p Fs(,)g(where)2140
3193 y(after)c(it)h(w)o(aits)g(for)e(an)i(e)n(v)o(ent)e(to)h(occur)-5
b(.)2036 3386 y(2.)41 b(A)e(task,)k(Figure)38 b(18,)k(starts;)49
b(snarfs)38 b(and)g(achie)n(v)o(es)f(suc-)2140 3485 y(cessfully)-5
b(,)68 b(thereby)58 b(signaling)g Fi(SNARF)p 3448 3485
V 29 w(EVENT)h Fs(from)2140 3585 y Fi(snarf)p 2395 3585
V 29 w(property)p 2824 3585 V 28 w(lock)p Fs(,)23 b(Figure)f(11,)g(and)
g(then)g(starts)2140 3684 y(e)o(x)o(ecuting)h(its)j(closure.)38
b(This)25 b(closure)f(chooses)g(the)h Fi(true)2140 3784
y(->)49 b(false)27 b Fs(branch.)42 b(Hence)27 b(if)g(it)g(is)h(not)e
(aborted)f(it)i(will)2140 3884 y(ne)n(v)o(er)j(terminate)h
(\(corresponding)c(to)32 b(a)g(time)f(consuming)2140
3983 y(computation)18 b(in)i(a)h(real)f(setting\).)2036
4175 y(3.)41 b(The)52 b(daemon,)60 b(Figure)52 b(30,)60
b(has)53 b(been)f(a)o(w)o(ak)o(ened)g(by)2140 4275 y(the)67
b(signaling)f(of)h(the)g Fi(SNARF)p 3242 4275 V 29 w(EVENT)p
Fs(,)f(and)g(calls)2140 4375 y Fi(check)p 2395 4375 V
29 w(locks)2669 4344 y Fm(10)2738 4375 y Fs(,)38 b(Figure)c(21.)66
b(No)n(w)35 b Fi(check)p 3670 4375 V 29 w(locks)2140
4474 y Fs(consists)29 b(of)f(tw)o(o)g(loops,)i(one)e(e)o(x)o(ecuted)e
(before)h(the)i(other)-5 b(.)2140 4574 y(The)23 b(\002rst)g(loop)f
(looks)h(for)f(violations)g(and)h(interrupts)f(tasks)2140
4673 y(depending)14 b(on)i(violated)f(properties.)22
b(The)17 b(second)e(loop)h(just)2140 4773 y(checks)34
b(for)g(violations)g(\(and)f(does)i Fu(not)f Fs(interrupt)f(tasks\).)
2140 4873 y(Hence,)c(the)f(daemon)e(e)o(x)o(ecutes)h(the)h(\002rst)h
(loop)e(\226)h(\002nds)g(no)2140 4972 y(violation)15
b(\226)h(and)g(then)g(is)h(no)n(w)f Fu(r)m(eady)g Fs(for)f(e)o(x)o
(ecuting)g(the)h(sec-)2140 5072 y(ond)j(loop.)p 1974
5169 788 4 v 2028 5223 a Fk(10)2093 5246 y Ft(In)24 b(f)o(act,)j
Ff(check)p 2517 5246 20 4 v 23 w(locks)22 b Ft(is)i(called)i(twice,)g
(see)f(section)g(4.6,)g(and)f(it')l(s)g(the)1974 5325
y(second)18 b(\226)f(and)g(last)h(\226)f(call)h(which)g(is)f(referred)i
(to.)1839 5574 y Fs(15)p eop
%%Page: 16 16
16 15 bop -120 83 a Fs(4.)41 b(The)30 b(en)m(vironment,)g(Figure)g(23,)
i(introduces)d(an)i(inconsis-)-16 183 y(tenc)o(y)-5 b(,)21
b(and)h(signals)h(the)g Fi(MEMORY)p 1028 183 25 4 v 29
w(EVENT)p Fs(.)f(Ho)n(we)n(v)o(er)m(,)f(the)-16 282 y(daemon)k(is)i
(already)f(running.)42 b(Hence,)27 b(the)g(only)f(ef)n(fect)g(is)-16
382 y(that)20 b(the)g Fi(MEMORY)p 556 382 V 29 w(EVENT)g
Fs(counter)e(is)k(increased.)-120 534 y(5.)41 b(The)61
b(daemon)g(no)n(w)g(e)o(x)o(ecutes)g(the)h(second)f(loop)g(of)-16
634 y Fi(check)p 239 634 V 29 w(locks)p Fs(,)16 b(and)f(\002nds)h(the)f
(violation.)23 b(Hence,)16 b(it)g(calls)-16 733 y Fi(do)p
89 733 V 29 w(automatic)p 568 733 V 28 w(recovery)p Fs(,)28
b(which)e(repairs)h(the)g(vio-)-16 833 y(lation)20 b(by)f(updating)g
(the)h(database.)-120 985 y(6.)41 b(Due)28 b(to)h(the)f(signaling)g(of)
g(the)h Fi(MEMORY)p 1243 985 V 29 w(EVENT)f Fs(in)h(item)-16
1084 y Fr(4)34 b Fs(by)f(the)i(en)m(vironment,)f(the)g
Fi(MEMORY)p 1230 1084 V 29 w(EVENT)f Fs(counter)-16 1184
y(has)i(been)f(increased,)k(and)d(hence)f(the)h(daemon)f(will)i(e)o(x-)
-16 1284 y(ecute)47 b Fi(check)p 462 1284 V 29 w(locks)h
Fs(again.)108 b(Ho)n(we)n(v)o(er)m(,)53 b(since)48 b(the)-16
1383 y(violation)f(has)h(been)f(repaired,)54 b(the)48
b(daemon)e(will)j(not)-16 1483 y(\002nd)37 b(an)o(ything)e(wrong,)40
b(and)d(will)i(therefore)c(\002nally)i(call)-16 1583
y Fi(wait)p 189 1583 V 29 w(for)p 368 1583 V 29 w(events)21
b Fs(and)h(then)f(w)o(ait)i(for)e(a)h(ne)n(w)g(e)n(v)o(ent)f(to)-16
1682 y(occur)-5 b(.)59 b(The)32 b(task)g(is)h(still)h(e)o(x)o(ecuting,)
e(and)g(has)g(not)g(been)-16 1782 y(aborted.)-182 2009
y Fq(4.4.3)81 b(Err)o(or)19 b(Corr)o(ection)-182 2176
y Fs(At)d(the)g(time)h(when)e(this)i(error)e(trace)h(w)o(as)h
(generated,)e(we)h(belie)n(v)o(ed)-182 2276 y(that)23
b(it)i(w)o(as)f(in)g(f)o(act)g(an)g(intended)e(beha)n(vior)m(,)g(and)h
(only)g(later)h(w)o(as)-182 2376 y(it)g(con\002rmed)d(to)j(be)f(an)g
(une)o(xpected)e(and)h(undesired)g(beha)n(vior)g(\226)-182
2475 y(an)28 b(error)-5 b(.)50 b(Hence,)30 b(we)f(did)f(not)g(correct)g
(it;)33 b(and)c(e)n(v)o(en)e(with)i(the)-182 2575 y(kno)n(wledge)17
b(we)j(ha)n(v)o(e)f(no)n(w)-5 b(,)18 b(it)j(is)f(not)f(e)n(vident)g
(for)g(us)h(ho)n(w)f(to)g(cor)n(-)-182 2675 y(rect)h(this.)-182
2880 y Fp(4.5)90 b(Err)n(or)21 b Fr(4)i Fp(\226)f(The)i
Fs(A)t Ft(B)t(O)t(RT)i Fp(Pr)n(operty)-182 3086 y Fq(4.5.1)81
b(F)n(ormalizing)19 b(The)i(Pr)o(operty)-182 3254 y Fs(Since)31
b(we)h(originally)e(did)i(not)f(re)o(gard)e(the)j(abo)o(v)o(e)e
(situation)h(as)-182 3353 y(an)21 b(error)m(,)g(we)h(continued)e(the)i
(v)o(eri\002cation)e(as)j(if)f(it)h(w)o(as)g(a)f(correct)-182
3453 y(beha)n(vior)-5 b(.)23 b(That)17 b(is,)i(in)f(order)f(to)h(in)m
(v)o(estigate)f(the)g(e)o(xistence)h(of)f(ad-)-182 3552
y(ditional)23 b(errors,)g(we)h(had)g(to)g(reformulate)d(the)26
b(A)t Ft(B)t(O)t(RT)h Fs(property)-182 3652 y(such)e(that)g(the)h(abo)o
(v)o(e)e(situation)h(w)o(as)h(allo)n(wed)1224 3622 y
Fm(11)1293 3652 y Fs(.)42 b(Hence,)26 b(since)-182 3752
y(the)37 b(model)f(may)h(repair)f(an)h(inconsistenc)o(y)e(without)i
(aborting)-182 3851 y(tasks,)19 b(the)h(property)d(shall)j(state)g
(this:)25 b(in)19 b(case)h(of)f(a)h(brok)o(en)e(prop-)-182
3951 y(erty)-5 b(,)24 b(then)f(either)h(this)g(is)h(repaired)e(by)h
(the)g(daemon,)f(or)h(the)g(task)-182 4051 y(is)c(terminated)e(\(by)h
(itself)h(or)f(the)h(daemon\).)i(F)o(or)e(this)g(purpose)e(we)-182
4150 y(introduce)f(the)i(predicate)f Fi(task1)p 851 4150
V 29 w(property)p 1280 4150 V 29 w(repaired)g Fs(in)-182
4250 y(Figure)25 b(31.)41 b(This)25 b(predicate)g(returns)g
Fn(tr)r(ue)h Fs(if)g(the)f(database)g(and)-182 4350 y(the)19
b(lock)h(table)f(match)g(wrt.)25 b(to)20 b(property)e(name)h(0)g
(\(recall)h(that)g(we)-182 4449 y(ha)n(v)o(e)f(focused)g(on)h(task)g(1)
h(that)f(snarfs)g(property)e(name)i(0\).)-83 4561 y(The)48
b(ne)n(w)f(correctness)g(property)e(using)i(this)i(ne)n(w)e(pred-)-182
4661 y(icate)59 b(is)h(sho)n(wn)f(in)g(Figure)g(32.)142
b(The)59 b(property)e(states)-182 4760 y(that)73 b Fu(\223in)h(all)g
(states,)87 b(if)74 b Fi(task1)p 1035 4760 V 29 w(property)p
1464 4760 V 28 w(broken)-182 4860 y Fu(holds,)52 b(then)45
b(e)o(ventually)g(either)i Fi(task1)p 1144 4860 V 29
w(terminated)e Fu(or)-182 4959 y Fi(task1)p 73 4959 V
29 w(property)p 502 4959 V 28 w(repaired)19 b Fu(will)j(hold\224)p
Fs(.)p -182 5011 788 4 v -128 5065 a Fk(11)-63 5088 y
Ft(Ev)o(en,)f(when)g(it)f(later)i(w)o(as)f(con\002rmed)g(as)f(an)h
(error)m(,)g(we)f(did)h(not)g(kno)n(w)g(ho)n(w)-182 5167
y(to)d(correct)i(it,)e(and)h(hence)h(a)e(reformulation)j(of)d(the)h
(property)g(w)o(as)g(still)g(needed)h(in)-182 5246 y(order)e(to)g(a)o
(v)o(oid)h(the)f(repair)i(situation)g(to)e(be)g(identi\002ed)j(by)d
(the)g(model)h(check)o(er)h(as)-182 5325 y(an)d(error)l(.)p
1974 86 1968 4 v 1972 277 4 191 v 2024 169 a Ff(#define)38
b(task1_property_repaired)2103 247 y(locks[0].value)g(==)i(db[0])p
3938 277 V 1974 281 1968 4 v 2428 514 a Fo(Figure)22
b(31.)k Fs(A)t Ft(B)t(O)t(RT)g Fo(predicate)p 1974 710
V 1972 980 4 270 v 2024 792 a Ff([]\(task1_property_broken)36
b(->)2103 871 y(<>\(task1_terminated)h(||)2223 950 y
(task1_property_repaired\)\))p 3938 980 V 1974 983 1968
4 v 2073 1218 a Fo(Figure)17 b(32.)g(Re\255f)n(ormalization)e(of)j
Fs(A)t Ft(B)t(O)t(RT)h Fo(pr)n(oper)r(ty)1974 1552 y
Fq(4.5.2)81 b(Err)o(or)20 b(Detection)1974 1730 y Fs(Applying)32
b(the)k(S)t Ft(P)t(I)t(N)h Fs(model)c(check)o(er)g(to)h(the)g(abo)o(v)o
(e)e(property)1974 1829 y(yields)22 b(an)g(error)f(trace)h
(demonstrating,)e(that)i(the)g(property)e(is)j(not)1974
1929 y(satis\002ed)30 b(in)g(the)g(model.)53 b(The)29
b(trace)h(illustrates)g(the)g(follo)n(wing)1974 2028
y(sequence)19 b(of)h(e)n(v)o(ents.)2036 2213 y(1.)41
b(T)-7 b(ask)60 b(1,)70 b(Figure)60 b(18,)69 b(starts,)i(and)59
b(e)n(v)o(entually)f(calls)2140 2313 y Fi(achieve)p 2495
2313 25 4 v 28 w(lock)p 2723 2313 V 30 w(property)p Fs(,)20
b(Figure)h(13.)28 b(This)22 b(proce-)2140 2412 y(dure)d(contains)h(the)
g(tw)o(o)g(lines:)2319 2597 y Fh(achieve\(p,err\);)2319
2688 y(locks[p.name].achieved)41 b(=)k(true)2140 2972
y Fs(That)50 b(is,)58 b(a)51 b(call)f(of)g Fi(achieve)p
Fs(,)57 b(which)50 b(updates)f(the)2140 3071 y(database,)32
b(and)d(then)h(an)g(assignment)f(to)h(the)g Fi(achieved)2140
3171 y Fs(\002eld.)41 b(In)25 b(the)h(trace,)g(the)f
Fi(achieve)g Fs(procedure)e(is)k(called,)2140 3271 y(and)e(then)g(the)g
(task)h(e)o(x)o(ecution)e(is)i(delayed,)f(hence,)h(the)g(as-)2140
3370 y(signment)19 b(to)h(the)h Fi(achieved)e Fs(\002eld)h(is)h
(delayed.)2036 3529 y(2.)41 b(At)32 b(this)g(point,)h(the)f
Fi(Environment)p Fs(,)h(Figure)d(23,)k(intro-)2140 3628
y(duces)d(an)g(inconsistenc)o(y)e(in)j(the)f(database)g(such)g(that)g
(the)2140 3728 y(property)d(v)n(alue)h(of)g(property)f(name)h(0)h
(becomes)f(0)h(in)g(the)2140 3827 y(database,)19 b(hence,)g(destro)o
(ys)h(the)g(just)h(achie)n(v)o(ed)d(property)-5 b(.)2036
3986 y(3.)41 b(The)19 b(daemon,)f(Figure)g(30,)h(a)o(w)o(ak)o(ened)f
(by)h(the)g(en)m(vironment)2140 4085 y(change)31 b(starts)i(looking)d
(for)h(an)h(inconsistenc)o(y)-5 b(,)33 b(b)n(ut)f(\002nds)2140
4185 y(none)24 b(since)i(the)g Fi(achieved)e Fs(\002eld)i(has)g(not)f
(been)g(set)h(yet,)2140 4285 y(and)i(the)h(daemon)f(requires)g(this)h
(to)g(be)g Fn(tr)r(ue)h Fs(in)f(order)f(for)2140 4384
y(an)j(inconsistenc)o(y)e(to)i(be)f(e)o(xisting,)j(see)e(the)g
(de\002nition)e(of)2140 4484 y(procedure)18 b Fi(property)p
2898 4484 V 28 w(violated)i Fs(Figure)g(20.)26 b(Hence,)2140
4583 y(the)20 b(daemon)f(disco)o(v)o(ers)g(nothing)f(and)i(goes)g(to)g
(sleep)g(again.)2036 4742 y(4.)41 b(The)59 b(task)h(from)e(abo)o(v)o(e)
g(no)n(w)h(assigns)h Fn(tr)r(ue)g Fs(to)f(the)2140 4841
y Fi(achieved)26 b Fs(\002eld,)k(and)c(continues)h(as)h(if)g(e)n(v)o
(erything)c(w)o(as)2140 4941 y(consistent.)2073 5126
y(Hence,)h(an)g(inconsistenc)o(y)e(has)h(been)g(introduced,)f(b)n(ut)i
(it)g(has)1974 5225 y(not)j(been)f(disco)o(v)o(ered)f(by)i(the)h
(daemon,)f(and)g(hence,)h(is)g(not)f(re-)1974 5325 y(paired,)19
b(neither)g(is)i(the)f(task)h(aborted.)1839 5574 y(16)p
eop
%%Page: 17 17
17 16 bop -182 83 a Fq(4.5.3)81 b(Err)o(or)19 b(Corr)o(ection)-182
261 y Fs(A)h(solution)e(to)i(the)g(problem)e(is)i(the)g(embedding)d(of)
i(the)h(tw)o(o)g(lines)-182 361 y(of)d(code)g(in)h(the)g
Fi(achieve)p 638 361 25 4 v 28 w(lock)p 866 361 V 29
w(property)f Fs(procedure)e(into)-182 461 y(a)29 b(critical)g(section,)
i(such)e(that)g(updating)f(the)h(database)f(and)h(the)-182
560 y Fi(achieved)d Fs(\002eld)h(is)h(al)o(w)o(ays)f(done)f(in)h(one)g
(indi)n(visible)f(action.)-182 660 y(F)o(or)17 b(this)i(purpose)d(we)j
(introduce)d(an)i Fi(atomic)g Fs(construct)f(around)-182
759 y(the)26 b(tw)o(o)h(lines)g(in)g(the)i(P)t Ft(R)q(O)t(M)t(E)t(L)t
(A)h Fs(model,)d(as)h(sho)n(wn)e(in)h(Figure)-182 859
y(33.)p -182 1039 1968 4 v -184 2176 4 1138 v -133 1200
a Ff(inline)39 b(achieve_lock_property\(this,p,err\))c
Fe(f)-53 1279 y Ff(TaskId)k(owner;)-53 1358 y(find_owner\(p,owner\);)
-53 1437 y(if)-53 1515 y(::)h(owner)f(==)g(this)h(->)146
1594 y(atomic)p Fe(f)79 b Ff(--)40 b(added)226 1673 y
(achieve\(p,err\);)226 1752 y(locks[p.name].achieved)d(=)i(true)146
1831 y Fe(g)-53 1910 y Ff(::)h(else)f(->)146 1989 y
(wait_for_event\(this,MEMORY_EVENT,p\);)-53 2068 y(fi)-133
2146 y Fe(g)p 1781 2176 V -182 2180 1968 4 v -5 2413
a Fo(Figure)23 b(33.)g(Ne)o(w)g Fi(achieve)p 958 2413
25 4 v 28 w(lock)p 1186 2413 V 29 w(property)-83 2622
y Fs(The)29 b(S)t Ft(P)t(I)t(N)h Fs(model)d(check)o(er)f(no)n(w)h
(certi\002es)g(that)g(the)j(A)t Ft(B)t(O)t(RT)-182 2721
y Fs(property)18 b(in)i(Figure)g(32)f(is)i(satis\002ed)g(in)g(this)f
(ne)n(w)g(model.)-182 2944 y Fp(4.6)90 b(Err)n(or)21
b Fr(5)i Fp(\226)f(An)h(Ef\002ciency)e(Pr)n(oblem)-83
3167 y Fs(During)h(the)i(e)o(xamination)d(of)i(the)h(error)e(traces)i
(generated)d(by)-182 3267 y(the)e(v)o(eri\002cations)f(abo)o(v)o(e,)g
(yet)h(a)h(\002fth)f(error)f(has)i(been)e(disco)o(v)o(ered)-182
3367 y(in)26 b(the)j(L)t Ft(I)t(S)t(P)g Fs(code.)43 b(In)27
b(the)h(P)t Ft(R)q(O)t(M)t(E)t(L)t(A)i Fs(model)25 b(it)j(concerns)d
(the)-182 3466 y(process)19 b Fi(Daemon)h Fs(in)g(Figure)g(22.)-83
3589 y(It)28 b(occurs)f(that)g Fi(check)p 648 3589 V
29 w(locks)g Fs(is)i(called)e(twice)h(whene)n(v)o(er)-182
3688 y(the)f(daemon)e(has)j(hung)d(after)i(a)h(call)f(of)g
Fi(wait)p 1263 3688 V 29 w(for)p 1442 3688 V 30 w(events)p
Fs(,)-182 3788 y(and)36 b(then)h(is)h(restarted)e(after)h(a)g(signal)g
(to)g(one)g(of)g(the)g(e)n(v)o(ents)-182 3887 y(it)52
b(w)o(aits)h(for)-5 b(.)121 b(That)52 b(is,)60 b(when)52
b(one)f(of)h(these)h(e)n(v)o(ents)e(is)-182 3987 y(signaled)c(by)h(a)g
(call)h(of)f Fi(signal)p 952 3987 V 29 w(event)p Fs(,)54
b(Figure)48 b(8,)55 b(the)-182 4087 y(e)n(v)o(ent)41
b(counter)g(for)g(that)i(e)n(v)o(ent)e(is)j(incremented)c(in)i
(addition)-182 4186 y(to)f(the)h(restart)g(of)f(w)o(aiting)g(tasks.)90
b(This)42 b(means)f(that)h(when)-182 4286 y(the)i(daemon)e(has)i(e)o(x)
o(ecuted)e Fi(check)p 1018 4286 V 29 w(locks)i Fs(\(and)f(perhaps)-182
4386 y Fi(do)p -77 4386 V 29 w(automatic)p 402 4386 V
28 w(recovery)p Fs(\))19 b(once,)g(then)h(the)g(test:)-93
4565 y Fh(Ev[MEMORY_EVENT].count)41 b(+)-93 4656 y
(Ev[SNARF_EVENT].count)311 4747 y(!=)131 4839 y(event_count)-83
5026 y Fs(will)24 b(e)n(v)n(aluate)f(to)g Fn(tr)r(ue)p
Fs(,)i(and)e(hence)f(another)g(iteration)h(of)g(the)-182
5126 y(loop)h(is)j(be)o(gun,)e(re-e)o(x)o(ecuting)d Fi(check)p
1016 5126 V 29 w(locks)p Fs(.)40 b(The)26 b(RA)g(pro-)-182
5225 y(gramming)15 b(team)i(has)h(con\002rmed)d(this)j(as)g(an)g(error)
m(,)e(although)f(one)-182 5325 y(of)20 b(lo)n(w)g(priority)-5
b(.)1974 83 y Fp(4.7)90 b(A)23 b(\223Daemon\226Ready\224)c(Flag)j(P)n
(erhaps)f(Needed)2073 321 y Fs(In)f(an)g(early)g(model,)f(the)h(tasks)h
(were)f(spa)o(wned)e(without)i(w)o(ait-)1974 420 y(ing)j(for)g(the)h
(daemon)e(to)i(initialize)g(itself.)36 b(That)23 b(lead)h(to)f(the)h
(dis-)1974 520 y(co)o(v)o(ery)19 b(of)i(an)g(error)f(by)h(the)g(model)f
(check)o(er)-5 b(.)28 b(The)20 b(error)h(w)o(as)h(ba-)1974
619 y(sically)h(that)f(a)h(lock)f(violation)f(could)h(occur)f(before)g
(the)i(daemon)1974 719 y(got)30 b(to)g(its)h(initial)f(w)o(aiting)g
(point,)h(which)f(the)g(\002rst)h(time)f(is)h(un-)1974
819 y(conditional!;)e(and)d(hence)h(the)g(daemon)f(w)o(ould)g(just)i
(ignore)e(the)1974 918 y(violation)c(and)g(call)i Fi(wait)p
2785 918 V 29 w(for)p 2964 918 V 29 w(events)p Fs(.)33
b(This)23 b(w)o(as)h(not)f(con-)1974 1018 y(sidered)i(an)h(error)m(,)f
(because)g(the)h(daemon)e(will)i(al)o(w)o(ays)g(start)h(be-)1974
1118 y(fore)18 b(e)n(v)o(erything)e(else.)26 b(Ho)n(we)n(v)o(er)m(,)17
b(the)i(follo)n(wing)e(response)h(from)1974 1217 y(Erann)23
b(Gat)j(sho)n(ws)f(that)f(a)i(change)d(to)i(the)i(L)t
Ft(I)t(S)t(P)g Fs(program)c(could)1974 1317 y(be)d(needed.)2140
1528 y(This)39 b(w)o(ould)f(be)g(a)h(problem)e(if)i(the)g(daemon)e
(were)2140 1627 y(started)j(late.)85 b(Ho)n(we)n(v)o(er)m(,)42
b(I)f(don')o(t)d(think)h(this)i(is)g(a)2140 1727 y(problem)25
b(in)h(practice)g(because)g(all)h(the)f(daemons)f(are)2140
1827 y(started)32 b(long)f(before)g(an)o(ything)f(else)i(happens.)60
b(But)2140 1926 y(this)29 b(does)f(highlight)e(the)i(need)g(for)f(a)i
(mechanism)e(to)2140 2026 y(insure)c(that)h(all)g(the)f(daemons)f(ha)n
(v)o(e)h(reached)g(\223steady)2140 2125 y(state\224)e(before)d
(proceeding.)1974 2336 y(Hence,)23 b(we)h(don')o(t)e(consider)g(this)i
(as)g(a)g(caught)e(error)m(,)g(b)n(ut)i(we)f(re-)1974
2436 y(gard)15 b(it)j(as)f(an)g(increased)f(insight)h(gi)n(v)o(en)e(to)
i(the)g(RA)h(programming)1974 2535 y(team.)1974 2798
y Fv(5)99 b(Ev)o(aluation)25 b(by)g(the)h(RA)f(Pr)n(ogramming)g(T)-9
b(eam)2073 3044 y Fs(This)45 b(section)f(contains)g(Erann)f(Gat')-5
b(s)45 b(e)n(v)n(aluation)e(of)h(our)1974 3143 y(w)o(ork.)53
b(His)31 b(comments)d(were)i(gi)n(v)o(en)e(during)g(email)i(communi-)
1974 3243 y(cations,)18 b(which)f(were)g(not)h(originally)e(intended)g
(to)i(be)g(published.)1974 3343 y(He,)i(ho)n(we)n(v)o(er)m(,)e(later)i
(appro)o(v)o(ed)d(their)j(publication.)2073 3474 y(A)f(\002rst)f
(sub\226section)e(contains)h(his)h(responses)f(to)g(our)g(error)f(re-)
1974 3573 y(ports.)25 b(A)c(second)e(sub\226section)g(contains)h(his)g
(responses)g(to)h(three)1974 3673 y(general)15 b(questions)g(posed)g
(after)h(our)f(w)o(ork)g(had)h(been)f(terminated.)1974
3910 y Fp(5.1)90 b(The)22 b(Pr)n(ogrammer')m(s)e(Remarks)h(to)2179
4010 y(Our)i(Err)n(or)e(Reports)2073 4248 y Fs(In)f(this)g(section)g
(we)g(quote)e(Erann)h(Gat)h(on)f(his)h(remarks)f(to)h(our)1974
4347 y(error)30 b(reports.)59 b(That)31 b(is,)k(for)c(each)g(error)g
(we)h(disco)o(v)o(ered,)g(and)1974 4447 y(which)h(has)h(been)f(e)o
(xplained)e(in)j(section)f(4,)k(we)d(quote)e(his)i(re-)1974
4547 y(sponse)16 b(to)g(our)g(report)f(to)h(him.)24 b(W)-7
b(e)17 b(present)f(the)g(quotations)f(in)h(the)1974 4646
y(order)25 b(the)o(y)g(appeared)g(in)h(time,)i(although)c(this)j(in)g
(certain)e(cases)1974 4746 y(dif)n(fers)19 b(from)g(the)i(order)d(of)i
(presentation)f(in)h(section)g(4.)1974 4995 y Fq(Err)o(or)g
Fr(1)g Fs(\226)i(R)t Ft(E)t(L)t(E)t(A)t(S)t(E)g Fs(Property)d
(\(section)g(4.2\):)2073 5126 y Fu(I)38 b(think)f(this)h(is)g(a)g(r)m
(eal)f(err)l(or)-9 b(.)78 b(It)37 b(would)g(only)g(arise)h(if)g(a)1974
5225 y(task)30 b(g)o(ets)g(a)g(timer)g(interrupt)f(in)h(between)f(e)n
(xiting)h(the)f(body)g(of)1974 5325 y(the)e(unwind-pr)l(otect)e(and)h
(entering)g(the)h(critical)g(section)g(of)g(the)1839
5574 y Fs(17)p eop
%%Page: 18 18
18 17 bop -182 83 a Fu(r)m(elease-loc)n(ks,)43 b(b)n(ut)d(I)f(don')n(t)
f(know)h(of)h(any)f(r)m(eason)f(why)i(that)-182 183 y(should)15
b(not)h(happen)e(on)i(occasion.)22 b(This)17 b(is)g(a)f(particularly)f
(perni-)-182 282 y(cious)g(b)n(ug)o(.)22 b(It)16 b(arises)g(only)f
(because)g(you)f(ar)m(e)i(in)f(a)h(multi-thr)m(eaded)-182
382 y(en)m(vir)l(onment,)28 b(and)g(only)g(in)g(very)h(obscur)m(e)e
(cir)m(cumstances)h(that)-182 482 y(ar)m(e)d(very)g(unlik)o(ely)f(to)h
(arise)h(during)e(testing)o(.)39 b(Congr)o(atulations!)-182
581 y(Y)-8 b(ou)23 b(have)f(just)i(con)m(verted)e(me)i(into)f(a)g
(belie)o(ver)g(in)g(formal)g(meth-)-182 681 y(ods.)-182
812 y Fq(Err)o(or)c Fr(4)i Fs(\226)h(A)t Ft(B)t(O)t(RT)h
Fs(Property)c(\(section)h(4.5\):)-83 944 y Fu(Ah,)27
b(good)e(point.)41 b(Y)-8 b(ou)26 b(ar)m(e)g(corr)m(ect,)h(this)g(is)g
(a)f(b)n(ug)o(.)41 b(I'm)26 b(im-)-182 1043 y(pr)m(essed!)58
b(This)31 b(mak)o(es)h(two)g(b)n(ugs)e(you)h(guys)g(have)g(disco)o(ver)
m(ed)-182 1143 y(thr)l(ough)36 b(formal)i(methods)g(that)g(we)h(almost)
f(certainly)f(would)-182 1243 y(ne)o(ver)20 b(have)f(caught)g(any)g
(other)h(way)-5 b(.)-182 1374 y Fq(Err)o(or)19 b Fr(2)i
Fs(\226)h(A)t Ft(B)t(O)t(RT)h Fs(Property)c(\(section)h(4.3\):)-83
1505 y Fu(Y)-8 b(ep,)32 b(another)c(b)n(ug)o(.)50 b(This)30
b(one)e(is)i(an)f(instance)f(of)h(a)g(classic)-182 1605
y(pattern:)k(not)24 b(wr)o(apping)f(a)i(conditional)d(wait-for)n(-e)o
(vents)i(inside)-182 1705 y(a)e(critical)g(section.)30
b(This)23 b(sort)g(of)f(mistak)o(e)g(is)h(very)g(easy)f(to)g(mak)o(e)
-182 1804 y(and)h(happens)f(all)i(the)g(time)h(in)f(our)g(code)o(.)35
b(Thanks)23 b(for)i(catc)o(hing)-182 1904 y(this)20 b(one!)-182
2035 y Fq(Err)o(or)f Fr(5)i Fs(\226)h(E)t Ft(FFI)t(C)t(I)t(E)t(N)t(C)t
(Y)h Fs(Problem)c(\(section)h(4.6\):)-83 2167 y Fu(No,)e(it')m(s)g(a)f
(b)n(ug)o(,)g(b)n(ut)g(since)g(it')m(s)h(just)g(an)e(ef)o(\002ciency)g
(pr)l(oblem)h(it')m(s)-182 2266 y(pr)m(etty)j(low)h(priority)-5
b(.)-182 2398 y Fq(Err)o(or)19 b Fr(3)i Fs(\226)h(A)t
Ft(B)t(O)t(RT)h Fs(Property)c(\(section)h(4.4\):)-83
2529 y Fu(Y)-8 b(ou)19 b(have)o(,)g(howe)o(ver)-9 b(,)18
b(found)g(a)h(\(alr)m(eady)e(known\))h(design)g(\003aw)-6
b(.)-182 2629 y(Ther)m(e)23 b(can)h(be)f(a)h(signi\002cant)e(time)i(la)
o(g)g(between)f(a)h(pr)l(operty)f(be-)-182 2728 y(ing)c(violated)f(and)
g(a)i(task)f(being)g(informed)g(of)g(the)g(violation.)24
b(The)-182 2828 y(pr)l(operty)f(loc)n(k)h(daemons)f(should)f(r)m(eally)
i(r)m(eside)g(in)g(the)g(pr)l(operty)-182 2928 y(database)e(and)g(be)i
(trig)o(g)o(er)m(ed)f(automatically)f(whene)o(ver)h(contr)o(a-)-182
3027 y(dictory)f(information)e(is)k(asserted.)31 b(This)23
b(is)g(on)f(the)g(list)h(of)f(things)-182 3127 y(to)e(do.)-83
3258 y Fq(Question:)33 b Fs(Is)25 b(it)g(not)e(the)i(case,)g(that)f(a)h
(task)f(might)g Fq(ne)o(v)o(er)g Fs(be)-182 3358 y(informed?)-83
3489 y Fu(Ah,)35 b(good)30 b(point!)60 b(I)32 b(had)g(ne)m(glected)e
(to)i(consider)g(the)g(case)-182 3589 y(wher)m(e)c(a)f(ne)o(w)h
(assertion)g(that)f(violates)h(a)f(loc)n(k)h(happens)e(in)i(the)-182
3689 y(middle)36 b(of)h(c)o(hec)n(k-loc)n(ks.)73 b(It')m(s)37
b(har)m(d)f(to)h(g)o(et)f(out)h(of)g(a)f(single-)-182
3788 y(thr)m(eaded)18 b(mind)i(set!)26 b(Thanks)19 b(for)i(pointing)e
(this)h(out.)-83 3920 y Fq(Question:)25 b Fs(But)c(is)g(it)g(an)f
(error?)k(Or)c(is)h(it)g(\223just\224)g(une)o(xpected?)-83
4051 y Fu(.)12 b(.)g(.)74 b(Seriously)31 b(though,)i(the)f(intent)g
(was)g(that)g(tasks)g(would)-182 4151 y(be)c(noti\002ed)f(whene)o(ver)h
(a)h(loc)n(k)o(ed)f(pr)l(operty)h(was)g(violated)f(after)-182
4250 y(initial)g(ac)o(hie)o(vement.)47 b(In)28 b(some)g(cases)h(this)f
(can)g(be)g(important.)-182 4350 y(F)-9 b(or)22 b(e)n(xample)o(,)f(if)h
(a)g(pointing)e(constr)o(aint)g(is)j(violated)d(it)j(might)e(be)-182
4450 y(important)28 b(to)h(know)-6 b(,)31 b(e)o(ven)e(if)h(the)f
(constr)o(aint)g(is)h(automatically)-182 4549 y(r)m(estor)m(ed.)-182
4788 y Fp(5.2)90 b(The)22 b(Pr)n(ogrammer')m(s)e(Answers)h(to)23
4887 y(3)i(General)e(Questions)-83 5126 y Fs(W)-7 b(e)31
b(ask)o(ed)f(Erann)f(Gat)h(three)g(general)f(questions)g(about)g(the)
-182 5225 y(model)20 b(checking)h(ef)n(fort)f(we)i(had)g(carried)e
(out.)30 b(Belo)n(w)22 b(we)g(quote)-182 5325 y(his)e(answers)g(to)h
(each)f(of)g(them.)1974 83 y Fq(Question)g(1:)2073 198
y Fs(Did)h(our)e(w)o(ork)h(ha)n(v)o(e)f(an)o(y)h(impact)f(on)h(your)f
(w)o(ork?)1974 313 y Fq(Answer:)2073 428 y Fu(Y)-8 b(ou')o(ve)20
b(found)e(a)h(number)g(of)h(b)n(ugs)f(that)g(I)h(am)f(fairly)h
(con\002dent)1974 527 y(would)k(not)g(have)f(been)h(found)f(otherwise)o
(.)37 b(One)24 b(of)h(the)f(b)n(ugs)g(r)m(e-)1974 627
y(vealed)29 b(a)h(major)g(design)g(\003aw)g(\(whic)o(h)f(has)h(not)g
(been)f(r)m(esolved)1974 726 y(yet\).)f(So)21 b(I')n(d)g(say)g(you)g
(have)g(had)f(a)i(substantial)e(impact.)28 b(If)21 b(noth-)1974
826 y(ing)c(else)i(you)e(have)g(helped)g(us)h(impr)l(o)o(ve)g(the)f
(quality)g(of)h(our)g(pr)l(od-)1974 926 y(uct)i(well)h(be)n(yond)d
(what)i(we)h(otherwise)g(would)f(have)f(pr)l(oduced.)1974
1159 y Fq(Question)h(2:)2073 1273 y Fs(Ho)n(w)e(serious)f(were)g(the)g
(errors)g(we)g(found?)23 b(An)o(y)16 b(e)o(xamples)g(of)1974
1373 y(what)i(could)e(ha)n(v)o(e)i(gone)e(wrong?)23 b(W)-7
b(ould)18 b(the)o(y)f(only)g(occur)g(rarely)1974 1473
y(or)j(be)g(harmless?)1974 1588 y Fq(Answer:)2073 1702
y Fu(The)35 b(err)l(or)o(s)i(you)d(found)f(wer)m(e)j(the)f(sort)g(that)
g(would)f(mani-)1974 1802 y(fest)29 b(themselves)g(only)f(under)g(very)
h(particular)f(sets)i(of)e(cir)m(cum-)1974 1902 y(stances)16
b(in)m(volving)e(pr)m(ecise)i(timing)o(,)h(so)f(these)g(err)l(or)o(s)i
(r)o(ar)m(ely)e(man-)1974 2001 y(ifest)29 b(themselves.)48
b(This)29 b(mak)o(es)f(them)g(both)f(mor)m(e)i(and)e(less)i(se-)1974
2101 y(rious)i(\226)h(less)g(serious)g(because)e(the)n(y)h(ar)m(e)h
(unlik)o(ely)f(to)g(actually)1974 2201 y(occur)-9 b(,)34
b(mor)m(e)e(serious)g(because)f(if)h(the)n(y)f(occur)h(at)g(all)g(the)n
(y)f(ar)m(e)1974 2300 y(lik)o(ely)d(to)g(occur)f(for)h(the)g(\002r)o
(st)h(time)f(under)f(actual)g(\003ight)f(condi-)1974
2400 y(tions.)45 b(The)27 b(o)o(ver)o(all)g(ar)m(c)o(hitectur)m(e)e(is)
j(designed)e(to)h(be)g(r)l(ob)n(ust)g(in)1974 2499 y(the)21
b(face)f(of)h(suc)o(h)f(err)l(or)o(s)i(\(we)f(have)f(multiple)h(layer)o
(s)g(of)g(softwar)m(e)1974 2599 y(r)m(edundancy\))j(so)k(it)g(is)h
(unlik)o(ely)e(that)g(these)h(err)l(or)o(s)h(would)e(have)1974
2699 y(caused)19 b(pr)l(oblems)h(mor)m(e)h(serious)f(than)g(lost)h
(time)o(,)f(b)n(ut)h(one)e(ne)o(ver)1974 2798 y(knows.)25
b(Every)19 b(b)n(ug)g(is)h(potentially)e(a)i(mission-killer)-9
b(,)19 b(and)f(g)o(ener)n(-)1974 2898 y(ally)j(the)g(ones)g(that)g(do)f
(kill)i(the)f(mission)g(do)g(so)g(in)g(ways)h(that)f(one)1974
2998 y(ne)o(ver)f(ima)o(gines)f(until)h(it)h(happens.)1974
3231 y Fq(Question)f(3:)2073 3345 y Fs(What)j(w)o(as/is)h(your)e
(general)f(attitude)h(to)n(w)o(ards)g(formal)g(meth-)1974
3445 y(ods,)e(before)e(and)i(after)g(this)h(e)o(x)o(ercise?)1974
3560 y Fq(Answer:)2073 3675 y Fu(I)k(used)f(to)h(be)f(very)p
2496 3705 143 4 v 25 w(sk)o(eptical)g(of)h(the)f(utility)h(of)f(formal)
h(meth-)1974 3774 y(ods.)33 b(This)23 b(is)h(at)f(least)g(partly)g(due)
f(to)h(the)g(fact)g(that)g(I)g(had)f(a)h(mis-)1974 3874
y(conception)h(about)i(the)g(way)h(in)g(whic)o(h)f(formal)h(methods)f
(would)1974 3974 y(be)h(used.)44 b(I)27 b(thought)e(that)h
(formal-methods)f(advocates)h(wanted)1974 4073 y(to)20
b(\223pr)l(o)o(ve)g(corr)m(ectness\224)h(of)f(softwar)m(e)h(systems.)26
b(I)20 b(belie)o(ved)f(\(and)1974 4173 y(still)34 b(belie)o(ve\))e
(that)h(that)g(is)h(impossible)o(.)63 b(Howe)o(ver)-9
b(,)36 b(what)d(you)1974 4272 y(have)27 b(been)g(doing)g(is)h
(\002nding)e(places)i(wher)m(e)g(softwar)m(e)g(violates)1974
4372 y(design)20 b(assumptions,)g(whic)o(h)g(is)i(not)e(the)h(same)g
(thing)f(as)h(pr)l(o)o(ving)1974 4472 y(corr)m(ectness.)k(T)-8
b(o)20 b(me)f(you)g(have)g(demonstr)o(ated)e(the)j(utility)f(of)h(this)
1974 4571 y(appr)l(oac)o(h)k(be)n(yond)g(any)i(question.)43
b(I)26 b(would)g(lik)o(e)i(very)e(muc)o(h)g(to)1974 4671
y(learn)20 b(mor)m(e)g(about)f(your)h(work.)1974 4907
y Fv(6)99 b(Conclusion)2073 5126 y Fs(In)29 b(this)g(paper)e(the)h
(results)h(of)f(v)o(erifying)e(the)j(RA)g(Ex)o(ecuti)n(v)o(e)1974
5225 y(ha)n(v)o(e)22 b(been)g(described,)g(and)g(we)h(shall)g(no)n(w)f
(try)h(to)f(present)g(some)1974 5325 y(of)e(our)f(deri)n(v)o(ed)g
(re\003ections.)1839 5574 y(18)p eop
%%Page: 19 19
19 18 bop -182 83 a Fp(6.1)90 b(Analysis)22 b(of)h(the)f(Eff)n(ort)-83
296 y Fs(The)i(major)f(ef)n(fort)f(without)h(doubt)g(went)h(into)f(the)
h(modeling,)-182 395 y(hence)16 b(in)i(obtaining)d(a)20
b(P)t Ft(R)q(O)t(M)t(E)t(L)t(A)h Fs(program)15 b(from)h(the)k(L)t
Ft(I)t(S)t(P)g Fs(pro-)-182 495 y(gram.)50 b(This)29
b(modeling)f(acti)n(vity)g(can)h(be)g(re)o(garded)d(as)k(consist-)-182
594 y(ing)21 b(of)h(three)f(sub-acti)n(vities:)28 b Fu(compr)m
(ehension)p Fs(,)20 b Fu(abstr)o(action)g Fs(and)-182
694 y Fu(tr)o(anslation)p Fs(,)g(see)i(Figure)e(34.)28
b(By)22 b Fu(abstr)o(action)e Fs(we)i(mean)f(the)g(ac-)-182
794 y(ti)n(vity)i(of)f(reducing)g(the)h(program)e(to)i(become)f(a)h
(\002nite)h(state)g(sys-)-182 893 y(tem,)g(small)g(enough)d(for)i(ef)n
(\002cient)h(v)o(eri\002cation.)33 b(This)24 b(task)g(con-)-182
993 y(sists)33 b(of)e(remo)o(ving)f(irrele)n(v)n(ant)g(code,)j
(replacing)e(in\002nite)g(types)-182 1093 y(with)e(interv)n(al)g
(types,)i(limiting)e(the)g(number)e(of)i(tasks)h(running,)-182
1192 y(etc.)70 b(By)35 b Fu(tr)o(anslation)f Fs(we)h(mean)g(the)g(acti)
n(vity)g(of)f(writing)h(the)-182 1292 y(actual)28 b(P)t
Ft(R)q(O)t(M)t(E)t(L)t(A)h Fs(code,)e(for)f(e)o(xample)f(mapping)g(the)
h(property)-182 1391 y(lock)19 b(list)h(in)g(the)h(L)t
Ft(I)t(S)t(P)i Fs(program)17 b(into)i(an)h(array)e(representation)g(in)
-182 1491 y(the)28 b(P)t Ft(R)q(O)t(M)t(E)t(L)t(A)h Fs(program.)41
b(A)26 b(pre-requisite)f(for)g(modeling)f(is)j(a)-182
1591 y(certain)17 b Fu(compr)m(ehension)e Fs(of)j(the)f(source)g
(program,)f(the)k(L)t Ft(I)t(S)t(P)g Fs(pro-)-182 1690
y(gram)g(in)h(this)g(case.)28 b(That)20 b(is,)i(an)f(understanding)d
(of)i(the)h(program)-182 1790 y(that)f(mak)o(es)g(it)h(possible)f(to)g
(perform)e(good)h(abstractions.)127 1979 y
 10656645 12038062 14800896 19997655 25457541 32035717 startTexFig
 127 1979 a
%%BeginDocument: modeling.ps
%Magnification: 0.70
/$F2psDict 200 dict def
$F2psDict begin
$F2psDict /mtrx matrix put
/col-1 {0 setgray} bind def
/col0 {0.000 0.000 0.000 srgb} bind def
/col1 {0.000 0.000 1.000 srgb} bind def
/col2 {0.000 1.000 0.000 srgb} bind def
/col3 {0.000 1.000 1.000 srgb} bind def
/col4 {1.000 0.000 0.000 srgb} bind def
/col5 {1.000 0.000 1.000 srgb} bind def
/col6 {1.000 1.000 0.000 srgb} bind def
/col7 {1.000 1.000 1.000 srgb} bind def
/col8 {0.000 0.000 0.560 srgb} bind def
/col9 {0.000 0.000 0.690 srgb} bind def
/col10 {0.000 0.000 0.820 srgb} bind def
/col11 {0.530 0.810 1.000 srgb} bind def
/col12 {0.000 0.560 0.000 srgb} bind def
/col13 {0.000 0.690 0.000 srgb} bind def
/col14 {0.000 0.820 0.000 srgb} bind def
/col15 {0.000 0.560 0.560 srgb} bind def
/col16 {0.000 0.690 0.690 srgb} bind def
/col17 {0.000 0.820 0.820 srgb} bind def
/col18 {0.560 0.000 0.000 srgb} bind def
/col19 {0.690 0.000 0.000 srgb} bind def
/col20 {0.820 0.000 0.000 srgb} bind def
/col21 {0.560 0.000 0.560 srgb} bind def
/col22 {0.690 0.000 0.690 srgb} bind def
/col23 {0.820 0.000 0.820 srgb} bind def
/col24 {0.500 0.190 0.000 srgb} bind def
/col25 {0.630 0.250 0.000 srgb} bind def
/col26 {0.750 0.380 0.000 srgb} bind def
/col27 {1.000 0.500 0.500 srgb} bind def
/col28 {1.000 0.630 0.630 srgb} bind def
/col29 {1.000 0.750 0.750 srgb} bind def
/col30 {1.000 0.880 0.880 srgb} bind def
/col31 {1.000 0.840 0.000 srgb} bind def

end
save
147.0 621.5 translate
1 -1 scale

/cp {closepath} bind def
/ef {eofill} bind def
/gr {grestore} bind def
/gs {gsave} bind def
/sa {save} bind def
/rs {restore} bind def
/l {lineto} bind def
/m {moveto} bind def
/rm {rmoveto} bind def
/n {newpath} bind def
/s {stroke} bind def
/sh {show} bind def
/slc {setlinecap} bind def
/slj {setlinejoin} bind def
/slw {setlinewidth} bind def
/srgb {setrgbcolor} bind def
/rot {rotate} bind def
/sc {scale} bind def
/sd {setdash} bind def
/ff {findfont} bind def
/sf {setfont} bind def
/scf {scalefont} bind def
/sw {stringwidth} bind def
/tr {translate} bind def
/tnt {dup dup currentrgbcolor
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add srgb}
  bind def
/shd {dup dup currentrgbcolor 4 -2 roll mul 4 -2 roll mul
  4 -2 roll mul srgb} bind def
/$F2psBegin {$F2psDict begin /$F2psEnteredState save def} def
/$F2psEnd {$F2psEnteredState restore end} def

$F2psBegin
10 setmiterlimit
n 0 792 m 0 0 l 612 0 l 612 792 l cp clip
 0.04200 0.04200 sc
7.500 slw
% Arc
gs  [66.7] 0 sd
n 2325.0 6975.0 300.0 180.0 0.0 arcn
gs col-1 s gr
 gr
 [] 0 sd
% Polyline
gs  clippath
2370 3447 m 2400 3327 l 2430 3447 l 2430 3285 l 2370 3285 l  cp clip
n 2400 6600 m 2400 3300 l gs col-1 s gr gr

% arrowhead
n 2370 3447 m 2400 3327 l 2430 3447 l 2400 3447 l 2370 3447 l  cp gs 0.00 setgray ef gr  col-1 s
% Polyline
gs  clippath
5553 6570 m 5673 6600 l 5553 6630 l 5715 6630 l 5715 6570 l  cp clip
n 2400 6600 m 5700 6600 l gs col-1 s gr gr

% arrowhead
n 5553 6570 m 5673 6600 l 5553 6630 l 5553 6600 l 5553 6570 l  cp gs 0.00 setgray ef gr  col-1 s
% Polyline
 [66.7] 0 sd
gs  clippath
4675 4283 m 4780 4219 l 4717 4325 l 4832 4211 l 4789 4168 l  cp clip
n 2400 6600 m 4800 4200 l gs col-1 s gr gr
 [] 0 sd
% arrowhead
n 4675 4283 m 4780 4219 l 4717 4325 l 4696 4304 l 4675 4283 l  cp gs 0.00 setgray ef gr  col-1 s
/Times-Roman ff 180.00 scf sf
3525 5250 m
gs 1 -1 sc (modeling) col-1 sh gr
/Times-Roman ff 180.00 scf sf
1875 6900 m
gs 1 -1 sc (LISP program) col-1 sh gr
/Times-Roman ff 180.00 scf sf
4050 3975 m
gs 1 -1 sc (PROMELA program) col-1 sh gr
/Times-Roman ff 180.00 scf sf
4950 6900 m
gs 1 -1 sc (translation) col-1 sh gr
/Times-Roman ff 180.00 scf sf
2550 3300 m
gs 1 -1 sc (abstraction) col-1 sh gr
/Times-Roman ff 180.00 scf sf
1875 7500 m
gs 1 -1 sc (comprehension) col-1 sh gr
showpage
$F2psEnd
rs
%%EndDocument

 endTexFig
 -83 3770 a Fo(Figure)30 b(34.)g(Modeling)g(=)g(comprehension)g
Fr(+)f Fo(ab\255)-83 3870 y(straction)23 b Fr(+)g Fo(translation)-83
4129 y Fs(The)45 b Fu(compr)m(ehension)d Fs(acti)n(vity)j(w)o(as)h
(clearly)e(the)h(hardest,)-182 4229 y(since)26 b(the)j(L)t
Ft(I)t(S)t(P)g Fs(program)24 b(used)i(man)o(y)f(macro-de\002nitions,)g
(and)-182 4329 y(since)g(we)h(did)f(not)h(ha)n(v)o(e)f(direct)g(access)
h(to)g(the)f(programmer)e(for)-182 4428 y(e)o(xplanations.)63
b(The)33 b Fu(tr)o(anslation)g Fs(phase)g(w)o(as)i(also)f(non-tri)n
(vial)-182 4528 y(due)27 b(to)i(the)f(strength)f(of)h(the)j(L)t
Ft(I)t(S)t(P)g Fs(language)26 b(compared)g(to)j(the)-182
4628 y(weak)o(er)34 b(P)t Ft(R)q(O)t(M)t(E)t(L)t(A)j
Fs(language.)62 b(Basically)36 b(L)t Ft(I)t(S)t(P)g Fs(is)e(probably)
-182 4727 y(one)16 b(of)g(the)h(most)g(po)n(werful)d(languages)i
(around)e(since)j(it)h(pro)o(vides)-182 4827 y(a)k(combination)d(of)j
(untyped)e(functional)g(programming)e(and)j(im-)-182
4926 y(perati)n(v)o(e)e(object)h(oriented)f(programming.)j(Hence,)e
(the)h(mapping)-182 5026 y(often)f(resulted)i(in)f(code)g(\223blo)n(w)g
(up\224.)29 b(Interestingly)20 b(enough,)g(the)-182 5126
y Fu(abstr)o(action)25 b Fs(acti)n(vity)g(w)o(as)j(the)e(easiest.)44
b(Once)27 b(a)f(piece)h(of)f(code)-182 5225 y(w)o(as)21
b(understood,)d(deciding)h(what)i(to)f(k)o(eep)g(and)h(what)f(to)h
(remo)o(v)o(e)-182 5325 y(w)o(as)g(often)e(quite)h(clear)-5
b(.)2073 83 y(Of)18 b(course,)f(the)g(notion)f(of)h(translation)f(is)i
(only)f(rele)n(v)n(ant)f(in)h(the)1974 183 y(situation)i(where)g(model)
f(checking)g(is)j(applied)d(to)i(an)f(already)g(e)o(x-)1974
282 y(isting)f(program,)d(as)k(w)o(as)f(the)g(case)g(here.)24
b(When)17 b(model)g(checking)1974 382 y(is)27 b(instead)f(applied)f
(during)f(the)j(early)e(design)h(phases,)h(before)e(a)1974
482 y(program)19 b(is)k(written,)e(modeling)f(becomes)h(much)g(more)f
(lik)o(e)i(tra-)1974 581 y(ditional)d(programming)e(acti)n(vity)-5
b(.)2073 711 y(The)37 b(modeling)d(ef)n(fort)i(took)f(2)i(people)e
(about)h(6\2268)f(weeks.)1974 810 y(The)22 b(v)o(eri\002cation)f(ef)n
(fort)g(w)o(as)i(in)g(contrast)e(small,)i(about)f(a)h(week.)1974
910 y(Once)28 b(the)g(model)g(w)o(as)h(formulated,)f(it)h(w)o(as)g
(easy)f(to)h(formulate)1974 1009 y(the)21 b(properties)e(to)i(be)g(v)o
(eri\002ed,)f(either)h(in)g(terms)g(of)f(assertions)h(or)1974
1109 y(in)j(terms)h(of)h(L)m Ft(T)t(L)g Fs(formulae.)36
b(The)24 b(model)f(check)o(er)g(found)g(the)h(5)1974
1209 y(errors)19 b(right)h(a)o(w)o(ay)-5 b(.)1974 1444
y Fp(6.2)90 b(Language)21 b(Considerations)2075 1679
y Fs(P)t Ft(R)q(O)t(M)t(E)t(L)t(A)27 b Fs(w)o(as)d(chosen)e(as)i(the)f
(modeling)e(language)g(due)i(to)1974 1778 y(its)i(support)e(of)h
(dynamic)f(process)h(creation.)36 b(RA)25 b(tasks)g(are)g(cre-)1974
1878 y(ated)33 b(and)f(deleted)h(dynamically)e(o)o(v)o(er)g(time,)36
b(and)d(we)g(initially)1974 1978 y(considered)17 b(this)j(as)g(being)e
(important.)23 b(As)d(it)g(turns)f(out)g(ho)n(we)n(v)o(er)m(,)1974
2077 y(our)g(v)o(eri\002cations)g(only)h(in)m(v)n(olv)o(e)e(a)j(static)
g(number)d(of)i(processes.)2073 2207 y(The)34 b(P)t Ft(R)q(O)t(M)t(E)t
(L)t(A)h Fs(language)30 b(seen)h(as)i(a)f(notation)e(represents)1974
2306 y(v)o(ery)18 b(much)h(the)h(state)g(of)f(the)h(art)g(in)f(model)g
(checking)f(languages,)1974 2406 y(and)26 b(is)h(acceptable)e(for)g
(the)i(problem.)41 b(Ho)n(we)n(v)o(er)m(,)26 b(a)g(fe)n(w)g(highly)1974
2506 y(recommended)c(impro)o(v)o(ements)f(for)k(the)f(language)f(came)i
(out)f(as)1974 2605 y(a)d(result)h(of)f(our)f(ef)n(forts,)g(as)i
(documented)d(in)i([4)o(].)28 b(Some)21 b(of)g(these)1974
2705 y(recommendations)28 b(ha)n(v)o(e)i(been)g(adopted)g(in)h(the)g
(latest)g(v)o(ersion)1974 2805 y(of)g(S)t Ft(P)t(I)t(N)r
Fs(,)i(inspired)c(by)g(our)g(w)o(ork)g(during)f(se)n(v)o(eral)h(email)h
(com-)1974 2904 y(munications)18 b(with)h(Gerard)f(Holzmann.)23
b(First)d(of)f(all,)h(the)f(lack)g(of)1974 3004 y(procedural)c
(abstraction)h(w)o(as)j(felt)f(as)g(a)g(clear)g(dra)o(wback.)k(Macros)
1974 3103 y(could)i(be)h(used,)h(b)n(ut)f(the)o(y)g(don')o(t)e(v)o(ery)
h(well)i(support)e(local)h(v)n(ari-)1974 3203 y(ables)j(nor)g
(parameter)e(type)i(checking)f(\(not)g(to)h(mention)f(typing)1974
3303 y(\223)p Fl(n)p Fs(\224)22 b(at)h(the)f(end)g(of)h(each)f(macro)f
(de\002nition)g(line\).)32 b(Furthermore,)1974 3402 y(the)26
b(S)t Ft(P)t(I)t(N)h Fs(tool)d(set)h(does)f(not)g(support)f(macros)g(v)
o(ery)h(well,)h(since)1974 3502 y(the)32 b(type)g(check)o(er)f(as)i
(well)g(as)g(the)f(simulator)f(cannot)h(refer)f(to)1974
3602 y(lines)i(within)g(macros.)62 b(This)33 b(means)g(that)g(when)f
(for)h(e)o(xample)1974 3701 y(simulating)18 b(the)i(result)f(of)g(a)g
(v)o(eri\002cation,)f(one)h(cannot)f(really)h(fol-)1974
3801 y(lo)n(w)27 b(what)g(goes)g(on,)h(and)f(one)g(has)g(to)g(e)o
(xamine)f(instead)h(the)g(er)n(-)1974 3900 y(ror)21 b(trace)h(in)g(an)g
(ad)g(hoc)f(w)o(ay)h(\(loading)e(it)j(into)e(emacs)h(for)f(e)o(xam-)
1974 4000 y(ple\).)36 b(The)24 b(adv)n(antage)e(of)i(macros)g(is)h
(that)f(there)g(is)h(no)f(o)o(v)o(erhead)1974 4100 y(in)e(using)g
(them:)29 b(macro)22 b(calls)h(are)f(simply)g(e)o(xpanded)e(out)i
(before)1974 4199 y(the)f(model)f(check)o(er)f(is)j(applied.)k(These)20
b(observ)n(ations)f(lead)i(Ger)n(-)1974 4299 y(ard)30
b(Holzmann)f(to)h(incorporate)e(the)j(\223inline\224)e(procedures)f
(into)1976 4399 y(P)t Ft(R)q(O)t(M)t(E)t(L)t(A)j Fs(as)d(announced)d
(in)j(the)i(S)t Ft(P)t(I)t(N)h Fs(ne)n(wsletter)c(22)h(\(April)1974
4498 y(1998\).)23 b(Also)d(nested)g(atomic)g(constructs)f(were)h(re)o
(garded)d(useful,)1974 4598 y(and)k(consequently)f(incorporated)f(into)
k(P)t Ft(R)q(O)t(M)t(E)t(L)t(A)r Fs(.)32 b(Still)23 b(on)e(the)1974
4697 y(wish)27 b(list)g(are)f(local)h(v)n(ariables,)g(enumerated)d
(types,)j(type)f(equa-)1974 4797 y(tions)19 b(and)h(constant)e
(de\002nitions.)24 b(Generally)-5 b(,)18 b(a)i(complete)f(a)n(v)n(oid-)
1974 4897 y(ance)h(of)g(macro)f(de\002nitions)g(w)o(ould)h(be)g
(preferable.)2073 5026 y(In)j([7)o(])g(it)h Fu(is)g Fs(described)d(ho)n
(w)i(procedures)d(can)j(be)g(modeled)e(in)1974 5126 y(terms)j(of)f
(processes)h(that)g(are)g(spa)o(wned,)f(and)h(which)f(communi-)1974
5225 y(cate)i(their)f(result)g(back)g(on)g(a)h(channel.)37
b(That)24 b(is,)i(a)f(procedure)d(is)1974 5325 y(modeled)16
b(as)i(a)g(process,)f(and)g(each)g(time)g(the)g(procedure)e(is)k
(called,)1839 5574 y(19)p eop
%%Page: 20 20
20 19 bop -182 83 a Fs(such)30 b(a)i(process)e(is)i(spa)o(wned.)57
b(W)-7 b(e)32 b(tried)f(this)g(solution,)i(b)n(ut)e(it)-182
183 y(turned)d(out)i(to)g(cause)g(tw)o(o)h(problems.)53
b(First)31 b(of)e(all,)35 b(S)t Ft(P)t(I)t(N)e Fs(had)-182
282 y(a)28 b(limit)g(on)g(the)g(number)e(of)i(processes)g(allo)n(wed)f
(to)h(be)g(created,)-182 382 y(and)18 b(this)h(limit)h(\()p
Fr(256)p Fs(\))d(w)o(as)i(quickly)f(reached)f(in)i(a)h(program)c(using)
-182 482 y(a)29 b(lot)g(of)g(procedural)e(abstraction.)50
b(The)29 b(problem)e(w)o(as,)32 b(that)d(in)-180 581
y(S)t Ft(P)t(I)t(N)c Fs(processes)c(were)h(not)g(killed)g(when)f(the)o
(y)g(terminated.)29 b(Due)-182 681 y(to)22 b(an)f(email)h(con)m(v)o
(ersation)d(with)j(Gerard)f(Holzmann,)h(S)t Ft(P)t(I)t(N)j
Fs(w)o(as)-182 780 y(changed)19 b(such)j(that)g(processes)f(were)g
(killed)h(and)f(remo)o(v)o(ed)e(from)-182 880 y(the)30
b(memory)g(upon)f(termination.)55 b(Ho)n(we)n(v)o(er)m(,)32
b(this)f(did)g(not)f(re-)-182 980 y(mo)o(v)o(e)18 b(the)i(second)g
(problem,)e(that)i(modeling)f(procedure)e(calls)k(as)-182
1079 y(process)d(spa)o(wning)e(is)k(e)o(xpensi)n(v)o(e,)c(and)i(slo)n
(ws)h(do)n(wn)e(v)o(eri\002cation)-182 1179 y(considerably)-5
b(.)50 b(When)29 b(we)h(went)g(o)o(v)o(er)e(to)i(using)f(macros,)i(v)o
(eri-)-182 1279 y(\002cations)c(terminated)f(an)h(order)f(of)h
(magnitude)f(f)o(aster)-5 b(.)47 b(A)28 b(third)-182
1378 y(solution)22 b(is)j(to)e(model)g(each)g(procedure)e(by)i(a)h
(process,)g(which)f(is)-182 1478 y(spa)o(wned)g(only)h(once,)h(and)f
(where)h(each)f(procedure)e(call)k(then)e(is)-182 1577
y(modeled)16 b(solely)i(by)g(a)h(communication)c(to)j(that)h(process.)
24 b(Hence,)-182 1677 y(there)d(is)j(only)d(one)h(\()p
Fr(1)p Fs(\))f(spa)o(wning)g(for)h(each)g(procedure)d
Fu(declar)o(a-)-182 1777 y(tion)p Fs(,)k(in)h(contrast)e(to)i(each)f
(procedure)e Fu(call)i Fs(as)h(suggested)e(in)i([7)o(].)-182
1876 y(W)-7 b(e)21 b(ha)n(v)o(e)f(not)f(e)o(xperimented)f(with)i(this)h
(solution.)-182 2134 y Fp(6.3)90 b(T)-8 b(ool)22 b(Considerations)-83
2391 y Fs(Ev)o(en)39 b(though)g(manual)g(translation)h(w)o(as)h(re)o
(garded)c(harder)-182 2491 y(than)23 b(manual)f(abstraction,)h(we)h
(belie)n(v)o(e)f(that)h(translation)f(can)g(be)-182 2591
y(mostly)15 b(fully)h(automated,)f(at)h(least)h(for)e(traditional)g
(programming)-182 2690 y(languages)26 b(such)i(as)j(J)p
Ft(A)-5 b(V)g(A)30 b Fs(\(in)e(contrast)f(to)k(L)t Ft(I)t(S)t(P)r
Fs(\))d(whereas)f(ab-)-182 2790 y(straction)c(requires)f(some)i(human)e
(guided)g(interacti)n(v)o(e)g(tool)h(sup-)-182 2890 y(port.)h(Hence,)19
b(the)h(abo)o(v)o(e)e(e)o(xperiences)h(suggest)g(that)h(the)g(transla-)
-182 2989 y(tion)h(acti)n(vity)f(should)h(be)g(automated)f(as)i(much)e
(as)i(possible;)f(per)n(-)-182 3089 y(haps)31 b(a)h(model)f(check)o(er)
f(could)h(e)n(v)o(en)g(be)g(\223hardwired\224)f(for)h(the)-182
3188 y(programming)14 b(language)i(\(thereby)f(a)n(v)n(oiding)i(the)h
(indirect)e(trans-)-182 3288 y(lation)26 b(into)g(a)h(modelchecking)c
(language\).)42 b(Abstraction,)27 b(ho)n(w-)-182 3388
y(e)n(v)o(er)m(,)22 b(is)j(not)e(lik)o(ely)g(to)h(be)g(easily)f
(automated,)g(and)g(we)h(therefore)-182 3487 y(suggest)i(an)h
(interacti)n(v)o(e)e(tool,)j(an)e Fu(abstr)o(action\226workbenc)o(h)p
Fs(,)f(for)-182 3587 y(supporting)f(such)j(abstractions.)43
b(W)m(ith)27 b(such)g(a)g(tool,)h(one)e(could)-182 3687
y(for)c(e)o(xample)f(annotate)h(a)h(complete)f(program)e(with)j
Fu(abstr)o(action)-182 3786 y(information)p Fs(,)f(such)g(as:)31
b Fu(Putting)22 b(a)h(maximal)f(bound)f(on)i(number)-182
3886 y(of)c(iter)o(ations)g(in)g(a)h(loop)p Fs(,)e Fu(Limiting)h(an)g
(in\002nite)f(\(or)i(big\))e(type)h(to)h(a)-182 3985
y(\002nite)h(\(and)f(small\))h(subtype)p Fs(,)g Fu(Changing)f(the)h
(type)h(of)f(a)h(variable)o(,)-182 4085 y(and)29 b(c)o(hanging)f(all)i
(r)m(elated)g(oper)o(ations)p Fs(,)h(or)f Fu(Omitting)o(,)j(r)m(eplac-)
-182 4185 y(ing)o(,)26 b(adding)e(code)p Fs(.)39 b(Also)26
b(more)f(automated)f(capabilities)h(could)-182 4284 y(be)20
b(considered)e(such)i(as)h(for)f(e)o(xample)e(program)g(slicing.)-83
4428 y(W)-7 b(e)24 b(imagine)d(that)i(the)f(tool)g(will)h(allo)n(w)g
(the)f(user)g(to)h(mak)o(e)f(ar)n(-)-182 4528 y(bitrary)c(\(sound)g(as)
i(well)g(as)g(unsound\))d(modi\002cations)h(to)h(his)h(pro-)-182
4628 y(gram,)32 b(and)e(not)g(just)h(sound)e(modi\002cations)g(that)i
(are)f(\223correct\224)-182 4727 y(in)24 b(some)g(sense.)38
b(In)24 b(other)f(w)o(ords,)i(it)g(is)g(important)e(to)h(note,)h(that)
-182 4827 y(we)18 b(ha)n(v)o(e)g(not)g(pro)o(v)o(ed)e(the)i(abstracted)
h(P)t Ft(R)q(O)t(M)t(E)t(L)t(A)j Fs(program)16 b(to)i(be)-182
4926 y(\223correct\224)26 b(wrt.)46 b(to)27 b(the)i(L)t
Ft(I)t(S)t(P)h Fs(program.)44 b(That)27 b(is,)i(we)f(ha)n(v)o(e)e
Fu(not)-182 5026 y Fs(sho)n(wn)j(that)i(if)g(a)g(property)e(holds)h(in)
h(the)h(P)t Ft(R)q(O)t(M)t(E)t(L)t(A)i Fs(program)-182
5126 y(it)24 b(also)h(holds)f(in)g(the)i(L)t Ft(I)t(S)t(P)h
Fs(program.)34 b(Such)24 b(abstraction)f(proofs)-182
5225 y(are)30 b(of)g(course)f(of)h(big)g(interest,)i(and)d(computer)g
(aided)g(support)-182 5325 y(for)c(such)g(correct)g(abstractions)g(is)i
(ob)o(viously)d(desirable.)41 b(Some)1974 83 y(abstractions)17
b(can)h(be)h(done)e(fully)h(automatically)-5 b(,)16 b(such)i(as)h(for)f
(e)o(x-)1974 183 y(ample)27 b(program)f(slicing.)48 b(More)27
b(sophisticated)g(approaches)f(to)1974 282 y(abstraction)19
b(ha)n(v)o(e)g(been)h(attempted)f(based)g(on)h(theorem)f(pro)o(ving,)
1974 382 y(where)30 b(a)h(theorem)f(pro)o(v)o(er)e(is)k(used)f(to)g
(formulate)e(abstractions)1974 482 y(and)17 b(pro)o(v)o(e)f(them)h
(correct,)g(see)h(for)f(e)o(xample)f([5)o(])i([6)o(].)25
b(Some)17 b(w)o(ork)1974 581 y(tries)27 b(to)f(automate)g(these)g(more)
g(sophisticated)f(abstractions)h([1)o(])1974 681 y([2)o(])e([3)o(].)36
b(The)26 b(P)t Ft(V)t(S)h Fs(interacti)n(v)o(e)22 b(theorem)h(pro)o(v)o
(er)e([8])j(has)g(a)g(gen-)1974 780 y(eral)f(higher)f(order)g(logic,)h
(allo)n(wing)f(speci\002cation)h(and)f(v)o(eri\002ca-)1974
880 y(tion)e(of)h(general)e(in\002nite)i(state)g(transition)f(systems.)
27 b(P)o(articularly)1974 980 y(interesting)15 b(is)i(the)f(current)f
(ef)n(fort)g(to)h(ef)n(fecti)n(v)o(ely)e(inte)o(grate)h(model)1974
1079 y(checking)j(into)k(P)t Ft(V)t(S)h Fs(\(as)e(described)e(in)h([8)o
(]\).)2073 1202 y(In)f(general,)e(such)i(proofs)e(are,)h(ho)n(we)n(v)o
(er)m(,)f(v)o(ery)g(hard)h(to)h(create,)1974 1302 y(and)k(we)i(belie)n
(v)o(e,)e(that)h(just)h(the)f(abo)o(v)o(e)e(mentioned)g
(abstraction\226)1974 1401 y(w)o(orkbench)i(could)i(be)g
Fu(e)n(xtr)m(emely)i Fs(useful,)f(although)e(simpler)h(in)1974
1501 y(purpose.)35 b(Interestingly)23 b(enough)f(this)j(simpler)e
(approach)f(is)j(not)1974 1601 y(e)n(v)o(en)f(yet)h(state)h(of)f(the)g
(art.)39 b(W)-7 b(e)27 b(belie)n(v)o(e)d(that)h(a)g(decent)g(purpose)
1974 1700 y(of)g(applying)e(model)h(checking)g(is)i(to)g(\002nd)e
(errors)h(rather)f(than)h(to)1974 1800 y(pro)o(v)o(e)14
b(correctness,)h(and)h(for)f(this)i(purpose)d(such)i(a)g(simpler)g
(tool)f(is)1974 1900 y(useful.)23 b(Such)15 b(a)h(tool)g(should)f(in)h
(addition)e(support)h(strong)f(v)o(ersion)1974 1999 y(control,)20
b(since)h(such)f(annotations)g(may)g(be)h(changed)e(quite)i(often)1974
2099 y(in)f(the)g(early)g(phases)g(of)g(the)g(v)o(eri\002cation)f(acti)
n(vity)-5 b(.)1974 2323 y Fp(6.4)90 b(Closing)22 b(Remarks)2073
2547 y Fs(W)-7 b(e)24 b(re)o(gard)d(the)i(e)o(x)o(ercise)f(as)i(highly)
d(successful)i(in)g(the)g(sense)1974 2647 y(that)j(we)h(found)d(\002)n
(v)o(e)i(errors)g(quite)g(easily)-5 b(,)27 b(once)f(the)g(model)f(w)o
(as)1974 2746 y(constructed.)45 b(The)27 b(errors)g(were)g(all)h
(classical)g(concurrenc)o(y)c(re-)1974 2846 y(lated)h(errors,)h(where)f
(unforeseen)e(inter)n(-lea)n(vings)i(between)f(pro-)1974
2946 y(cesses)c(caused)e(undesired)g(e)n(v)o(ents)g(to)h(happen.)k
(According)17 b(to)i(the)1974 3045 y(RA)25 b(programming)c(team,)26
b(the)f(ef)n(fort)e(has)i(had)f(a)h(major)f(impact,)1974
3145 y(locating)i(errors)h(that)h(w)o(ould)f(probably)e(not)i(ha)n(v)o
(e)g(been)g(located)1974 3244 y(otherwise,)19 b(and)h(identifying)e(a)j
(major)e(design)h(\003a)o(w)-5 b(.)2073 3367 y(The)20
b(major)f(ef)n(fort)g(consisted)g(in)i(b)n(uilding)d(the)i(model,)f(b)n
(ut)h(we)1974 3467 y(claim)g(that)h(this)g(acti)n(vity)f(can)h(be)f
(made)g(much)g(more)f(ef)n(\002cient)i(by)1974 3567 y(pro)o(viding)29
b(translation)j(and)g(abstraction)f(tools.)62 b(Furthermore,)1974
3666 y(the)26 b(better)f(the)h(modeling)e(language,)h(the)h(easier)f
(the)h(modeling.)1974 3766 y(Especially)31 b(if)h(one)f(considers)g
(using)h(a)g(model)f(check)o(er)f(in)i(the)1974 3865
y(early)24 b(stages)i(of)e(systems)i(design,)f(before)e(programming)f
(is)k(be-)1974 3965 y(gun,)g(a)h(nice)f(notation)f(is)i(absolutely)e(a)
i Fu(must)p Fs(.)43 b(These)26 b(consider)n(-)1974 4065
y(ations)f(ha)n(v)o(e)g(de\002ned)f(the)h(research)f(agenda)g(within)h
(the)i(A)p Ft(U)t(T)s(O)t Fs(-)1976 4164 y Ft(M)t(A)m(T)t(E)t(D)e
Fs(S)t Ft(O)t(F)t(T)t(W)l(A)t(R)t(E)h Fs(E)t Ft(N)t(G)t(I)t(N)t(E)t(E)t
(R)t(I)t(N)t(G)e Fs(group)19 b(at)j(N)m(ASA)g(Ames.)1974
4264 y(W)-7 b(e)32 b(belie)n(v)o(e)f(that)g(v)o(eri\002cation)f
(techniques)g(should)g(be)h(applied)1974 4364 y(to)24
b(the)g(languages)f(in)h(use,)h(and)e(hence)h(our)f(current)g(ef)n
(forts)g(ha)n(v)o(e)1974 4463 y(been)18 b(directed)g(to)n(w)o(ards)j(J)
p Ft(A)-5 b(V)g(A)22 b Fs(and)e(U)t Ft(M)t(L)r Fs(.)25
b(As)20 b(a)g(more)e(long)g(term)1974 4563 y(goal)j(we)h(ha)n(v)o(e)g
(interest)f(in)h(applying)e(v)o(eri\002cation)h(techniques)f(to)1974
4662 y(higher)f(le)n(v)o(el)h(languages)e(as)j(well.)1974
4912 y Fv(Refer)n(ences)1984 5142 y Fa([1])41 b(S.)29
b(Bensalem,)k(Y)-10 b(.)30 b(Lakhnech,)j(and)e(S.)e(Owre.)61
b(Computing)31 b(Ab-)2112 5234 y(stractions)21 b(of)g(In\002nite)g
(State)f(Systems)h(Compositionally)h(and)f(Au-)2112 5325
y(tomatically)-5 b(.)18 b(In)d Fb(Computer)o(-Aided)h(V)-8
b(eri\002cation,)15 b(CA)-8 b(V'98)p Fa(,)15 b(number)1839
5574 y Fs(20)p eop
%%Page: 21 21
21 20 bop -44 83 a Fa(1427)22 b(in)e(Lecture)g(Notes)h(in)f(Computer)h
(Science,)g(pages)g(319\226331.)-44 174 y(Springer)o(-V)-8
b(erlag,)18 b(1998.)-173 262 y([2])42 b(S.)20 b(Bensalem,)h(Y)-10
b(.)21 b(Lakhnech,)i(and)e(S.)f(Owre.)33 b(InV)-8 b(eSt:)27
b(A)20 b(T)-6 b(ool)21 b(for)-44 353 y(the)15 b(V)-8
b(eri\002cation)15 b(of)g(In)m(v)n(ariants.)k(In)d Fb(Computer)o
(-Aided)f(V)-8 b(eri\002cation,)-44 444 y(CA)g(V'98)p
Fa(,)16 b(number)i(1427)g(in)f(Lecture)f(Notes)h(in)g(Computer)g
(Science,)-44 535 y(pages)j(505\226510.)h(Springer)o(-V)-8
b(erlag,)18 b(1998.)-173 623 y([3])42 b(S.)21 b(Graf)h(and)h(H.)f
(Saidi.)37 b(Construction)23 b(of)f(Abstract)g(State)g(Graphs)-44
714 y(with)f(PVS.)33 b(In)21 b Fb(Computer)o(-Aided)g(V)-8
b(eri\002cation,)22 b(CA)-8 b(V'97)p Fa(,)21 b(Lecture)-44
805 y(Notes)e(in)g(Computer)g(Science.)g(Springer)o(-V)-8
b(erlag,)18 b(1997.)-173 892 y([4])42 b(K.)22 b(Ha)o(v)o(elund,)h(M.)f
(Lo)n(wry)-5 b(,)24 b(and)f(J.)e(Penix.)38 b(F)o(ormal)22
b(Analysis)h(of)f(a)-44 984 y(Space)f(Craft)g(Controller)g(using)h
(SPIN.)33 b(T)-5 b(echnical)22 b(report,)g(N)m(ASA)-44
1075 y(Ames)d(Research)g(Center)m(,)g(California,)f(1997.)-173
1162 y([5])42 b(K.)18 b(Ha)o(v)o(elund)i(and)g(N.)e(Shankar)l(.)28
b(Experiments)20 b(in)f(Theorem)g(Pro)o(v-)-44 1254 y(ing)k(and)g
(Model)h(Checking)g(for)f(Protocol)f(V)-8 b(eri\002cation.)39
b(In)23 b(M.-C.)-44 1345 y(Gaudel)f(and)f(J.)g(W)-6 b(oodcock,)23
b(editors,)e Fb(FME'96:)28 b(Industrial)21 b(Bene-)-44
1436 y(\002t)d(and)h(Advances)h(in)e(F)-8 b(ormal)19
b(Methods)p Fa(,)g(v)o(olume)g(1051)g(of)g Fb(Lectur)m(e)-44
1528 y(Notes)e(in)f(Computer)h(Science)p Fa(,)h(pages)g(662\226681.)g
(Springer)o(\226V)-8 b(erlag,)-44 1619 y(1996.)-173 1706
y([6])42 b(K.)32 b(Ha)o(v)o(elund)h(and)h(N.)e(Shankar)l(.)72
b(A)32 b(Mechanized)j(Re\002nement)-44 1797 y(Proof)26
b(for)g(a)h(Garbage)g(Collector)l(.)51 b Fb(F)-8 b(ormal)26
b(Aspects)h(of)f(Comput-)-44 1889 y(ing)p Fa(,)19 b(1998.)28
b(Submitted)19 b(for)g(re)n(vie)n(w)-5 b(.)-173 1976
y([7])42 b(G.)22 b(Holzmann.)39 b Fb(The)22 b(Design)h(and)h(V)-8
b(alidation)22 b(of)h(Computer)g(Pr)m(o-)-44 2067 y(tocols)p
Fa(.)k(Prentice)19 b(Hall,)f(1991.)-173 2154 y([8])42
b(S.)29 b(Owre,)k(S.)d(Rajan,)j(J.)d(Rushby)-5 b(,)34
b(N.)c(Shankar)m(,)k(and)d(M.)g(Sri)n(v)n(as.)-44 2246
y(PVS:)24 b(Combining)i(Speci\002cation,)h(Proof)e(Checking,)i(and)f
(Model)-44 2337 y(Checking.)21 b(In)16 b(R.)g(Alur)f(and)i(T)-6
b(.)15 b(A.)h(Henzinger)m(,)h(editors,)f Fb(Computer)o(-)-44
2428 y(Aided)25 b(V)-8 b(eri\002cation,)27 b(CA)-8 b(V)24
b('96)p Fa(,)j(number)f(1102)h(in)e(Lecture)g(Notes)-44
2520 y(in)h(Computer)h(Science,)h(pages)g(411\226414,)i(Ne)n(w)c
(Brunswick,)j(NJ,)-44 2611 y(July/August)20 b(1996.)g(Springer)o(-V)-8
b(erlag.)-173 2698 y([9])42 b(B.)15 b(Pell,)g(E.)f(Gat,)i(R.)f(K)n
(eesing,)i(N.)e(Muscettola,)h(and)h(B.)e(Smith.)k(Plan)-44
2790 y(Ex)o(ecution)d(for)f(Autonomous)j(Spacecrafts.)h(In)c
Fb(Pr)m(oceedings)i(of)e(the)-44 2881 y(1997)h(International)f(J)n
(oint)g(Confer)m(ence)h(on)g(Arti\002cial)e(Intellig)o(ence)p
Fa(,)-44 2972 y(1997.)1839 5574 y Fs(21)p eop
%%Trailer
end
userdict /end-hook known{end-hook}if
%%EOF
